!function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=7)}([function(t,n,e){"use strict";var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var t={};return function(n){if(void 0===t[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}t[n]=e}return t[n]}}(),a=[];function c(t){for(var n=-1,e=0;e<a.length;e++)if(a[e].identifier===t){n=e;break}return n}function s(t,n){for(var e={},r=[],o=0;o<t.length;o++){var i=t[o],s=n.base?i[0]+n.base:i[0],l=e[s]||0,u="".concat(s," ").concat(l);e[s]=l+1;var d=c(u),h={css:i[1],media:i[2],sourceMap:i[3]};-1!==d?(a[d].references++,a[d].updater(h)):a.push({identifier:u,updater:m(h,n),references:1}),r.push(u)}return r}function l(t){var n=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var o=e.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(t){n.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(n);else{var a=i(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}return n}var u,d=(u=[],function(t,n){return u[t]=n,u.filter(Boolean).join("\n")});function h(t,n,e,r){var o=e?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=d(n,o);else{var i=document.createTextNode(o),a=t.childNodes;a[n]&&t.removeChild(a[n]),a.length?t.insertBefore(i,a[n]):t.appendChild(i)}}function f(t,n,e){var r=e.css,o=e.media,i=e.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),i&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var v=null,p=0;function m(t,n){var e,r,o;if(n.singleton){var i=p++;e=v||(v=l(n)),r=h.bind(null,e,i,!1),o=h.bind(null,e,i,!0)}else e=l(n),r=f.bind(null,e,n),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)};return r(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;r(t=n)}else o()}}t.exports=function(t,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=o());var e=s(t=t||[],n);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<e.length;r++){var o=c(e[r]);a[o].references--}for(var i=s(t,n),l=0;l<e.length;l++){var u=c(e[l]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}e=i}}}},function(t,n,e){"use strict";t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e=function(t,n){var e=t[1]||"",r=t[3];if(!r)return e;if(n&&"function"==typeof btoa){var o=(a=r,c=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),"/*# ".concat(s," */")),i=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[e].concat(i).concat([o]).join("\n")}var a,c,s;return[e].join("\n")}(n,t);return n[2]?"@media ".concat(n[2]," {").concat(e,"}"):e})).join("")},n.i=function(t,e,r){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var c=0;c<t.length;c++){var s=[].concat(t[c]);r&&o[s[0]]||(e&&(s[2]?s[2]="".concat(e," and ").concat(s[2]):s[2]=e),n.push(s))}},n}},function(t,n,e){var r=function(t){"use strict";var n=Object.prototype,e=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(t,n,e,r){var o=n&&n.prototype instanceof u?n:u,i=Object.create(o.prototype),a=new k(r||[]);return i._invoke=function(t,n,e){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return E()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var c=b(a,e);if(c){if(c===l)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===r)throw r="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r="executing";var u=s(t,n,e);if("normal"===u.type){if(r=e.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(r="completed",e.method="throw",e.arg=u.arg)}}}(t,e,a),i}function s(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function u(){}function d(){}function h(){}var f={};f[o]=function(){return this};var v=Object.getPrototypeOf,p=v&&v(v(P([])));p&&p!==n&&e.call(p,o)&&(f=p);var m=h.prototype=u.prototype=Object.create(f);function g(t){["next","throw","return"].forEach((function(n){t[n]=function(t){return this._invoke(n,t)}}))}function y(t,n){var r;this._invoke=function(o,i){function a(){return new n((function(r,a){!function r(o,i,a,c){var l=s(t[o],t,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&e.call(d,"__await")?n.resolve(d.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):n.resolve(d).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,c)}))}c(l.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function b(t,n){var e=t.iterator[n.method];if(void 0===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,b(t,n),"throw"===n.method))return l;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(e,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,l;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,l):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}function w(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function x(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function P(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function n(){for(;++r<t.length;)if(e.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=void 0,n.done=!0,n};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return d.prototype=m.constructor=h,h.constructor=d,h[a]=d.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===d||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(y.prototype),y.prototype[i]=function(){return this},t.AsyncIterator=y,t.async=function(n,e,r,o,i){void 0===i&&(i=Promise);var a=new y(c(n,e,r,o),i);return t.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),m[a]="Generator",m[o]=function(){return this},m.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(e,r){return a.type="throw",a.arg=t,n.next=e,r&&(n.method="next",n.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=e.call(i,"catchLoc"),s=e.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&e.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=n,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),l},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),x(e),l}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var o=r.arg;x(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:P(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},,,,,function(t,n,e){e(2),t.exports=e(10)},function(t,n,e){var r=e(0),o=e(9);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},function(t,n,e){(n=e(1)(!1)).push([t.i,":root {\n    --background-color: white;\n    --main-color: rgb(63, 111, 139);\n    --text-color: black;\n    --disabled-color: rgb(207,207,207);\n    --hover-color: rgb(125, 177, 247);\n    --visited-color: rgb(107, 82, 139);\n    --hover-visited-color: rgb(168, 129, 218);\n}\n\n/* Use box sizing (https://css-tricks.com/box-sizing/) */\n\nhtml {\n    box-sizing: border-box;\n}\n\n*, *:before, *:after {\n    box-sizing: inherit;\n}\n\nbody {\n    margin: 3px;\n    background-color: white;\n    background-color: var(--background-color);\n    color: black;\n    color: var(--text-color);\n}\n\narticle {\n    font-family: sans-serif;\n    background-color: white;\n    background-color: var(--background-color);\n}\n\nheader {\n    color: rgb(63, 111, 139);\n    color: var(--main-color);\n}\n\nbutton {\n    border: 1px solid rgb(63, 111, 139);\n    border: 1px solid var(--main-color);\n    padding: 1em 3em;\n    background-color: white;\n    background-color: var(--background-color);\n    color: rgb(63, 111, 139);\n    color: var(--main-color);\n    font-weight: bold;\n}\n\nbutton:disabled {\n    border: 1px solid rgb(207,207,207);\n    border: 1px solid var(--disabled-color);\n    padding: 1em 3em;\n    background-color: white;\n    background-color: var(--background-color);\n    color: rgb(207,207,207);\n    color: var(--disabled-color);\n}\n\nbutton:disabled:hover {\n    border: 1px solid rgb(207,207,207);\n    border: 1px solid var(--disabled-color);\n    padding: 1em 3em;\n    background-color: white;\n    background-color: var(--background-color);\n    color: rgb(207,207,207);\n    color: var(--disabled-color);\n}\n\nbutton:active,\nbutton:focus,\nbutton:hover {\n    padding: 1em 3em;\n    background-color: rgb(63, 111, 139);\n    background-color: var(--main-color);\n    color: white;\n    color: var(--background-color);\n    border: 1px solid rgb(63, 111, 139);\n    border: 1px solid var(--main-color);\n}\n\na {\n    color: rgb(63, 111, 139);\n    color: var(--main-color);\n}\n\na:visited {\n    color: rgb(107, 82, 139);\n    color: var(--visited-color);\n}\n\na:hover {\n    color: rgb(125, 177, 247);\n    color: var(--hover-color);\n}\n\na:hover:visited {\n    color: rgb(168, 129, 218);\n    color: var(--hover-visited-color);\n}\n\n#myCanvas {\n    border: 3px solid rgb(63, 111, 139);\n    border: 3px solid var(--main-color);\n    width: 100%;\n    height: 300px;\n}\n\ndiv.action-controls {\n    width: 100%;\n}\n\ndiv.action-controls > button {\n    width: 100%;\n    margin-bottom: 10px;\n}\n\ndiv.speed-controls {\n}\n\n@media screen and (min-width: 228px) {\n    div.action-controls > button {\n        width: auto;\n    }\n}\n\n@media screen and (min-width: 475px) {\n    div.action-controls {\n        width: 50%;\n        float: left;\n    }\n    div.action-controls > button {\n        width: auto;\n        margin-bottom: 0;\n    }\n\n    div.speed-controls {\n        width: 50%;\n        float: left;\n    }\n}\n\n@media screen and (min-width: 606px) {\n    #myCanvas {\n        width: 600px;\n    }\n\n    div.action-controls {\n        width: 300px;\n        float: left;\n    }\n\n    div.speed-controls {\n        width: 300px;\n        float: left;\n    }\n}\n",""]),t.exports=n},function(t,n,e){"use strict";e.r(n);e(2);function r(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(n,e,r,o){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.xPos=n,this.yPos=e,this.width=r,this.color=o}var n,e,o;return n=t,(e=[{key:"draw",value:function(t){t.beginPath(),t.lineCap="round",t.strokeStyle=this.color,t.lineWidth=15,t.moveTo(this.xPos-5*this.width,this.yPos),t.lineTo(this.xPos+5*this.width,this.yPos),t.stroke()}}])&&r(n.prototype,e),o&&r(n,o),t}(),i=regeneratorRuntime.mark((function t(n,e,r,o){return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(n>0)){i.next=5;break}return i.delegateYield(t(n-1,e,o,r),"t0",2);case 2:return i.next=4,{action:"move",source:e,target:r};case 4:return i.delegateYield(t(n-1,o,r,e),"t1",5);case 5:case"end":return i.stop()}}),t)}));e(8);function a(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}window.onload=function(){var t=document.getElementById("currentAnimationText"),n=!1,e=!1,r=1,c=[],s=function(t,n){var e=document.getElementById("myCanvas"),r=e.getContext("2d");r.clearRect(0,0,e.width,e.height),c.forEach((function(t){r.save(),t.draw(r),r.restore()})),"function"==typeof n&&(r.save(),n(r),r.restore())},l=function(){function o(t,n,e,r){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),this.name=t,this.xPos=n,this.yPos=e,this.disks=r,this.width=40,this.height=130}var i,c,l;return i=o,(c=[{key:"moveTopDiskTo",value:function(o,i){var a=this.disks.pop();e||t.replaceChild(document.createTextNode("Moving "+a.color+" disk from "+this.name+" to "+o.name),t.lastChild);var c="move-up";n=!0;var l=null;e||window.requestAnimationFrame((function t(u){var d=0,h=5*r;if(l&&u&&(d=(u-l)/100),e)return o.pushDisk(a),n=!1,void i();if("move-up"===c)a.yPos-=h*d,a.yPos<=50&&(a.yPos=50,c="move-across");else if("move-across"===c)a.xPos<o.xPos&&(a.xPos+=h*d),a.xPos>o.xPos&&(a.xPos-=h*d),a.xPos>o.xPos-h*d&&a.xPos<o.xPos+h*d&&(a.xPos=o.xPos,c="move-down");else if("move-down"===c){var f=230;o.disks.length>0&&(f=o.disks[o.disks.length-1].yPos-20),a.yPos<f&&(a.yPos+=h*d),a.yPos>=f&&(a.yPos=f,c="finished")}else if("finished"===c)return o.pushDisk(a),n=!1,void i();s(0,(function(t){a.draw(t)})),l=u,n&&window.requestAnimationFrame(t)}))}},{key:"pushDisk",value:function(t){this.disks.length>0?t.yPos=this.disks[this.disks.length-1].yPos-20:t.yPos=230,this.disks.push(t),t.xPos=this.xPos}},{key:"draw",value:function(t){t.beginPath(),t.lineCap="square",t.strokeStyle="brown",t.lineWidth=5,t.moveTo(this.xPos,this.yPos),t.stroke(),t.moveTo(this.xPos,this.yPos),t.lineTo(this.xPos-this.width,this.yPos),t.stroke(),t.moveTo(this.xPos,this.yPos),t.lineTo(this.xPos+this.width,this.yPos),t.stroke(),t.moveTo(this.xPos,this.yPos),t.lineTo(this.xPos,this.yPos-this.height),t.stroke(),t.strokeStyle="black",t.lineWidth=1,t.textAlign="center",t.font="24px sans-serif",t.fillText(this.name,this.xPos,this.yPos+35),this.disks.forEach((function(n){n.draw(t)}))}}])&&a(i.prototype,c),l&&a(i,l),o}(),u=function(){c=[new l("A",100,250,[new o(100,230,5,"purple"),new o(100,210,4,"blue"),new o(100,190,3,"green"),new o(100,170,2,"orange"),new o(100,150,1,"red")]),new l("B",300,250,[]),new l("C",500,250,[])]};!function(){t.appendChild(document.createTextNode("Press the Go button to begin:")),u();var n=document.getElementById("animateButton");n.addEventListener("click",(function(){n.disabled=!0;var r=i(c[0].disks.length,c[0],c[2],c[1],[]);!function o(i,a){if(a.done)return window.requestAnimationFrame(s),n.disabled=!1,t.replaceChild(document.createTextNode("All finished. Press reset to start over:"),t.lastChild),void(e&&(e=!1));if(a.value){var c=a.value.source,l=a.value.target;c.moveTopDiskTo(l,(function(){o(e,r.next())}))}}(0,r.next())})),document.getElementById("resetButton").addEventListener("click",(function(){e=!0,t.replaceChild(document.createTextNode("Resetting"),t.lastChild),setTimeout((function(){n.disabled=!1,t.replaceChild(document.createTextNode("Press the Go button to begin:"),t.lastChild),u(),window.requestAnimationFrame(s),e=!1}),1e3)}));var o=document.getElementById("speedSlider");o.oninput=function(){r=parseInt(o.value,10)},r=parseInt(o.value,10),window.requestAnimationFrame(s)}()}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdG93ZXItb2YtaGFub2kvc3R5bGUuY3NzP2M4N2EiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Rvd2VyLW9mLWhhbm9pL3N0eWxlLmNzcyIsIndlYnBhY2s6Ly8vLi9zcmMvdG93ZXItb2YtaGFub2kvZGlzay5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdG93ZXItb2YtaGFub2kvYWxnb3JpdGhtLmpzIiwid2VicGFjazovLy8uL3NyYy90b3dlci1vZi1oYW5vaS9zY3JpcHQuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJtZW1vIiwiaXNPbGRJRSIsIkJvb2xlYW4iLCJ3aW5kb3ciLCJkb2N1bWVudCIsImFsbCIsImF0b2IiLCJnZXRUYXJnZXQiLCJ0YXJnZXQiLCJzdHlsZVRhcmdldCIsInF1ZXJ5U2VsZWN0b3IiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwic3R5bGVzSW5Eb20iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJsZW5ndGgiLCJtb2R1bGVzVG9Eb20iLCJsaXN0Iiwib3B0aW9ucyIsImlkQ291bnRNYXAiLCJpZGVudGlmaWVycyIsIml0ZW0iLCJpZCIsImJhc2UiLCJjb3VudCIsImNvbmNhdCIsImluZGV4Iiwib2JqIiwiY3NzIiwibWVkaWEiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsInB1c2giLCJhZGRTdHlsZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiY3JlYXRlRWxlbWVudCIsImF0dHJpYnV0ZXMiLCJub25jZSIsImtleXMiLCJmb3JFYWNoIiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJqb2luIiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsInJlbW92ZSIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3NzTm9kZSIsImNyZWF0ZVRleHROb2RlIiwiY2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwiaW5zZXJ0QmVmb3JlIiwiYXBwbHlUb1RhZyIsInJlbW92ZUF0dHJpYnV0ZSIsImJ0b2EiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJmaXJzdENoaWxkIiwic2luZ2xldG9uIiwic2luZ2xldG9uQ291bnRlciIsInVwZGF0ZSIsInN0eWxlSW5kZXgiLCJwYXJlbnROb2RlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwibmV3T2JqIiwibGFzdElkZW50aWZpZXJzIiwibmV3TGlzdCIsInRvU3RyaW5nIiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2kiLCJfaW5kZXgiLCJzcGxpY2UiLCJ1c2VTb3VyY2VNYXAiLCJ0aGlzIiwibWFwIiwiY29udGVudCIsImNzc01hcHBpbmciLCJzb3VyY2VNYXBwaW5nIiwiYmFzZTY0IiwiZGF0YSIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJtZWRpYVF1ZXJ5IiwiZGVkdXBlIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsInJ1bnRpbWUiLCJPcCIsImhhc093biIsIiRTeW1ib2wiLCJpdGVyYXRvclN5bWJvbCIsIml0ZXJhdG9yIiwiYXN5bmNJdGVyYXRvclN5bWJvbCIsImFzeW5jSXRlcmF0b3IiLCJ0b1N0cmluZ1RhZ1N5bWJvbCIsIndyYXAiLCJpbm5lckZuIiwib3V0ZXJGbiIsInNlbGYiLCJ0cnlMb2NzTGlzdCIsInByb3RvR2VuZXJhdG9yIiwiR2VuZXJhdG9yIiwiZ2VuZXJhdG9yIiwiY29udGV4dCIsIkNvbnRleHQiLCJfaW52b2tlIiwic3RhdGUiLCJtZXRob2QiLCJhcmciLCJkb25lUmVzdWx0IiwiZGVsZWdhdGUiLCJkZWxlZ2F0ZVJlc3VsdCIsIm1heWJlSW52b2tlRGVsZWdhdGUiLCJDb250aW51ZVNlbnRpbmVsIiwic2VudCIsIl9zZW50IiwiZGlzcGF0Y2hFeGNlcHRpb24iLCJhYnJ1cHQiLCJyZWNvcmQiLCJ0cnlDYXRjaCIsInR5cGUiLCJkb25lIiwibWFrZUludm9rZU1ldGhvZCIsImZuIiwiZXJyIiwiR2VuZXJhdG9yRnVuY3Rpb24iLCJHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSIsIkl0ZXJhdG9yUHJvdG90eXBlIiwiZ2V0UHJvdG8iLCJnZXRQcm90b3R5cGVPZiIsIk5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlIiwidmFsdWVzIiwiR3AiLCJkZWZpbmVJdGVyYXRvck1ldGhvZHMiLCJBc3luY0l0ZXJhdG9yIiwiUHJvbWlzZUltcGwiLCJwcmV2aW91c1Byb21pc2UiLCJjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZyIsInJlc29sdmUiLCJyZWplY3QiLCJpbnZva2UiLCJfX2F3YWl0IiwidGhlbiIsInVud3JhcHBlZCIsImVycm9yIiwidW5kZWZpbmVkIiwiVHlwZUVycm9yIiwiaW5mbyIsInJlc3VsdE5hbWUiLCJuZXh0IiwibmV4dExvYyIsInB1c2hUcnlFbnRyeSIsImxvY3MiLCJlbnRyeSIsInRyeUxvYyIsImNhdGNoTG9jIiwiZmluYWxseUxvYyIsImFmdGVyTG9jIiwidHJ5RW50cmllcyIsInJlc2V0VHJ5RW50cnkiLCJjb21wbGV0aW9uIiwicmVzZXQiLCJpdGVyYWJsZSIsIml0ZXJhdG9yTWV0aG9kIiwiaXNOYU4iLCJjb25zdHJ1Y3RvciIsImRpc3BsYXlOYW1lIiwiaXNHZW5lcmF0b3JGdW5jdGlvbiIsImdlbkZ1biIsImN0b3IiLCJtYXJrIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJhd3JhcCIsImFzeW5jIiwiUHJvbWlzZSIsIml0ZXIiLCJyZXZlcnNlIiwicG9wIiwic2tpcFRlbXBSZXNldCIsInByZXYiLCJjaGFyQXQiLCJzbGljZSIsInN0b3AiLCJyb290UmVjb3JkIiwicnZhbCIsImV4Y2VwdGlvbiIsImhhbmRsZSIsImxvYyIsImNhdWdodCIsImhhc0NhdGNoIiwiaGFzRmluYWxseSIsImZpbmFsbHlFbnRyeSIsImNvbXBsZXRlIiwiZmluaXNoIiwidGhyb3duIiwiZGVsZWdhdGVZaWVsZCIsInJlZ2VuZXJhdG9yUnVudGltZSIsImFjY2lkZW50YWxTdHJpY3RNb2RlIiwiRnVuY3Rpb24iLCJhcGkiLCJkZWZhdWx0IiwiZXhwb3J0ZWQiLCJsb2NhbHMiLCJfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18iLCJEaXNrIiwieFBvc0luaXRpYWwiLCJ5UG9zSW5pdGlhbCIsIndpZHRoIiwiY29sb3IiLCJ4UG9zIiwieVBvcyIsImN0eCIsImJlZ2luUGF0aCIsImxpbmVDYXAiLCJzdHJva2VTdHlsZSIsImxpbmVXaWR0aCIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsInNvbHZlIiwibnVtRGlza3MiLCJzb3VyY2VQZWciLCJ0YXJnZXRQZWciLCJzcGFyZVBlZyIsIm9ubG9hZCIsImN1cnJlbnRBbmltYXRpb25UZXh0IiwiZ2V0RWxlbWVudEJ5SWQiLCJhbmltYXRlIiwiY2FuY2VsIiwic3BlZWQiLCJwZWdzIiwiZHJhd1NjZW5lIiwidGltZVN0YW1wIiwiZHJhd0FkZGl0aW9uYWwiLCJjYW52YXMiLCJnZXRDb250ZXh0IiwiY2xlYXJSZWN0IiwiaGVpZ2h0IiwicGVnIiwic2F2ZSIsImRyYXciLCJyZXN0b3JlIiwiUGVnIiwiZGlza3MiLCJvdGhlclBlZyIsImZpbmlzaGVkQ2FsbGJhY2siLCJkaXNrIiwicmVwbGFjZUNoaWxkIiwibGFzdENoaWxkIiwiYW5pbWF0aW9uU3RhdGUiLCJsYXN0RnJhbWUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ0aW1lc3RhbXAiLCJkZWx0YSIsIm1vdmVtZW50U3BlZWQiLCJwdXNoRGlzayIsInlQb3NUYXJnZXQiLCJ0ZXh0QWxpZ24iLCJmb250IiwiZmlsbFRleHQiLCJpbml0aWFsaXplUGVncyIsImFuaW1hdGVCdXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwiZGlzYWJsZWQiLCJnZW4iLCJjYWxsVGFzayIsImNhbmNlbGxlZCIsInRhc2siLCJmcm9tUGVnIiwidG9QZWciLCJtb3ZlVG9wRGlza1RvIiwic2V0VGltZW91dCIsInNwZWVkU2xpZGVyIiwib25pbnB1dCIsInBhcnNlSW50IiwiaW5pdGlhbGl6ZSJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFB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QUFjRSxVQUFXLEVBRXpCdEMsRUFBcUJzQixhQUFhcFEsU0FBU3dELGVBQWUsaUNBQWtDc0wsRUFBcUJ1QixXQUNqSFksSUFHQWxSLE9BQU95USxzQkFBc0JwQixHQUM3QkgsR0FBUyxJQUNWLFFBR1AsSUFBTTRDLEVBQWM3UixTQUFTK08sZUFBZSxlQUM1QzhDLEVBQVlDLFFBQVUsV0FDbEI1QyxFQUFRNkMsU0FBU0YsRUFBWWhULE1BQU8sS0FFeENxUSxFQUFRNkMsU0FBU0YsRUFBWWhULE1BQU8sSUFHcENrQixPQUFPeVEsc0JBQXNCcEIsR0FHakM0QyIsImZpbGUiOiJ0b3dlci1vZi1oYW5vaS5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNyk7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIGlzT2xkSUUgPSBmdW5jdGlvbiBpc09sZElFKCkge1xuICB2YXIgbWVtbztcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG4gICAgICAvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG4gICAgICAvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuICAgICAgbWVtbyA9IEJvb2xlYW4od2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpO1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICB2YXIgbWVtbyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUodGFyZ2V0KSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gIH07XG59KCk7XG5cbnZhciBzdHlsZXNJbkRvbSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRG9tLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRG9tW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM11cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlc0luRG9tLnB1c2goe1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiBhZGRTdHlsZShvYmosIG9wdGlvbnMpLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICB2YXIgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcyB8fCB7fTtcblxuICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSAndW5kZWZpbmVkJyA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICAgIGlmIChub25jZSkge1xuICAgICAgYXR0cmlidXRlcy5ub25jZSA9IG5vbmNlO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChvcHRpb25zLmluc2VydCB8fCAnaGVhZCcpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxudmFyIHJlcGxhY2VUZXh0ID0gZnVuY3Rpb24gcmVwbGFjZVRleHQoKSB7XG4gIHZhciB0ZXh0U3RvcmUgPSBbXTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlcGxhY2UoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgdGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcbiAgdmFyIGNzcyA9IHJlbW92ZSA/ICcnIDogb2JqLm1lZGlhID8gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKS5jb25jYXQob2JqLmNzcywgXCJ9XCIpIDogb2JqLmNzczsgLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoJ21lZGlhJyk7XG4gIH1cblxuICBpZiAoc291cmNlTWFwICYmIGJ0b2EpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfSAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlLmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyIHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xuXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlO1xuICB2YXIgdXBkYXRlO1xuICB2YXIgcmVtb3ZlO1xuXG4gIGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuICAgIHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuICAgIHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuICAgIHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUgPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblxuICAgIHJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG4gICAgfTtcbiAgfVxuXG4gIHVwZGF0ZShvYmopO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdmUoKTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307IC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuICAvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cbiAgaWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09ICdib29sZWFuJykge1xuICAgIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuICB9XG5cbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXdMaXN0KSAhPT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRvbVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5Eb21bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5Eb20uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXNlU291cmNlTWFwKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oJycpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnksIGRlZHVwZSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgJyddXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19pXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIlwiLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIiBhbmQgXCIpLmNvbmNhdChpdGVtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcblxuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiBcIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KGNzc01hcHBpbmcuc291cmNlUm9vdCB8fCAnJykuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufSAvLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5cblxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG4gIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgcmV0dXJuIFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbn0iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbnZhciBydW50aW1lID0gKGZ1bmN0aW9uIChleHBvcnRzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBPcCA9IE9iamVjdC5wcm90b3R5cGU7XG4gIHZhciBoYXNPd24gPSBPcC5oYXNPd25Qcm9wZXJ0eTtcbiAgdmFyIHVuZGVmaW5lZDsgLy8gTW9yZSBjb21wcmVzc2libGUgdGhhbiB2b2lkIDAuXG4gIHZhciAkU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiID8gU3ltYm9sIDoge307XG4gIHZhciBpdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuaXRlcmF0b3IgfHwgXCJAQGl0ZXJhdG9yXCI7XG4gIHZhciBhc3luY0l0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5hc3luY0l0ZXJhdG9yIHx8IFwiQEBhc3luY0l0ZXJhdG9yXCI7XG4gIHZhciB0b1N0cmluZ1RhZ1N5bWJvbCA9ICRTeW1ib2wudG9TdHJpbmdUYWcgfHwgXCJAQHRvU3RyaW5nVGFnXCI7XG5cbiAgZnVuY3Rpb24gd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkge1xuICAgIC8vIElmIG91dGVyRm4gcHJvdmlkZWQgYW5kIG91dGVyRm4ucHJvdG90eXBlIGlzIGEgR2VuZXJhdG9yLCB0aGVuIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yLlxuICAgIHZhciBwcm90b0dlbmVyYXRvciA9IG91dGVyRm4gJiYgb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IgPyBvdXRlckZuIDogR2VuZXJhdG9yO1xuICAgIHZhciBnZW5lcmF0b3IgPSBPYmplY3QuY3JlYXRlKHByb3RvR2VuZXJhdG9yLnByb3RvdHlwZSk7XG4gICAgdmFyIGNvbnRleHQgPSBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSk7XG5cbiAgICAvLyBUaGUgLl9pbnZva2UgbWV0aG9kIHVuaWZpZXMgdGhlIGltcGxlbWVudGF0aW9ucyBvZiB0aGUgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzLlxuICAgIGdlbmVyYXRvci5faW52b2tlID0gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcblxuICAgIHJldHVybiBnZW5lcmF0b3I7XG4gIH1cbiAgZXhwb3J0cy53cmFwID0gd3JhcDtcblxuICAvLyBUcnkvY2F0Y2ggaGVscGVyIHRvIG1pbmltaXplIGRlb3B0aW1pemF0aW9ucy4gUmV0dXJucyBhIGNvbXBsZXRpb25cbiAgLy8gcmVjb3JkIGxpa2UgY29udGV4dC50cnlFbnRyaWVzW2ldLmNvbXBsZXRpb24uIFRoaXMgaW50ZXJmYWNlIGNvdWxkXG4gIC8vIGhhdmUgYmVlbiAoYW5kIHdhcyBwcmV2aW91c2x5KSBkZXNpZ25lZCB0byB0YWtlIGEgY2xvc3VyZSB0byBiZVxuICAvLyBpbnZva2VkIHdpdGhvdXQgYXJndW1lbnRzLCBidXQgaW4gYWxsIHRoZSBjYXNlcyB3ZSBjYXJlIGFib3V0IHdlXG4gIC8vIGFscmVhZHkgaGF2ZSBhbiBleGlzdGluZyBtZXRob2Qgd2Ugd2FudCB0byBjYWxsLCBzbyB0aGVyZSdzIG5vIG5lZWRcbiAgLy8gdG8gY3JlYXRlIGEgbmV3IGZ1bmN0aW9uIG9iamVjdC4gV2UgY2FuIGV2ZW4gZ2V0IGF3YXkgd2l0aCBhc3N1bWluZ1xuICAvLyB0aGUgbWV0aG9kIHRha2VzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBzaW5jZSB0aGF0IGhhcHBlbnMgdG8gYmUgdHJ1ZVxuICAvLyBpbiBldmVyeSBjYXNlLCBzbyB3ZSBkb24ndCBoYXZlIHRvIHRvdWNoIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBUaGVcbiAgLy8gb25seSBhZGRpdGlvbmFsIGFsbG9jYXRpb24gcmVxdWlyZWQgaXMgdGhlIGNvbXBsZXRpb24gcmVjb3JkLCB3aGljaFxuICAvLyBoYXMgYSBzdGFibGUgc2hhcGUgYW5kIHNvIGhvcGVmdWxseSBzaG91bGQgYmUgY2hlYXAgdG8gYWxsb2NhdGUuXG4gIGZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBvYmosIGFyZykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcIm5vcm1hbFwiLCBhcmc6IGZuLmNhbGwob2JqLCBhcmcpIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcInRocm93XCIsIGFyZzogZXJyIH07XG4gICAgfVxuICB9XG5cbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkU3RhcnQgPSBcInN1c3BlbmRlZFN0YXJ0XCI7XG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkID0gXCJzdXNwZW5kZWRZaWVsZFwiO1xuICB2YXIgR2VuU3RhdGVFeGVjdXRpbmcgPSBcImV4ZWN1dGluZ1wiO1xuICB2YXIgR2VuU3RhdGVDb21wbGV0ZWQgPSBcImNvbXBsZXRlZFwiO1xuXG4gIC8vIFJldHVybmluZyB0aGlzIG9iamVjdCBmcm9tIHRoZSBpbm5lckZuIGhhcyB0aGUgc2FtZSBlZmZlY3QgYXNcbiAgLy8gYnJlYWtpbmcgb3V0IG9mIHRoZSBkaXNwYXRjaCBzd2l0Y2ggc3RhdGVtZW50LlxuICB2YXIgQ29udGludWVTZW50aW5lbCA9IHt9O1xuXG4gIC8vIER1bW15IGNvbnN0cnVjdG9yIGZ1bmN0aW9ucyB0aGF0IHdlIHVzZSBhcyB0aGUgLmNvbnN0cnVjdG9yIGFuZFxuICAvLyAuY29uc3RydWN0b3IucHJvdG90eXBlIHByb3BlcnRpZXMgZm9yIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0cy4gRm9yIGZ1bGwgc3BlYyBjb21wbGlhbmNlLCB5b3UgbWF5IHdpc2ggdG8gY29uZmlndXJlIHlvdXJcbiAgLy8gbWluaWZpZXIgbm90IHRvIG1hbmdsZSB0aGUgbmFtZXMgb2YgdGhlc2UgdHdvIGZ1bmN0aW9ucy5cbiAgZnVuY3Rpb24gR2VuZXJhdG9yKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9XG5cbiAgLy8gVGhpcyBpcyBhIHBvbHlmaWxsIGZvciAlSXRlcmF0b3JQcm90b3R5cGUlIGZvciBlbnZpcm9ubWVudHMgdGhhdFxuICAvLyBkb24ndCBuYXRpdmVseSBzdXBwb3J0IGl0LlxuICB2YXIgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcbiAgSXRlcmF0b3JQcm90b3R5cGVbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbiAgdmFyIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG8gJiYgZ2V0UHJvdG8oZ2V0UHJvdG8odmFsdWVzKFtdKSkpO1xuICBpZiAoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgJiZcbiAgICAgIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICE9PSBPcCAmJlxuICAgICAgaGFzT3duLmNhbGwoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sKSkge1xuICAgIC8vIFRoaXMgZW52aXJvbm1lbnQgaGFzIGEgbmF0aXZlICVJdGVyYXRvclByb3RvdHlwZSU7IHVzZSBpdCBpbnN0ZWFkXG4gICAgLy8gb2YgdGhlIHBvbHlmaWxsLlxuICAgIEl0ZXJhdG9yUHJvdG90eXBlID0gTmF0aXZlSXRlcmF0b3JQcm90b3R5cGU7XG4gIH1cblxuICB2YXIgR3AgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPVxuICAgIEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlKTtcbiAgR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR3AuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvbjtcbiAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGVbdG9TdHJpbmdUYWdTeW1ib2xdID1cbiAgICBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IFwiR2VuZXJhdG9yRnVuY3Rpb25cIjtcblxuICAvLyBIZWxwZXIgZm9yIGRlZmluaW5nIHRoZSAubmV4dCwgLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzIG9mIHRoZVxuICAvLyBJdGVyYXRvciBpbnRlcmZhY2UgaW4gdGVybXMgb2YgYSBzaW5nbGUgLl9pbnZva2UgbWV0aG9kLlxuICBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHMocHJvdG90eXBlKSB7XG4gICAgW1wibmV4dFwiLCBcInRocm93XCIsIFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgICBwcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKGFyZykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW52b2tlKG1ldGhvZCwgYXJnKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICB2YXIgY3RvciA9IHR5cGVvZiBnZW5GdW4gPT09IFwiZnVuY3Rpb25cIiAmJiBnZW5GdW4uY29uc3RydWN0b3I7XG4gICAgcmV0dXJuIGN0b3JcbiAgICAgID8gY3RvciA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHxcbiAgICAgICAgLy8gRm9yIHRoZSBuYXRpdmUgR2VuZXJhdG9yRnVuY3Rpb24gY29uc3RydWN0b3IsIHRoZSBiZXN0IHdlIGNhblxuICAgICAgICAvLyBkbyBpcyB0byBjaGVjayBpdHMgLm5hbWUgcHJvcGVydHkuXG4gICAgICAgIChjdG9yLmRpc3BsYXlOYW1lIHx8IGN0b3IubmFtZSkgPT09IFwiR2VuZXJhdG9yRnVuY3Rpb25cIlxuICAgICAgOiBmYWxzZTtcbiAgfTtcblxuICBleHBvcnRzLm1hcmsgPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZ2VuRnVuLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdlbkZ1bi5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgICAgIGlmICghKHRvU3RyaW5nVGFnU3ltYm9sIGluIGdlbkZ1bikpIHtcbiAgICAgICAgZ2VuRnVuW3RvU3RyaW5nVGFnU3ltYm9sXSA9IFwiR2VuZXJhdG9yRnVuY3Rpb25cIjtcbiAgICAgIH1cbiAgICB9XG4gICAgZ2VuRnVuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR3ApO1xuICAgIHJldHVybiBnZW5GdW47XG4gIH07XG5cbiAgLy8gV2l0aGluIHRoZSBib2R5IG9mIGFueSBhc3luYyBmdW5jdGlvbiwgYGF3YWl0IHhgIGlzIHRyYW5zZm9ybWVkIHRvXG4gIC8vIGB5aWVsZCByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoeClgLCBzbyB0aGF0IHRoZSBydW50aW1lIGNhbiB0ZXN0XG4gIC8vIGBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpYCB0byBkZXRlcm1pbmUgaWYgdGhlIHlpZWxkZWQgdmFsdWUgaXNcbiAgLy8gbWVhbnQgdG8gYmUgYXdhaXRlZC5cbiAgZXhwb3J0cy5hd3JhcCA9IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB7IF9fYXdhaXQ6IGFyZyB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoZ2VuZXJhdG9yLCBQcm9taXNlSW1wbCkge1xuICAgIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goZ2VuZXJhdG9yW21ldGhvZF0sIGdlbmVyYXRvciwgYXJnKTtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHJlamVjdChyZWNvcmQuYXJnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciByZXN1bHQgPSByZWNvcmQuYXJnO1xuICAgICAgICB2YXIgdmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZSAmJlxuICAgICAgICAgICAgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUuX19hd2FpdCkudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgaW52b2tlKFwibmV4dFwiLCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIGludm9rZShcInRocm93XCIsIGVyciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uKHVud3JhcHBlZCkge1xuICAgICAgICAgIC8vIFdoZW4gYSB5aWVsZGVkIFByb21pc2UgaXMgcmVzb2x2ZWQsIGl0cyBmaW5hbCB2YWx1ZSBiZWNvbWVzXG4gICAgICAgICAgLy8gdGhlIC52YWx1ZSBvZiB0aGUgUHJvbWlzZTx7dmFsdWUsZG9uZX0+IHJlc3VsdCBmb3IgdGhlXG4gICAgICAgICAgLy8gY3VycmVudCBpdGVyYXRpb24uXG4gICAgICAgICAgcmVzdWx0LnZhbHVlID0gdW53cmFwcGVkO1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAvLyBJZiBhIHJlamVjdGVkIFByb21pc2Ugd2FzIHlpZWxkZWQsIHRocm93IHRoZSByZWplY3Rpb24gYmFja1xuICAgICAgICAgIC8vIGludG8gdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBzbyBpdCBjYW4gYmUgaGFuZGxlZCB0aGVyZS5cbiAgICAgICAgICByZXR1cm4gaW52b2tlKFwidGhyb3dcIiwgZXJyb3IsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBwcmV2aW91c1Byb21pc2U7XG5cbiAgICBmdW5jdGlvbiBlbnF1ZXVlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlSW1wbChmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJldmlvdXNQcm9taXNlID1cbiAgICAgICAgLy8gSWYgZW5xdWV1ZSBoYXMgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gd2FpdCB1bnRpbFxuICAgICAgICAvLyBhbGwgcHJldmlvdXMgUHJvbWlzZXMgaGF2ZSBiZWVuIHJlc29sdmVkIGJlZm9yZSBjYWxsaW5nIGludm9rZSxcbiAgICAgICAgLy8gc28gdGhhdCByZXN1bHRzIGFyZSBhbHdheXMgZGVsaXZlcmVkIGluIHRoZSBjb3JyZWN0IG9yZGVyLiBJZlxuICAgICAgICAvLyBlbnF1ZXVlIGhhcyBub3QgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIGl0IGlzIGltcG9ydGFudCB0b1xuICAgICAgICAvLyBjYWxsIGludm9rZSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIG9uIGEgY2FsbGJhY2sgdG8gZmlyZSxcbiAgICAgICAgLy8gc28gdGhhdCB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIGhhcyB0aGUgb3Bwb3J0dW5pdHkgdG8gZG9cbiAgICAgICAgLy8gYW55IG5lY2Vzc2FyeSBzZXR1cCBpbiBhIHByZWRpY3RhYmxlIHdheS4gVGhpcyBwcmVkaWN0YWJpbGl0eVxuICAgICAgICAvLyBpcyB3aHkgdGhlIFByb21pc2UgY29uc3RydWN0b3Igc3luY2hyb25vdXNseSBpbnZva2VzIGl0c1xuICAgICAgICAvLyBleGVjdXRvciBjYWxsYmFjaywgYW5kIHdoeSBhc3luYyBmdW5jdGlvbnMgc3luY2hyb25vdXNseVxuICAgICAgICAvLyBleGVjdXRlIGNvZGUgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdC4gU2luY2Ugd2UgaW1wbGVtZW50IHNpbXBsZVxuICAgICAgICAvLyBhc3luYyBmdW5jdGlvbnMgaW4gdGVybXMgb2YgYXN5bmMgZ2VuZXJhdG9ycywgaXQgaXMgZXNwZWNpYWxseVxuICAgICAgICAvLyBpbXBvcnRhbnQgdG8gZ2V0IHRoaXMgcmlnaHQsIGV2ZW4gdGhvdWdoIGl0IHJlcXVpcmVzIGNhcmUuXG4gICAgICAgIHByZXZpb3VzUHJvbWlzZSA/IHByZXZpb3VzUHJvbWlzZS50aGVuKFxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLFxuICAgICAgICAgIC8vIEF2b2lkIHByb3BhZ2F0aW5nIGZhaWx1cmVzIHRvIFByb21pc2VzIHJldHVybmVkIGJ5IGxhdGVyXG4gICAgICAgICAgLy8gaW52b2NhdGlvbnMgb2YgdGhlIGl0ZXJhdG9yLlxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnXG4gICAgICAgICkgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpO1xuICAgIH1cblxuICAgIC8vIERlZmluZSB0aGUgdW5pZmllZCBoZWxwZXIgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byBpbXBsZW1lbnQgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiAoc2VlIGRlZmluZUl0ZXJhdG9yTWV0aG9kcykuXG4gICAgdGhpcy5faW52b2tlID0gZW5xdWV1ZTtcbiAgfVxuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSk7XG4gIEFzeW5jSXRlcmF0b3IucHJvdG90eXBlW2FzeW5jSXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBleHBvcnRzLkFzeW5jSXRlcmF0b3IgPSBBc3luY0l0ZXJhdG9yO1xuXG4gIC8vIE5vdGUgdGhhdCBzaW1wbGUgYXN5bmMgZnVuY3Rpb25zIGFyZSBpbXBsZW1lbnRlZCBvbiB0b3Agb2ZcbiAgLy8gQXN5bmNJdGVyYXRvciBvYmplY3RzOyB0aGV5IGp1c3QgcmV0dXJuIGEgUHJvbWlzZSBmb3IgdGhlIHZhbHVlIG9mXG4gIC8vIHRoZSBmaW5hbCByZXN1bHQgcHJvZHVjZWQgYnkgdGhlIGl0ZXJhdG9yLlxuICBleHBvcnRzLmFzeW5jID0gZnVuY3Rpb24oaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QsIFByb21pc2VJbXBsKSB7XG4gICAgaWYgKFByb21pc2VJbXBsID09PSB2b2lkIDApIFByb21pc2VJbXBsID0gUHJvbWlzZTtcblxuICAgIHZhciBpdGVyID0gbmV3IEFzeW5jSXRlcmF0b3IoXG4gICAgICB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSxcbiAgICAgIFByb21pc2VJbXBsXG4gICAgKTtcblxuICAgIHJldHVybiBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbilcbiAgICAgID8gaXRlciAvLyBJZiBvdXRlckZuIGlzIGEgZ2VuZXJhdG9yLCByZXR1cm4gdGhlIGZ1bGwgaXRlcmF0b3IuXG4gICAgICA6IGl0ZXIubmV4dCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdC5kb25lID8gcmVzdWx0LnZhbHVlIDogaXRlci5uZXh0KCk7XG4gICAgICAgIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCkge1xuICAgIHZhciBzdGF0ZSA9IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQ7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlRXhlY3V0aW5nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVDb21wbGV0ZWQpIHtcbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgdGhyb3cgYXJnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQmUgZm9yZ2l2aW5nLCBwZXIgMjUuMy4zLjMuMyBvZiB0aGUgc3BlYzpcbiAgICAgICAgLy8gaHR0cHM6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLWdlbmVyYXRvcnJlc3VtZVxuICAgICAgICByZXR1cm4gZG9uZVJlc3VsdCgpO1xuICAgICAgfVxuXG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IG1ldGhvZDtcbiAgICAgIGNvbnRleHQuYXJnID0gYXJnO1xuXG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgZGVsZWdhdGUgPSBjb250ZXh0LmRlbGVnYXRlO1xuICAgICAgICBpZiAoZGVsZWdhdGUpIHtcbiAgICAgICAgICB2YXIgZGVsZWdhdGVSZXN1bHQgPSBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcbiAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCA9PT0gQ29udGludWVTZW50aW5lbCkgY29udGludWU7XG4gICAgICAgICAgICByZXR1cm4gZGVsZWdhdGVSZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAgIC8vIFNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICAgICAgY29udGV4dC5zZW50ID0gY29udGV4dC5fc2VudCA9IGNvbnRleHQuYXJnO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydCkge1xuICAgICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAgIHRocm93IGNvbnRleHQuYXJnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5tZXRob2QgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgICBjb250ZXh0LmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LmFyZyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZSA9IEdlblN0YXRlRXhlY3V0aW5nO1xuXG4gICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiKSB7XG4gICAgICAgICAgLy8gSWYgYW4gZXhjZXB0aW9uIGlzIHRocm93biBmcm9tIGlubmVyRm4sIHdlIGxlYXZlIHN0YXRlID09PVxuICAgICAgICAgIC8vIEdlblN0YXRlRXhlY3V0aW5nIGFuZCBsb29wIGJhY2sgZm9yIGFub3RoZXIgaW52b2NhdGlvbi5cbiAgICAgICAgICBzdGF0ZSA9IGNvbnRleHQuZG9uZVxuICAgICAgICAgICAgPyBHZW5TdGF0ZUNvbXBsZXRlZFxuICAgICAgICAgICAgOiBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkO1xuXG4gICAgICAgICAgaWYgKHJlY29yZC5hcmcgPT09IENvbnRpbnVlU2VudGluZWwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogcmVjb3JkLmFyZyxcbiAgICAgICAgICAgIGRvbmU6IGNvbnRleHQuZG9uZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAvLyBEaXNwYXRjaCB0aGUgZXhjZXB0aW9uIGJ5IGxvb3BpbmcgYmFjayBhcm91bmQgdG8gdGhlXG4gICAgICAgICAgLy8gY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZykgY2FsbCBhYm92ZS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gQ2FsbCBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF0oY29udGV4dC5hcmcpIGFuZCBoYW5kbGUgdGhlXG4gIC8vIHJlc3VsdCwgZWl0aGVyIGJ5IHJldHVybmluZyBhIHsgdmFsdWUsIGRvbmUgfSByZXN1bHQgZnJvbSB0aGVcbiAgLy8gZGVsZWdhdGUgaXRlcmF0b3IsIG9yIGJ5IG1vZGlmeWluZyBjb250ZXh0Lm1ldGhvZCBhbmQgY29udGV4dC5hcmcsXG4gIC8vIHNldHRpbmcgY29udGV4dC5kZWxlZ2F0ZSB0byBudWxsLCBhbmQgcmV0dXJuaW5nIHRoZSBDb250aW51ZVNlbnRpbmVsLlxuICBmdW5jdGlvbiBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIG1ldGhvZCA9IGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXTtcbiAgICBpZiAobWV0aG9kID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIEEgLnRocm93IG9yIC5yZXR1cm4gd2hlbiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIG5vIC50aHJvd1xuICAgICAgLy8gbWV0aG9kIGFsd2F5cyB0ZXJtaW5hdGVzIHRoZSB5aWVsZCogbG9vcC5cbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAvLyBOb3RlOiBbXCJyZXR1cm5cIl0gbXVzdCBiZSB1c2VkIGZvciBFUzMgcGFyc2luZyBjb21wYXRpYmlsaXR5LlxuICAgICAgICBpZiAoZGVsZWdhdGUuaXRlcmF0b3JbXCJyZXR1cm5cIl0pIHtcbiAgICAgICAgICAvLyBJZiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIGEgcmV0dXJuIG1ldGhvZCwgZ2l2ZSBpdCBhXG4gICAgICAgICAgLy8gY2hhbmNlIHRvIGNsZWFuIHVwLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcblxuICAgICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAvLyBJZiBtYXliZUludm9rZURlbGVnYXRlKGNvbnRleHQpIGNoYW5nZWQgY29udGV4dC5tZXRob2QgZnJvbVxuICAgICAgICAgICAgLy8gXCJyZXR1cm5cIiB0byBcInRocm93XCIsIGxldCB0aGF0IG92ZXJyaWRlIHRoZSBUeXBlRXJyb3IgYmVsb3cuXG4gICAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgIFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAndGhyb3cnIG1ldGhvZFwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKG1ldGhvZCwgZGVsZWdhdGUuaXRlcmF0b3IsIGNvbnRleHQuYXJnKTtcblxuICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIGluZm8gPSByZWNvcmQuYXJnO1xuXG4gICAgaWYgKCEgaW5mbykge1xuICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKTtcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgaWYgKGluZm8uZG9uZSkge1xuICAgICAgLy8gQXNzaWduIHRoZSByZXN1bHQgb2YgdGhlIGZpbmlzaGVkIGRlbGVnYXRlIHRvIHRoZSB0ZW1wb3JhcnlcbiAgICAgIC8vIHZhcmlhYmxlIHNwZWNpZmllZCBieSBkZWxlZ2F0ZS5yZXN1bHROYW1lIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0W2RlbGVnYXRlLnJlc3VsdE5hbWVdID0gaW5mby52YWx1ZTtcblxuICAgICAgLy8gUmVzdW1lIGV4ZWN1dGlvbiBhdCB0aGUgZGVzaXJlZCBsb2NhdGlvbiAoc2VlIGRlbGVnYXRlWWllbGQpLlxuICAgICAgY29udGV4dC5uZXh0ID0gZGVsZWdhdGUubmV4dExvYztcblxuICAgICAgLy8gSWYgY29udGV4dC5tZXRob2Qgd2FzIFwidGhyb3dcIiBidXQgdGhlIGRlbGVnYXRlIGhhbmRsZWQgdGhlXG4gICAgICAvLyBleGNlcHRpb24sIGxldCB0aGUgb3V0ZXIgZ2VuZXJhdG9yIHByb2NlZWQgbm9ybWFsbHkuIElmXG4gICAgICAvLyBjb250ZXh0Lm1ldGhvZCB3YXMgXCJuZXh0XCIsIGZvcmdldCBjb250ZXh0LmFyZyBzaW5jZSBpdCBoYXMgYmVlblxuICAgICAgLy8gXCJjb25zdW1lZFwiIGJ5IHRoZSBkZWxlZ2F0ZSBpdGVyYXRvci4gSWYgY29udGV4dC5tZXRob2Qgd2FzXG4gICAgICAvLyBcInJldHVyblwiLCBhbGxvdyB0aGUgb3JpZ2luYWwgLnJldHVybiBjYWxsIHRvIGNvbnRpbnVlIGluIHRoZVxuICAgICAgLy8gb3V0ZXIgZ2VuZXJhdG9yLlxuICAgICAgaWYgKGNvbnRleHQubWV0aG9kICE9PSBcInJldHVyblwiKSB7XG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlLXlpZWxkIHRoZSByZXN1bHQgcmV0dXJuZWQgYnkgdGhlIGRlbGVnYXRlIG1ldGhvZC5cbiAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cblxuICAgIC8vIFRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBpcyBmaW5pc2hlZCwgc28gZm9yZ2V0IGl0IGFuZCBjb250aW51ZSB3aXRoXG4gICAgLy8gdGhlIG91dGVyIGdlbmVyYXRvci5cbiAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgfVxuXG4gIC8vIERlZmluZSBHZW5lcmF0b3IucHJvdG90eXBlLntuZXh0LHRocm93LHJldHVybn0gaW4gdGVybXMgb2YgdGhlXG4gIC8vIHVuaWZpZWQgLl9pbnZva2UgaGVscGVyIG1ldGhvZC5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEdwKTtcblxuICBHcFt0b1N0cmluZ1RhZ1N5bWJvbF0gPSBcIkdlbmVyYXRvclwiO1xuXG4gIC8vIEEgR2VuZXJhdG9yIHNob3VsZCBhbHdheXMgcmV0dXJuIGl0c2VsZiBhcyB0aGUgaXRlcmF0b3Igb2JqZWN0IHdoZW4gdGhlXG4gIC8vIEBAaXRlcmF0b3IgZnVuY3Rpb24gaXMgY2FsbGVkIG9uIGl0LiBTb21lIGJyb3dzZXJzJyBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlXG4gIC8vIGl0ZXJhdG9yIHByb3RvdHlwZSBjaGFpbiBpbmNvcnJlY3RseSBpbXBsZW1lbnQgdGhpcywgY2F1c2luZyB0aGUgR2VuZXJhdG9yXG4gIC8vIG9iamVjdCB0byBub3QgYmUgcmV0dXJuZWQgZnJvbSB0aGlzIGNhbGwuIFRoaXMgZW5zdXJlcyB0aGF0IGRvZXNuJ3QgaGFwcGVuLlxuICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2lzc3Vlcy8yNzQgZm9yIG1vcmUgZGV0YWlscy5cbiAgR3BbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgR3AudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXCJbb2JqZWN0IEdlbmVyYXRvcl1cIjtcbiAgfTtcblxuICBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykge1xuICAgIHZhciBlbnRyeSA9IHsgdHJ5TG9jOiBsb2NzWzBdIH07XG5cbiAgICBpZiAoMSBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5jYXRjaExvYyA9IGxvY3NbMV07XG4gICAgfVxuXG4gICAgaWYgKDIgaW4gbG9jcykge1xuICAgICAgZW50cnkuZmluYWxseUxvYyA9IGxvY3NbMl07XG4gICAgICBlbnRyeS5hZnRlckxvYyA9IGxvY3NbM107XG4gICAgfVxuXG4gICAgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkge1xuICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uIHx8IHt9O1xuICAgIHJlY29yZC50eXBlID0gXCJub3JtYWxcIjtcbiAgICBkZWxldGUgcmVjb3JkLmFyZztcbiAgICBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkO1xuICB9XG5cbiAgZnVuY3Rpb24gQ29udGV4dCh0cnlMb2NzTGlzdCkge1xuICAgIC8vIFRoZSByb290IGVudHJ5IG9iamVjdCAoZWZmZWN0aXZlbHkgYSB0cnkgc3RhdGVtZW50IHdpdGhvdXQgYSBjYXRjaFxuICAgIC8vIG9yIGEgZmluYWxseSBibG9jaykgZ2l2ZXMgdXMgYSBwbGFjZSB0byBzdG9yZSB2YWx1ZXMgdGhyb3duIGZyb21cbiAgICAvLyBsb2NhdGlvbnMgd2hlcmUgdGhlcmUgaXMgbm8gZW5jbG9zaW5nIHRyeSBzdGF0ZW1lbnQuXG4gICAgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiBcInJvb3RcIiB9XTtcbiAgICB0cnlMb2NzTGlzdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyk7XG4gICAgdGhpcy5yZXNldCh0cnVlKTtcbiAgfVxuXG4gIGV4cG9ydHMua2V5cyA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHZhciBrZXlzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgfVxuICAgIGtleXMucmV2ZXJzZSgpO1xuXG4gICAgLy8gUmF0aGVyIHRoYW4gcmV0dXJuaW5nIGFuIG9iamVjdCB3aXRoIGEgbmV4dCBtZXRob2QsIHdlIGtlZXBcbiAgICAvLyB0aGluZ3Mgc2ltcGxlIGFuZCByZXR1cm4gdGhlIG5leHQgZnVuY3Rpb24gaXRzZWxmLlxuICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgd2hpbGUgKGtleXMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzLnBvcCgpO1xuICAgICAgICBpZiAoa2V5IGluIG9iamVjdCkge1xuICAgICAgICAgIG5leHQudmFsdWUgPSBrZXk7XG4gICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVG8gYXZvaWQgY3JlYXRpbmcgYW4gYWRkaXRpb25hbCBvYmplY3QsIHdlIGp1c3QgaGFuZyB0aGUgLnZhbHVlXG4gICAgICAvLyBhbmQgLmRvbmUgcHJvcGVydGllcyBvZmYgdGhlIG5leHQgZnVuY3Rpb24gb2JqZWN0IGl0c2VsZi4gVGhpc1xuICAgICAgLy8gYWxzbyBlbnN1cmVzIHRoYXQgdGhlIG1pbmlmaWVyIHdpbGwgbm90IGFub255bWl6ZSB0aGUgZnVuY3Rpb24uXG4gICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfTtcbiAgfTtcblxuICBmdW5jdGlvbiB2YWx1ZXMoaXRlcmFibGUpIHtcbiAgICBpZiAoaXRlcmFibGUpIHtcbiAgICAgIHZhciBpdGVyYXRvck1ldGhvZCA9IGl0ZXJhYmxlW2l0ZXJhdG9yU3ltYm9sXTtcbiAgICAgIGlmIChpdGVyYXRvck1ldGhvZCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JNZXRob2QuY2FsbChpdGVyYWJsZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgaXRlcmFibGUubmV4dCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBpdGVyYWJsZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc05hTihpdGVyYWJsZS5sZW5ndGgpKSB7XG4gICAgICAgIHZhciBpID0gLTEsIG5leHQgPSBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgIHdoaWxlICgrK2kgPCBpdGVyYWJsZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChpdGVyYWJsZSwgaSkpIHtcbiAgICAgICAgICAgICAgbmV4dC52YWx1ZSA9IGl0ZXJhYmxlW2ldO1xuICAgICAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbmV4dC52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG5leHQubmV4dCA9IG5leHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGFuIGl0ZXJhdG9yIHdpdGggbm8gdmFsdWVzLlxuICAgIHJldHVybiB7IG5leHQ6IGRvbmVSZXN1bHQgfTtcbiAgfVxuICBleHBvcnRzLnZhbHVlcyA9IHZhbHVlcztcblxuICBmdW5jdGlvbiBkb25lUmVzdWx0KCkge1xuICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgfVxuXG4gIENvbnRleHQucHJvdG90eXBlID0ge1xuICAgIGNvbnN0cnVjdG9yOiBDb250ZXh0LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKHNraXBUZW1wUmVzZXQpIHtcbiAgICAgIHRoaXMucHJldiA9IDA7XG4gICAgICB0aGlzLm5leHQgPSAwO1xuICAgICAgLy8gUmVzZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICB0aGlzLmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgdGhpcy5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuXG4gICAgICB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KTtcblxuICAgICAgaWYgKCFza2lwVGVtcFJlc2V0KSB7XG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcykge1xuICAgICAgICAgIC8vIE5vdCBzdXJlIGFib3V0IHRoZSBvcHRpbWFsIG9yZGVyIG9mIHRoZXNlIGNvbmRpdGlvbnM6XG4gICAgICAgICAgaWYgKG5hbWUuY2hhckF0KDApID09PSBcInRcIiAmJlxuICAgICAgICAgICAgICBoYXNPd24uY2FsbCh0aGlzLCBuYW1lKSAmJlxuICAgICAgICAgICAgICAhaXNOYU4oK25hbWUuc2xpY2UoMSkpKSB7XG4gICAgICAgICAgICB0aGlzW25hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG5cbiAgICAgIHZhciByb290RW50cnkgPSB0aGlzLnRyeUVudHJpZXNbMF07XG4gICAgICB2YXIgcm9vdFJlY29yZCA9IHJvb3RFbnRyeS5jb21wbGV0aW9uO1xuICAgICAgaWYgKHJvb3RSZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJvb3RSZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5ydmFsO1xuICAgIH0sXG5cbiAgICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24oZXhjZXB0aW9uKSB7XG4gICAgICBpZiAodGhpcy5kb25lKSB7XG4gICAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuICAgICAgZnVuY3Rpb24gaGFuZGxlKGxvYywgY2F1Z2h0KSB7XG4gICAgICAgIHJlY29yZC50eXBlID0gXCJ0aHJvd1wiO1xuICAgICAgICByZWNvcmQuYXJnID0gZXhjZXB0aW9uO1xuICAgICAgICBjb250ZXh0Lm5leHQgPSBsb2M7XG5cbiAgICAgICAgaWYgKGNhdWdodCkge1xuICAgICAgICAgIC8vIElmIHRoZSBkaXNwYXRjaGVkIGV4Y2VwdGlvbiB3YXMgY2F1Z2h0IGJ5IGEgY2F0Y2ggYmxvY2ssXG4gICAgICAgICAgLy8gdGhlbiBsZXQgdGhhdCBjYXRjaCBibG9jayBoYW5kbGUgdGhlIGV4Y2VwdGlvbiBub3JtYWxseS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICEhIGNhdWdodDtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IFwicm9vdFwiKSB7XG4gICAgICAgICAgLy8gRXhjZXB0aW9uIHRocm93biBvdXRzaWRlIG9mIGFueSB0cnkgYmxvY2sgdGhhdCBjb3VsZCBoYW5kbGVcbiAgICAgICAgICAvLyBpdCwgc28gc2V0IHRoZSBjb21wbGV0aW9uIHZhbHVlIG9mIHRoZSBlbnRpcmUgZnVuY3Rpb24gdG9cbiAgICAgICAgICAvLyB0aHJvdyB0aGUgZXhjZXB0aW9uLlxuICAgICAgICAgIHJldHVybiBoYW5kbGUoXCJlbmRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldikge1xuICAgICAgICAgIHZhciBoYXNDYXRjaCA9IGhhc093bi5jYWxsKGVudHJ5LCBcImNhdGNoTG9jXCIpO1xuICAgICAgICAgIHZhciBoYXNGaW5hbGx5ID0gaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKTtcblxuICAgICAgICAgIGlmIChoYXNDYXRjaCAmJiBoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2F0Y2gpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYWJydXB0OiBmdW5jdGlvbih0eXBlLCBhcmcpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldiAmJlxuICAgICAgICAgICAgaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKSAmJlxuICAgICAgICAgICAgdGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgIHZhciBmaW5hbGx5RW50cnkgPSBlbnRyeTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZmluYWxseUVudHJ5ICYmXG4gICAgICAgICAgKHR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgICB0eXBlID09PSBcImNvbnRpbnVlXCIpICYmXG4gICAgICAgICAgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiZcbiAgICAgICAgICBhcmcgPD0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgLy8gSWdub3JlIHRoZSBmaW5hbGx5IGVudHJ5IGlmIGNvbnRyb2wgaXMgbm90IGp1bXBpbmcgdG8gYVxuICAgICAgICAvLyBsb2NhdGlvbiBvdXRzaWRlIHRoZSB0cnkvY2F0Y2ggYmxvY2suXG4gICAgICAgIGZpbmFsbHlFbnRyeSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciByZWNvcmQgPSBmaW5hbGx5RW50cnkgPyBmaW5hbGx5RW50cnkuY29tcGxldGlvbiA6IHt9O1xuICAgICAgcmVjb3JkLnR5cGUgPSB0eXBlO1xuICAgICAgcmVjb3JkLmFyZyA9IGFyZztcblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSkge1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICB0aGlzLm5leHQgPSBmaW5hbGx5RW50cnkuZmluYWxseUxvYztcbiAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmNvbXBsZXRlKHJlY29yZCk7XG4gICAgfSxcblxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZWNvcmQsIGFmdGVyTG9jKSB7XG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgIHJlY29yZC50eXBlID09PSBcImNvbnRpbnVlXCIpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gcmVjb3JkLmFyZztcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgdGhpcy5ydmFsID0gdGhpcy5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgIHRoaXMubmV4dCA9IFwiZW5kXCI7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiICYmIGFmdGVyTG9jKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IGFmdGVyTG9jO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9LFxuXG4gICAgZmluaXNoOiBmdW5jdGlvbihmaW5hbGx5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LmZpbmFsbHlMb2MgPT09IGZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB0aGlzLmNvbXBsZXRlKGVudHJ5LmNvbXBsZXRpb24sIGVudHJ5LmFmdGVyTG9jKTtcbiAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBcImNhdGNoXCI6IGZ1bmN0aW9uKHRyeUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IHRyeUxvYykge1xuICAgICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICB2YXIgdGhyb3duID0gcmVjb3JkLmFyZztcbiAgICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhyb3duO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBjb250ZXh0LmNhdGNoIG1ldGhvZCBtdXN0IG9ubHkgYmUgY2FsbGVkIHdpdGggYSBsb2NhdGlvblxuICAgICAgLy8gYXJndW1lbnQgdGhhdCBjb3JyZXNwb25kcyB0byBhIGtub3duIGNhdGNoIGJsb2NrLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpO1xuICAgIH0sXG5cbiAgICBkZWxlZ2F0ZVlpZWxkOiBmdW5jdGlvbihpdGVyYWJsZSwgcmVzdWx0TmFtZSwgbmV4dExvYykge1xuICAgICAgdGhpcy5kZWxlZ2F0ZSA9IHtcbiAgICAgICAgaXRlcmF0b3I6IHZhbHVlcyhpdGVyYWJsZSksXG4gICAgICAgIHJlc3VsdE5hbWU6IHJlc3VsdE5hbWUsXG4gICAgICAgIG5leHRMb2M6IG5leHRMb2NcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgLy8gRGVsaWJlcmF0ZWx5IGZvcmdldCB0aGUgbGFzdCBzZW50IHZhbHVlIHNvIHRoYXQgd2UgZG9uJ3RcbiAgICAgICAgLy8gYWNjaWRlbnRhbGx5IHBhc3MgaXQgb24gdG8gdGhlIGRlbGVnYXRlLlxuICAgICAgICB0aGlzLmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuICB9O1xuXG4gIC8vIFJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGVcbiAgLy8gb3Igbm90LCByZXR1cm4gdGhlIHJ1bnRpbWUgb2JqZWN0IHNvIHRoYXQgd2UgY2FuIGRlY2xhcmUgdGhlIHZhcmlhYmxlXG4gIC8vIHJlZ2VuZXJhdG9yUnVudGltZSBpbiB0aGUgb3V0ZXIgc2NvcGUsIHdoaWNoIGFsbG93cyB0aGlzIG1vZHVsZSB0byBiZVxuICAvLyBpbmplY3RlZCBlYXNpbHkgYnkgYGJpbi9yZWdlbmVyYXRvciAtLWluY2x1ZGUtcnVudGltZSBzY3JpcHQuanNgLlxuICByZXR1cm4gZXhwb3J0cztcblxufShcbiAgLy8gSWYgdGhpcyBzY3JpcHQgaXMgZXhlY3V0aW5nIGFzIGEgQ29tbW9uSlMgbW9kdWxlLCB1c2UgbW9kdWxlLmV4cG9ydHNcbiAgLy8gYXMgdGhlIHJlZ2VuZXJhdG9yUnVudGltZSBuYW1lc3BhY2UuIE90aGVyd2lzZSBjcmVhdGUgYSBuZXcgZW1wdHlcbiAgLy8gb2JqZWN0LiBFaXRoZXIgd2F5LCB0aGUgcmVzdWx0aW5nIG9iamVjdCB3aWxsIGJlIHVzZWQgdG8gaW5pdGlhbGl6ZVxuICAvLyB0aGUgcmVnZW5lcmF0b3JSdW50aW1lIHZhcmlhYmxlIGF0IHRoZSB0b3Agb2YgdGhpcyBmaWxlLlxuICB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiID8gbW9kdWxlLmV4cG9ydHMgOiB7fVxuKSk7XG5cbnRyeSB7XG4gIHJlZ2VuZXJhdG9yUnVudGltZSA9IHJ1bnRpbWU7XG59IGNhdGNoIChhY2NpZGVudGFsU3RyaWN0TW9kZSkge1xuICAvLyBUaGlzIG1vZHVsZSBzaG91bGQgbm90IGJlIHJ1bm5pbmcgaW4gc3RyaWN0IG1vZGUsIHNvIHRoZSBhYm92ZVxuICAvLyBhc3NpZ25tZW50IHNob3VsZCBhbHdheXMgd29yayB1bmxlc3Mgc29tZXRoaW5nIGlzIG1pc2NvbmZpZ3VyZWQuIEp1c3RcbiAgLy8gaW4gY2FzZSBydW50aW1lLmpzIGFjY2lkZW50YWxseSBydW5zIGluIHN0cmljdCBtb2RlLCB3ZSBjYW4gZXNjYXBlXG4gIC8vIHN0cmljdCBtb2RlIHVzaW5nIGEgZ2xvYmFsIEZ1bmN0aW9uIGNhbGwuIFRoaXMgY291bGQgY29uY2VpdmFibHkgZmFpbFxuICAvLyBpZiBhIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5IGZvcmJpZHMgdXNpbmcgRnVuY3Rpb24sIGJ1dCBpbiB0aGF0IGNhc2VcbiAgLy8gdGhlIHByb3BlciBzb2x1dGlvbiBpcyB0byBmaXggdGhlIGFjY2lkZW50YWwgc3RyaWN0IG1vZGUgcHJvYmxlbS4gSWZcbiAgLy8geW91J3ZlIG1pc2NvbmZpZ3VyZWQgeW91ciBidW5kbGVyIHRvIGZvcmNlIHN0cmljdCBtb2RlIGFuZCBhcHBsaWVkIGFcbiAgLy8gQ1NQIHRvIGZvcmJpZCBGdW5jdGlvbiwgYW5kIHlvdSdyZSBub3Qgd2lsbGluZyB0byBmaXggZWl0aGVyIG9mIHRob3NlXG4gIC8vIHByb2JsZW1zLCBwbGVhc2UgZGV0YWlsIHlvdXIgdW5pcXVlIHByZWRpY2FtZW50IGluIGEgR2l0SHViIGlzc3VlLlxuICBGdW5jdGlvbihcInJcIiwgXCJyZWdlbmVyYXRvclJ1bnRpbWUgPSByXCIpKHJ1bnRpbWUpO1xufVxuIiwidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS00LTEhLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cG9zdGNzcyEuL3N0eWxlLmNzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxudmFyIGV4cG9ydGVkID0gY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHt9O1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRlZDsiLCIvLyBJbXBvcnRzXG52YXIgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIik7XG5leHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiOnJvb3Qge1xcbiAgICAtLWJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xcbiAgICAtLW1haW4tY29sb3I6IHJnYig2MywgMTExLCAxMzkpO1xcbiAgICAtLXRleHQtY29sb3I6IGJsYWNrO1xcbiAgICAtLWRpc2FibGVkLWNvbG9yOiByZ2IoMjA3LDIwNywyMDcpO1xcbiAgICAtLWhvdmVyLWNvbG9yOiByZ2IoMTI1LCAxNzcsIDI0Nyk7XFxuICAgIC0tdmlzaXRlZC1jb2xvcjogcmdiKDEwNywgODIsIDEzOSk7XFxuICAgIC0taG92ZXItdmlzaXRlZC1jb2xvcjogcmdiKDE2OCwgMTI5LCAyMTgpO1xcbn1cXG5cXG4vKiBVc2UgYm94IHNpemluZyAoaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9ib3gtc2l6aW5nLykgKi9cXG5cXG5odG1sIHtcXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG59XFxuXFxuKiwgKjpiZWZvcmUsICo6YWZ0ZXIge1xcbiAgICBib3gtc2l6aW5nOiBpbmhlcml0O1xcbn1cXG5cXG5ib2R5IHtcXG4gICAgbWFyZ2luOiAzcHg7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLWNvbG9yKTtcXG4gICAgY29sb3I6IGJsYWNrO1xcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1jb2xvcik7XFxufVxcblxcbmFydGljbGUge1xcbiAgICBmb250LWZhbWlseTogc2Fucy1zZXJpZjtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJhY2tncm91bmQtY29sb3IpO1xcbn1cXG5cXG5oZWFkZXIge1xcbiAgICBjb2xvcjogcmdiKDYzLCAxMTEsIDEzOSk7XFxuICAgIGNvbG9yOiB2YXIoLS1tYWluLWNvbG9yKTtcXG59XFxuXFxuYnV0dG9uIHtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgcmdiKDYzLCAxMTEsIDEzOSk7XFxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLW1haW4tY29sb3IpO1xcbiAgICBwYWRkaW5nOiAxZW0gM2VtO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmFja2dyb3VuZC1jb2xvcik7XFxuICAgIGNvbG9yOiByZ2IoNjMsIDExMSwgMTM5KTtcXG4gICAgY29sb3I6IHZhcigtLW1haW4tY29sb3IpO1xcbiAgICBmb250LXdlaWdodDogYm9sZDtcXG59XFxuXFxuYnV0dG9uOmRpc2FibGVkIHtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgcmdiKDIwNywyMDcsMjA3KTtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tZGlzYWJsZWQtY29sb3IpO1xcbiAgICBwYWRkaW5nOiAxZW0gM2VtO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmFja2dyb3VuZC1jb2xvcik7XFxuICAgIGNvbG9yOiByZ2IoMjA3LDIwNywyMDcpO1xcbiAgICBjb2xvcjogdmFyKC0tZGlzYWJsZWQtY29sb3IpO1xcbn1cXG5cXG5idXR0b246ZGlzYWJsZWQ6aG92ZXIge1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2IoMjA3LDIwNywyMDcpO1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1kaXNhYmxlZC1jb2xvcik7XFxuICAgIHBhZGRpbmc6IDFlbSAzZW07XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLWNvbG9yKTtcXG4gICAgY29sb3I6IHJnYigyMDcsMjA3LDIwNyk7XFxuICAgIGNvbG9yOiB2YXIoLS1kaXNhYmxlZC1jb2xvcik7XFxufVxcblxcbmJ1dHRvbjphY3RpdmUsXFxuYnV0dG9uOmZvY3VzLFxcbmJ1dHRvbjpob3ZlciB7XFxuICAgIHBhZGRpbmc6IDFlbSAzZW07XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYig2MywgMTExLCAxMzkpO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1tYWluLWNvbG9yKTtcXG4gICAgY29sb3I6IHdoaXRlO1xcbiAgICBjb2xvcjogdmFyKC0tYmFja2dyb3VuZC1jb2xvcik7XFxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYig2MywgMTExLCAxMzkpO1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1tYWluLWNvbG9yKTtcXG59XFxuXFxuYSB7XFxuICAgIGNvbG9yOiByZ2IoNjMsIDExMSwgMTM5KTtcXG4gICAgY29sb3I6IHZhcigtLW1haW4tY29sb3IpO1xcbn1cXG5cXG5hOnZpc2l0ZWQge1xcbiAgICBjb2xvcjogcmdiKDEwNywgODIsIDEzOSk7XFxuICAgIGNvbG9yOiB2YXIoLS12aXNpdGVkLWNvbG9yKTtcXG59XFxuXFxuYTpob3ZlciB7XFxuICAgIGNvbG9yOiByZ2IoMTI1LCAxNzcsIDI0Nyk7XFxuICAgIGNvbG9yOiB2YXIoLS1ob3Zlci1jb2xvcik7XFxufVxcblxcbmE6aG92ZXI6dmlzaXRlZCB7XFxuICAgIGNvbG9yOiByZ2IoMTY4LCAxMjksIDIxOCk7XFxuICAgIGNvbG9yOiB2YXIoLS1ob3Zlci12aXNpdGVkLWNvbG9yKTtcXG59XFxuXFxuI215Q2FudmFzIHtcXG4gICAgYm9yZGVyOiAzcHggc29saWQgcmdiKDYzLCAxMTEsIDEzOSk7XFxuICAgIGJvcmRlcjogM3B4IHNvbGlkIHZhcigtLW1haW4tY29sb3IpO1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgaGVpZ2h0OiAzMDBweDtcXG59XFxuXFxuZGl2LmFjdGlvbi1jb250cm9scyB7XFxuICAgIHdpZHRoOiAxMDAlO1xcbn1cXG5cXG5kaXYuYWN0aW9uLWNvbnRyb2xzID4gYnV0dG9uIHtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XFxufVxcblxcbmRpdi5zcGVlZC1jb250cm9scyB7XFxufVxcblxcbkBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDIyOHB4KSB7XFxuICAgIGRpdi5hY3Rpb24tY29udHJvbHMgPiBidXR0b24ge1xcbiAgICAgICAgd2lkdGg6IGF1dG87XFxuICAgIH1cXG59XFxuXFxuQG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNDc1cHgpIHtcXG4gICAgZGl2LmFjdGlvbi1jb250cm9scyB7XFxuICAgICAgICB3aWR0aDogNTAlO1xcbiAgICAgICAgZmxvYXQ6IGxlZnQ7XFxuICAgIH1cXG4gICAgZGl2LmFjdGlvbi1jb250cm9scyA+IGJ1dHRvbiB7XFxuICAgICAgICB3aWR0aDogYXV0bztcXG4gICAgICAgIG1hcmdpbi1ib3R0b206IDA7XFxuICAgIH1cXG5cXG4gICAgZGl2LnNwZWVkLWNvbnRyb2xzIHtcXG4gICAgICAgIHdpZHRoOiA1MCU7XFxuICAgICAgICBmbG9hdDogbGVmdDtcXG4gICAgfVxcbn1cXG5cXG5AbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA2MDZweCkge1xcbiAgICAjbXlDYW52YXMge1xcbiAgICAgICAgd2lkdGg6IDYwMHB4O1xcbiAgICB9XFxuXFxuICAgIGRpdi5hY3Rpb24tY29udHJvbHMge1xcbiAgICAgICAgd2lkdGg6IDMwMHB4O1xcbiAgICAgICAgZmxvYXQ6IGxlZnQ7XFxuICAgIH1cXG5cXG4gICAgZGl2LnNwZWVkLWNvbnRyb2xzIHtcXG4gICAgICAgIHdpZHRoOiAzMDBweDtcXG4gICAgICAgIGZsb2F0OiBsZWZ0O1xcbiAgICB9XFxufVxcblwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7XG4iLCIvKipcbiAqIFRoaXMgY2xhc3MgcmVwcmVzZW50cyBhIGRpc2sgdXNlZCBpbiB0aGUgVG93ZXIgb2YgSGFub2kgcHV6emxlLlxuICovXG5leHBvcnQgY2xhc3MgRGlzayB7XG4gICAgY29uc3RydWN0b3IoeFBvc0luaXRpYWwsIHlQb3NJbml0aWFsLCB3aWR0aCwgY29sb3IpIHtcbiAgICAgICAgdGhpcy54UG9zID0geFBvc0luaXRpYWw7XG4gICAgICAgIHRoaXMueVBvcyA9IHlQb3NJbml0aWFsO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuY29sb3IgPSBjb2xvclxuICAgIH1cblxuICAgIGRyYXcoY3R4KSB7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4LmxpbmVDYXAgPSAncm91bmQnO1xuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmNvbG9yO1xuICAgICAgICBjdHgubGluZVdpZHRoID0gMTU7XG4gICAgICAgIGN0eC5tb3ZlVG8odGhpcy54UG9zIC0gKDUgKiB0aGlzLndpZHRoKSwgdGhpcy55UG9zKTtcbiAgICAgICAgY3R4LmxpbmVUbyh0aGlzLnhQb3MgKyAoNSAqIHRoaXMud2lkdGgpLCB0aGlzLnlQb3MpO1xuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBZaWVsZHMgdGFza3MgdGhhdCB3aWxsIHNvbHZlIHRoZSB0b3dlciB3aGVuIGV4ZWN1dGVkIHNlcXVlbnRpYWxseS5cbiAqXG4gKiBAcGFyYW0gbnVtRGlza3MgVGhlIG51bWJlciBvZiBkaXNrcyB0aGUgcHV6emxlIGNvbnRhaW5zXG4gKiBAcGFyYW0gc291cmNlUGVnIFRoZSBwZWcgd2Ugd2FudCB0byBtb3ZlIGRpc2tzIGZyb21cbiAqIEBwYXJhbSB0YXJnZXRQZWcgVGhlIHBlZyB3ZSB3YW50IHRvIG1vdmUgZGlza3MgdG9cbiAqIEBwYXJhbSBzcGFyZVBlZyBUaGUgcGVnIHdlIGNhbiB1c2UgdG8gbW92ZSBwZWdzIHRvIHRlbXBvcmFyaWx5XG4gKi9cbmV4cG9ydCBjb25zdCBzb2x2ZSA9IGZ1bmN0aW9uICoobnVtRGlza3MsIHNvdXJjZVBlZywgdGFyZ2V0UGVnLCBzcGFyZVBlZykge1xuICAgIGlmIChudW1EaXNrcyA+IDApIHtcbiAgICAgICAgeWllbGQqIHNvbHZlKG51bURpc2tzIC0gMSwgc291cmNlUGVnLCBzcGFyZVBlZywgdGFyZ2V0UGVnKTtcbiAgICAgICAgeWllbGQgeydhY3Rpb24nOiAnbW92ZScsXG4gICAgICAgICAgICAnc291cmNlJzogc291cmNlUGVnLFxuICAgICAgICAgICAgJ3RhcmdldCc6IHRhcmdldFBlZ307XG4gICAgICAgIHlpZWxkKiBzb2x2ZShudW1EaXNrcyAtIDEsIHNwYXJlUGVnLCB0YXJnZXRQZWcsIHNvdXJjZVBlZyk7XG4gICAgfVxufTtcbiIsImltcG9ydCAncmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lJztcbmltcG9ydCB7RGlza30gZnJvbSAnLi9kaXNrLmpzJztcbmltcG9ydCB7c29sdmV9IGZyb20gJy4vYWxnb3JpdGhtJztcbmltcG9ydCB7c3R5bGVzfSBmcm9tICcuL3N0eWxlLmNzcyc7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblxud2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBjdXJyZW50QW5pbWF0aW9uVGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdXJyZW50QW5pbWF0aW9uVGV4dCcpO1xuICAgIGxldCBhbmltYXRlID0gZmFsc2U7XG4gICAgbGV0IGNhbmNlbCA9IGZhbHNlO1xuICAgIGxldCBzcGVlZCA9IDE7XG4gICAgbGV0IHBlZ3MgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIHRoZSBzY2VuZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkcmF3QWRkaXRpb25hbCBBbiBvcHRpb25hbCBmdW5jdGlvbiB0aGF0IGRyYXdzIGFueXRoaW5nIGV4dHJhXG4gICAgICogYWZ0ZXIgd2UndmUgZHJhd24gZXZlcnl0aGluZyBlbHNlXG4gICAgICovXG4gICAgY29uc3QgZHJhd1NjZW5lID0gZnVuY3Rpb24gKHRpbWVTdGFtcCwgZHJhd0FkZGl0aW9uYWwpIHtcbiAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215Q2FudmFzJyk7XG4gICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgICAgIC8vIENsZWFyIHRoZSBzY2VuZVxuICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG5cbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIHRoZSBwZWdzIGFuZCBkcmF3IHRoZW1cbiAgICAgICAgLy8gRWFjaCBwZWcncyBkcmF3IGZ1bmN0aW9uIGRyYXdzIHRoZSBwZWdzIGFsc29cbiAgICAgICAgcGVncy5mb3JFYWNoKGZ1bmN0aW9uIChwZWcpIHtcbiAgICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgICBwZWcuZHJhdyhjdHgpO1xuICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBkcmF3QWRkaXRpb25hbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgICAgIGRyYXdBZGRpdGlvbmFsKGN0eCk7XG4gICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgY2xhc3MgcmVwcmVzZW50cyBhIHBlZyB1c2VkIGluIHRoZSBUb3dlciBvZiBIYW5vaSBwdXp6bGUuXG4gICAgICovXG4gICAgY2xhc3MgUGVnIHtcbiAgICAgICAgY29uc3RydWN0b3IobmFtZSwgeFBvc0luaXRpYWwsIHlQb3NJbml0aWFsLCBkaXNrcykge1xuICAgICAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgICAgIHRoaXMueFBvcyA9IHhQb3NJbml0aWFsO1xuICAgICAgICAgICAgdGhpcy55UG9zID0geVBvc0luaXRpYWw7XG4gICAgICAgICAgICB0aGlzLmRpc2tzID0gZGlza3M7XG4gICAgICAgICAgICB0aGlzLndpZHRoID0gNDA7XG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IDEzMDtcbiAgICAgICAgfVxuXG4gICAgICAgIG1vdmVUb3BEaXNrVG8ob3RoZXJQZWcsIGZpbmlzaGVkQ2FsbGJhY2spIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc2sgPSB0aGlzLmRpc2tzLnBvcCgpO1xuICAgICAgICAgICAgaWYgKCFjYW5jZWwpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50QW5pbWF0aW9uVGV4dC5yZXBsYWNlQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJ01vdmluZyAnICsgZGlzay5jb2xvciArICcgZGlzayBmcm9tICcgKyB0aGlzLm5hbWUgKyAnIHRvICcgKyBvdGhlclBlZy5uYW1lKSwgY3VycmVudEFuaW1hdGlvblRleHQubGFzdENoaWxkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGFuaW1hdGlvblN0YXRlID0gJ21vdmUtdXAnO1xuICAgICAgICAgICAgYW5pbWF0ZSA9IHRydWU7XG4gICAgICAgICAgICBsZXQgbGFzdEZyYW1lID0gbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZSA9IGZ1bmN0aW9uICh0aW1lc3RhbXApIHtcbiAgICAgICAgICAgICAgICBsZXQgZGVsdGEgPSAwO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vdmVtZW50U3BlZWQgPSBzcGVlZCAqIDU7XG4gICAgICAgICAgICAgICAgaWYgKGxhc3RGcmFtZSAmJiB0aW1lc3RhbXApIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsdGEgPSAodGltZXN0YW1wIC0gbGFzdEZyYW1lKSAvIDEwMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNhbmNlbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyB3ZSd2ZSBiZWVuIGNhbmNlbGxlZCwgZG9uJ3QgYm90aGVyIGFuaW1hdGluZyBhbnl0aGluZyBlbHNlXG4gICAgICAgICAgICAgICAgICAgIG90aGVyUGVnLnB1c2hEaXNrKGRpc2spO1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkQ2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uU3RhdGUgPT09ICdtb3ZlLXVwJykge1xuICAgICAgICAgICAgICAgICAgICBkaXNrLnlQb3MgLT0gbW92ZW1lbnRTcGVlZCAqIGRlbHRhO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzay55UG9zIDw9IDUwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNrLnlQb3MgPSA1MDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZpbmlzaGVkIG1vdmluZyB1cCwgbm93IG1vdmUgYWNyb3NzXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25TdGF0ZSA9ICdtb3ZlLWFjcm9zcyc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFuaW1hdGlvblN0YXRlID09PSAnbW92ZS1hY3Jvc3MnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXNrLnhQb3MgPCBvdGhlclBlZy54UG9zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNrLnhQb3MgKz0gbW92ZW1lbnRTcGVlZCAqIGRlbHRhO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXNrLnhQb3MgPiBvdGhlclBlZy54UG9zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNrLnhQb3MgLT0gbW92ZW1lbnRTcGVlZCAqIGRlbHRhO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICgoZGlzay54UG9zID4gKG90aGVyUGVnLnhQb3MgLSAobW92ZW1lbnRTcGVlZCAqIGRlbHRhKSkpICYmIChkaXNrLnhQb3MgPCAob3RoZXJQZWcueFBvcyArIChtb3ZlbWVudFNwZWVkICogZGVsdGEpKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2sueFBvcyA9IG90aGVyUGVnLnhQb3M7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmaW5pc2hlZCBtb3ZpbmcgYWNyb3NzLCBub3cgbW92ZSBkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25TdGF0ZSA9ICdtb3ZlLWRvd24nO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhbmltYXRpb25TdGF0ZSA9PT0gJ21vdmUtZG93bicpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHlQb3NUYXJnZXQgPSAyMzA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvdGhlclBlZy5kaXNrcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB5UG9zVGFyZ2V0ID0gb3RoZXJQZWcuZGlza3Nbb3RoZXJQZWcuZGlza3MubGVuZ3RoIC0gMV0ueVBvcyAtIDIwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXNrLnlQb3MgPCB5UG9zVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNrLnlQb3MgKz0gbW92ZW1lbnRTcGVlZCAqIGRlbHRhO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXNrLnlQb3MgPj0geVBvc1RhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmluaXNoZWQgbW92aW5nIGRvd24sIGRpc2sgc2hvdWxkIGJlIHdoZXJlIGl0IG5lZWRzIHRvIGJlIG5vd1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzay55UG9zID0geVBvc1RhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvblN0YXRlID0gJ2ZpbmlzaGVkJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYW5pbWF0aW9uU3RhdGUgPT09ICdmaW5pc2hlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJQZWcucHVzaERpc2soZGlzayk7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRDYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZHJhd1NjZW5lKG51bGwsIGZ1bmN0aW9uIChjdHgpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzay5kcmF3KGN0eCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBsYXN0RnJhbWUgPSB0aW1lc3RhbXA7XG4gICAgICAgICAgICAgICAgaWYgKGFuaW1hdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoIWNhbmNlbCkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodXBkYXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1c2hEaXNrKGRpc2spIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRpc2tzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBkaXNrLnlQb3MgPSB0aGlzLmRpc2tzW3RoaXMuZGlza3MubGVuZ3RoIC0gMV0ueVBvcyAtIDIwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkaXNrLnlQb3MgPSAyMzA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRpc2tzLnB1c2goZGlzayk7XG4gICAgICAgICAgICBkaXNrLnhQb3MgPSB0aGlzLnhQb3M7XG4gICAgICAgIH1cblxuICAgICAgICBkcmF3KGN0eCkge1xuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY3R4LmxpbmVDYXAgPSAnc3F1YXJlJztcbiAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICdicm93bic7XG4gICAgICAgICAgICBjdHgubGluZVdpZHRoID0gNTtcbiAgICAgICAgICAgIGN0eC5tb3ZlVG8odGhpcy54UG9zLCB0aGlzLnlQb3MpO1xuICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICAgICAgY3R4Lm1vdmVUbyh0aGlzLnhQb3MsIHRoaXMueVBvcyk7XG4gICAgICAgICAgICBjdHgubGluZVRvKHRoaXMueFBvcyAtIHRoaXMud2lkdGgsIHRoaXMueVBvcyk7XG4gICAgICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgICAgICBjdHgubW92ZVRvKHRoaXMueFBvcywgdGhpcy55UG9zKTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8odGhpcy54UG9zICsgdGhpcy53aWR0aCwgdGhpcy55UG9zKTtcbiAgICAgICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgICAgIGN0eC5tb3ZlVG8odGhpcy54UG9zLCB0aGlzLnlQb3MpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyh0aGlzLnhQb3MsIHRoaXMueVBvcyAtIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgICAgIGN0eC5zdHJva2UoKTtcblxuICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJ2JsYWNrJztcbiAgICAgICAgICAgIGN0eC5saW5lV2lkdGggPSAxO1xuICAgICAgICAgICAgY3R4LnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgICAgICAgICAgY3R4LmZvbnQgPSAnMjRweCBzYW5zLXNlcmlmJztcbiAgICAgICAgICAgIGN0eC5maWxsVGV4dCh0aGlzLm5hbWUsIHRoaXMueFBvcywgdGhpcy55UG9zICsgMzUpO1xuXG4gICAgICAgICAgICB0aGlzLmRpc2tzLmZvckVhY2goZnVuY3Rpb24gKGRpc2spIHtcbiAgICAgICAgICAgICAgICBkaXNrLmRyYXcoY3R4KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCB0aGUgcGVncyBhbmQgZGlza3MuIEFsc28gdXNlZCB0byByZXNldCB0aGluZ3MuXG4gICAgICovXG4gICAgY29uc3QgaW5pdGlhbGl6ZVBlZ3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHBlZ3MgPSBbXG4gICAgICAgICAgICBuZXcgUGVnKCdBJywgMTAwLCAyNTAsIFtcbiAgICAgICAgICAgICAgICBuZXcgRGlzaygxMDAsIDIzMCwgNSwgJ3B1cnBsZScpLFxuICAgICAgICAgICAgICAgIG5ldyBEaXNrKDEwMCwgMjEwLCA0LCAnYmx1ZScpLFxuICAgICAgICAgICAgICAgIG5ldyBEaXNrKDEwMCwgMTkwLCAzLCAnZ3JlZW4nKSxcbiAgICAgICAgICAgICAgICBuZXcgRGlzaygxMDAsIDE3MCwgMiwgJ29yYW5nZScpLFxuICAgICAgICAgICAgICAgIG5ldyBEaXNrKDEwMCwgMTUwLCAxLCAncmVkJyksXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIG5ldyBQZWcoJ0InLCAzMDAsIDI1MCwgW10pLFxuICAgICAgICAgICAgbmV3IFBlZygnQycsIDUwMCwgMjUwLCBbXSksXG4gICAgICAgIF07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCBldmVyeXRoaW5nIHVwIHN1Y2ggYXMgZXZlbnQgaGFuZGxlcnMgYW5kIHRoZSBjYW52YXNcbiAgICAgKi9cbiAgICBjb25zdCBpbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50QW5pbWF0aW9uVGV4dC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnUHJlc3MgdGhlIEdvIGJ1dHRvbiB0byBiZWdpbjonKSk7XG4gICAgICAgIGluaXRpYWxpemVQZWdzKCk7XG5cbiAgICAgICAgY29uc3QgYW5pbWF0ZUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbmltYXRlQnV0dG9uJyk7XG4gICAgICAgIGFuaW1hdGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBhbmltYXRlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy8gY2FsbCB0aGUgYWxnb3JpdGhtIHRvIGdldCB0aGUgbGlzdCBvZiB0YXNrc1xuICAgICAgICAgICAgLy8gdGhlIHRhc2tzIHRha2UgYSBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IHJ1bnMgd2hlbiBpdCBjb21wbGV0ZXNcbiAgICAgICAgICAgIGNvbnN0IHRhc2tzID0gW107XG4gICAgICAgICAgICBjb25zdCBnZW4gPSBzb2x2ZShwZWdzWzBdLmRpc2tzLmxlbmd0aCwgcGVnc1swXSwgcGVnc1syXSwgcGVnc1sxXSwgdGFza3MpO1xuXG4gICAgICAgICAgICBjb25zdCBjYWxsVGFzayA9IGZ1bmN0aW9uIChjYW5jZWxsZWQsIHRhc2spIHtcbiAgICAgICAgICAgICAgICBpZiAodGFzay5kb25lKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHdlJ3JlIGZpbmlzaGVkIG5vd1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGRyYXdTY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEFuaW1hdGlvblRleHQucmVwbGFjZUNoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCdBbGwgZmluaXNoZWQuIFByZXNzIHJlc2V0IHRvIHN0YXJ0IG92ZXI6JyksIGN1cnJlbnRBbmltYXRpb25UZXh0Lmxhc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYW5jZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRhc2sudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJvbVBlZyA9IHRhc2sudmFsdWUuc291cmNlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b1BlZyA9IHRhc2sudmFsdWUudGFyZ2V0O1xuXG4gICAgICAgICAgICAgICAgICAgIGZyb21QZWcubW92ZVRvcERpc2tUbyh0b1BlZywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbFRhc2soY2FuY2VsLCBnZW4ubmV4dCgpKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gY2FsbCB0aGUgbmV4dCB0YXNrXG4gICAgICAgICAgICBjYWxsVGFzayhjYW5jZWwsIGdlbi5uZXh0KCkpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCByZXNldEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNldEJ1dHRvbicpO1xuICAgICAgICByZXNldEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNhbmNlbCA9IHRydWU7XG4gICAgICAgICAgICBjdXJyZW50QW5pbWF0aW9uVGV4dC5yZXBsYWNlQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJ1Jlc2V0dGluZycpLCBjdXJyZW50QW5pbWF0aW9uVGV4dC5sYXN0Q2hpbGQpO1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgYW5pbWF0ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgY3VycmVudEFuaW1hdGlvblRleHQucmVwbGFjZUNoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCdQcmVzcyB0aGUgR28gYnV0dG9uIHRvIGJlZ2luOicpLCBjdXJyZW50QW5pbWF0aW9uVGV4dC5sYXN0Q2hpbGQpO1xuICAgICAgICAgICAgICAgIGluaXRpYWxpemVQZWdzKCk7XG5cbiAgICAgICAgICAgICAgICAvLyBkcmF3IG9uZSBmcmFtZSBhZnRlciBhIHJlc2V0XG4gICAgICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShkcmF3U2NlbmUpO1xuICAgICAgICAgICAgICAgIGNhbmNlbCA9IGZhbHNlO1xuICAgICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHNwZWVkU2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NwZWVkU2xpZGVyJyk7XG4gICAgICAgIHNwZWVkU2xpZGVyLm9uaW5wdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzcGVlZCA9IHBhcnNlSW50KHNwZWVkU2xpZGVyLnZhbHVlLCAxMCk7XG4gICAgICAgIH07XG4gICAgICAgIHNwZWVkID0gcGFyc2VJbnQoc3BlZWRTbGlkZXIudmFsdWUsIDEwKTtcblxuICAgICAgICAvLyBkcmF3IG9uZSBmcmFtZSB0byBiZWdpbiB3aXRoXG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZHJhd1NjZW5lKTtcbiAgICB9O1xuXG4gICAgaW5pdGlhbGl6ZSgpO1xufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=