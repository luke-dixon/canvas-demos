!function(t){var n={};function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(o,r,function(n){return t[n]}.bind(null,r));return o},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=7)}([function(t,n,e){"use strict";t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e=function(t,n){var e=t[1]||"",o=t[3];if(!o)return e;if(n&&"function"==typeof btoa){var r=(a=o,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),i=o.sources.map((function(t){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(t," */")}));return[e].concat(i).concat([r]).join("\n")}var a,s,c;return[e].join("\n")}(n,t);return n[2]?"@media ".concat(n[2]," {").concat(e,"}"):e})).join("")},n.i=function(t,e,o){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(o)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(r[a]=!0)}for(var s=0;s<t.length;s++){var c=[].concat(t[s]);o&&r[c[0]]||(e&&(c[2]?c[2]="".concat(e," and ").concat(c[2]):c[2]=e),n.push(c))}},n}},function(t,n,e){"use strict";e.r(n);var o=e(0),r=e.n(o)()(!0);r.push([t.i,":root {\n    --background-color: white;\n    --main-color: rgb(63, 111, 139);\n    --text-color: black;\n    --disabled-color: rgb(207,207,207);\n    --hover-color: rgb(125, 177, 247);\n    --visited-color: rgb(107, 82, 139);\n    --hover-visited-color: rgb(168, 129, 218);\n}\n\n/* Use box sizing (https://css-tricks.com/box-sizing/) */\nhtml {\n    box-sizing: border-box;\n}\n*, *:before, *:after {\n    box-sizing: inherit;\n}\n\n\nbody {\n    margin: 3px;\n    background-color: white;\n    background-color: var(--background-color);\n    color: black;\n    color: var(--text-color);\n}\n\narticle {\n    font-family: sans-serif;\n    background-color: white;\n    background-color: var(--background-color);\n}\n\nheader {\n    color: rgb(63, 111, 139);\n    color: var(--main-color);\n}\n\nbutton {\n    border: 1px solid rgb(63, 111, 139);\n    border: 1px solid var(--main-color);\n    padding: 1em 3em;\n    background-color: white;\n    background-color: var(--background-color);\n    color: rgb(63, 111, 139);\n    color: var(--main-color);\n    font-weight: bold;\n}\n\nbutton:disabled {\n    border: 1px solid rgb(207,207,207);\n    border: 1px solid var(--disabled-color);\n    padding: 1em 3em;\n    background-color: white;\n    background-color: var(--background-color);\n    color: rgb(207,207,207);\n    color: var(--disabled-color);\n}\n\nbutton:disabled:hover {\n    border: 1px solid rgb(207,207,207);\n    border: 1px solid var(--disabled-color);\n    padding: 1em 3em;\n    background-color: white;\n    background-color: var(--background-color);\n    color: rgb(207,207,207);\n    color: var(--disabled-color);\n}\n\nbutton:active,\nbutton:focus,\nbutton:hover {\n    padding: 1em 3em;\n    background-color: rgb(63, 111, 139);\n    background-color: var(--main-color);\n    color: white;\n    color: var(--background-color);\n    border: 1px solid rgb(63, 111, 139);\n    border: 1px solid var(--main-color);\n}\n\na {\n    color: rgb(63, 111, 139);\n    color: var(--main-color);\n}\na:visited {\n    color: rgb(107, 82, 139);\n    color: var(--visited-color);\n}\na:hover {\n    color: rgb(125, 177, 247);\n    color: var(--hover-color);\n}\na:hover:visited {\n    color: rgb(168, 129, 218);\n    color: var(--hover-visited-color);\n}\n","",{version:3,sources:["webpack://src/style.css"],names:[],mappings:"AAAA;IACI,yBAAyB;IACzB,+BAA+B;IAC/B,mBAAmB;IACnB,kCAA0B;IAC1B,iCAAiC;IACjC,kCAAkC;IAClC,yCAAyC;AAC7C;;AAEA,wDAAwD;AACxD;IACI,sBAAsB;AAC1B;AACA;IACI,mBAAmB;AACvB;;;AAGA;IACI,WAAW;IACX,uBAAyC;IAAzC,yCAAyC;IACzC,YAAwB;IAAxB,wBAAwB;AAC5B;;AAEA;IACI,uBAAuB;IACvB,uBAAyC;IAAzC,yCAAyC;AAC7C;;AAEA;IACI,wBAAwB;IAAxB,wBAAwB;AAC5B;;AAEA;IACI,mCAAmC;IAAnC,mCAAmC;IACnC,gBAAgB;IAChB,uBAAyC;IAAzC,yCAAyC;IACzC,wBAAwB;IAAxB,wBAAwB;IACxB,iBAAiB;AACrB;;AAEA;IACI,kCAAuC;IAAvC,uCAAuC;IACvC,gBAAgB;IAChB,uBAAyC;IAAzC,yCAAyC;IACzC,uBAA4B;IAA5B,4BAA4B;AAChC;;AAEA;IACI,kCAAuC;IAAvC,uCAAuC;IACvC,gBAAgB;IAChB,uBAAyC;IAAzC,yCAAyC;IACzC,uBAA4B;IAA5B,4BAA4B;AAChC;;AAEA;;;IAGI,gBAAgB;IAChB,mCAAmC;IAAnC,mCAAmC;IACnC,YAA8B;IAA9B,8BAA8B;IAC9B,mCAAmC;IAAnC,mCAAmC;AACvC;;AAEA;IACI,wBAAwB;IAAxB,wBAAwB;AAC5B;AACA;IACI,wBAA2B;IAA3B,2BAA2B;AAC/B;AACA;IACI,yBAAyB;IAAzB,yBAAyB;AAC7B;AACA;IACI,yBAAiC;IAAjC,iCAAiC;AACrC",sourcesContent:[":root {\n    --background-color: white;\n    --main-color: rgb(63, 111, 139);\n    --text-color: black;\n    --disabled-color: gray(83);\n    --hover-color: rgb(125, 177, 247);\n    --visited-color: rgb(107, 82, 139);\n    --hover-visited-color: rgb(168, 129, 218);\n}\n\n/* Use box sizing (https://css-tricks.com/box-sizing/) */\nhtml {\n    box-sizing: border-box;\n}\n*, *:before, *:after {\n    box-sizing: inherit;\n}\n\n\nbody {\n    margin: 3px;\n    background-color: var(--background-color);\n    color: var(--text-color);\n}\n\narticle {\n    font-family: sans-serif;\n    background-color: var(--background-color);\n}\n\nheader {\n    color: var(--main-color);\n}\n\nbutton {\n    border: 1px solid var(--main-color);\n    padding: 1em 3em;\n    background-color: var(--background-color);\n    color: var(--main-color);\n    font-weight: bold;\n}\n\nbutton:disabled {\n    border: 1px solid var(--disabled-color);\n    padding: 1em 3em;\n    background-color: var(--background-color);\n    color: var(--disabled-color);\n}\n\nbutton:disabled:hover {\n    border: 1px solid var(--disabled-color);\n    padding: 1em 3em;\n    background-color: var(--background-color);\n    color: var(--disabled-color);\n}\n\nbutton:active,\nbutton:focus,\nbutton:hover {\n    padding: 1em 3em;\n    background-color: var(--main-color);\n    color: var(--background-color);\n    border: 1px solid var(--main-color);\n}\n\na {\n    color: var(--main-color);\n}\na:visited {\n    color: var(--visited-color);\n}\na:hover {\n    color: var(--hover-color);\n}\na:hover:visited {\n    color: var(--hover-visited-color);\n}\n"],sourceRoot:""}]),n.default=r},function(t,n,e){"use strict";var o,r=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},i=function(){var t={};return function(n){if(void 0===t[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}t[n]=e}return t[n]}}(),a=[];function s(t){for(var n=-1,e=0;e<a.length;e++)if(a[e].identifier===t){n=e;break}return n}function c(t,n){for(var e={},o=[],r=0;r<t.length;r++){var i=t[r],c=n.base?i[0]+n.base:i[0],u=e[c]||0,l="".concat(c," ").concat(u);e[c]=u+1;var d=s(l),h={css:i[1],media:i[2],sourceMap:i[3]};-1!==d?(a[d].references++,a[d].updater(h)):a.push({identifier:l,updater:p(h,n),references:1}),o.push(l)}return o}function u(t){var n=document.createElement("style"),o=t.attributes||{};if(void 0===o.nonce){var r=e.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(t){n.setAttribute(t,o[t])})),"function"==typeof t.insert)t.insert(n);else{var a=i(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}return n}var l,d=(l=[],function(t,n){return l[t]=n,l.filter(Boolean).join("\n")});function h(t,n,e,o){var r=e?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(t.styleSheet)t.styleSheet.cssText=d(n,r);else{var i=document.createTextNode(r),a=t.childNodes;a[n]&&t.removeChild(a[n]),a.length?t.insertBefore(i,a[n]):t.appendChild(i)}}function f(t,n,e){var o=e.css,r=e.media,i=e.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),i&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}var A=null,v=0;function p(t,n){var e,o,r;if(n.singleton){var i=v++;e=A||(A=u(n)),o=h.bind(null,e,i,!1),r=h.bind(null,e,i,!0)}else e=u(n),o=f.bind(null,e,n),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)};return o(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;o(t=n)}else r()}}t.exports=function(t,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=r());var e=c(t=t||[],n);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var o=0;o<e.length;o++){var r=s(e[o]);a[r].references--}for(var i=c(t,n),u=0;u<e.length;u++){var l=s(e[u]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}e=i}}}},function(t,n,e){var o=function(t){"use strict";var n=Object.prototype,e=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function s(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{s({},"")}catch(t){s=function(t,n,e){return t[n]=e}}function c(t,n,e,o){var r=n&&n.prototype instanceof d?n:d,i=Object.create(r.prototype),a=new x(o||[]);return i._invoke=function(t,n,e){var o="suspendedStart";return function(r,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===r)throw i;return I()}for(e.method=r,e.arg=i;;){var a=e.delegate;if(a){var s=b(a,e);if(s){if(s===l)continue;return s}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===o)throw o="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o="executing";var c=u(t,n,e);if("normal"===c.type){if(o=e.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(o="completed",e.method="throw",e.arg=c.arg)}}}(t,e,a),i}function u(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function d(){}function h(){}function f(){}var A={};A[r]=function(){return this};var v=Object.getPrototypeOf,p=v&&v(v(k([])));p&&p!==n&&e.call(p,r)&&(A=p);var m=f.prototype=d.prototype=Object.create(A);function y(t){["next","throw","return"].forEach((function(n){s(t,n,(function(t){return this._invoke(n,t)}))}))}function g(t,n){var o;this._invoke=function(r,i){function a(){return new n((function(o,a){!function o(r,i,a,s){var c=u(t[r],t,i);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&e.call(d,"__await")?n.resolve(d.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):n.resolve(d).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}(r,i,o,a)}))}return o=o?o.then(a,a):a()}}function b(t,n){var e=t.iterator[n.method];if(void 0===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,b(t,n),"throw"===n.method))return l;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var o=u(e,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,l;var r=o.arg;return r?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,l):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}function C(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function w(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function k(t){if(t){var n=t[r];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(e.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=void 0,n.done=!0,n};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return h.prototype=m.constructor=f,f.constructor=h,h.displayName=s(f,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===h||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},y(g.prototype),g.prototype[i]=function(){return this},t.AsyncIterator=g,t.async=function(n,e,o,r,i){void 0===i&&(i=Promise);var a=new g(c(n,e,o,r),i);return t.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(m),s(m,a,"Generator"),m[r]=function(){return this},m.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=k,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(e,o){return a.type="throw",a.arg=t,n.next=e,o&&(n.method="next",n.arg=void 0),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=e.call(i,"catchLoc"),c=e.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=n,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),l},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),w(e),l}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var o=e.completion;if("throw"===o.type){var r=o.arg;w(e)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:k(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=o}catch(t){Function("r","regeneratorRuntime = r")(o)}},,,,function(t,n,e){e(3),t.exports=e(10)},function(t,n,e){var o=e(2),r=e(9);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);t.exports=r.locals||{}},function(t,n,e){"use strict";e.r(n);var o=e(0),r=e.n(o),i=e(1),a=r()(!0);a.i(i.default),a.push([t.i,"#myCanvas {\n    border: 3px solid var(--main-color);\n    width: 100%;\n    height: 300px;\n}\n\ndiv.action-controls {\n    width: 100%;\n}\ndiv.action-controls > button {\n    width: 100%;\n    margin-bottom: 10px;\n}\n\ndiv.speed-controls {\n}\n\n@media screen and (min-width: 228px) {\n    div.action-controls > button {\n        width: auto;\n    }\n}\n\n@media screen and (min-width: 475px) {\n    div.action-controls {\n        width: 50%;\n        float: left;\n    }\n    div.action-controls > button {\n        width: auto;\n        margin-bottom: 0;\n    }\n\n    div.speed-controls {\n        width: 50%;\n        float: left;\n    }\n}\n\n@media screen and (min-width: 606px) {\n    #myCanvas {\n        width: 600px;\n    }\n\n    div.action-controls {\n        width: 300px;\n        float: left;\n    }\n\n    div.speed-controls {\n        width: 300px;\n        float: left;\n    }\n}\n","",{version:3,sources:["webpack://src/tower-of-hanoi/style.css"],names:[],mappings:"AAEA;IACI,mCAAmC;IACnC,WAAW;IACX,aAAa;AACjB;;AAEA;IACI,WAAW;AACf;AACA;IACI,WAAW;IACX,mBAAmB;AACvB;;AAEA;AACA;;AAEA;IACI;QACI,WAAW;IACf;AACJ;;AAEA;IACI;QACI,UAAU;QACV,WAAW;IACf;IACA;QACI,WAAW;QACX,gBAAgB;IACpB;;IAEA;QACI,UAAU;QACV,WAAW;IACf;AACJ;;AAEA;IACI;QACI,YAAY;IAChB;;IAEA;QACI,YAAY;QACZ,WAAW;IACf;;IAEA;QACI,YAAY;QACZ,WAAW;IACf;AACJ",sourcesContent:['@import "../style.css";\n\n#myCanvas {\n    border: 3px solid var(--main-color);\n    width: 100%;\n    height: 300px;\n}\n\ndiv.action-controls {\n    width: 100%;\n}\ndiv.action-controls > button {\n    width: 100%;\n    margin-bottom: 10px;\n}\n\ndiv.speed-controls {\n}\n\n@media screen and (min-width: 228px) {\n    div.action-controls > button {\n        width: auto;\n    }\n}\n\n@media screen and (min-width: 475px) {\n    div.action-controls {\n        width: 50%;\n        float: left;\n    }\n    div.action-controls > button {\n        width: auto;\n        margin-bottom: 0;\n    }\n\n    div.speed-controls {\n        width: 50%;\n        float: left;\n    }\n}\n\n@media screen and (min-width: 606px) {\n    #myCanvas {\n        width: 600px;\n    }\n\n    div.action-controls {\n        width: 300px;\n        float: left;\n    }\n\n    div.speed-controls {\n        width: 300px;\n        float: left;\n    }\n}\n'],sourceRoot:""}]),n.default=a},function(t,n,e){"use strict";e.r(n);e(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&i(t,n)}function i(t,n){return(i=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,o=c(t);if(n){var r=c(this).constructor;e=Reflect.construct(o,arguments,r)}else e=o.apply(this,arguments);return s(this,e)}}function s(t,n){return!n||"object"!==o(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function l(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function d(t,n,e){return n&&l(t.prototype,n),e&&l(t,e),t}var h=function(){function t(n,e){u(this,t),this.mover=n,this.speed=e,this.finished=!1}return d(t,[{key:"move",value:function(t){throw new Error("Override this method")}},{key:"next",value:function(){return this}}]),t}(),f=function(t){r(e,t);var n=a(e);function e(t,o){var r;return u(this,e),(r=n.call(this,t,o)).finished=!0,r}return e}(h),A=function(t){r(e,t);var n=a(e);function e(t,o){var r;return u(this,e),(r=n.call(this,t,o)).mover.toPeg.disks.length>0?r.yPosTarget=r.mover.toPeg.disks[r.mover.toPeg.disks.length-1].yPos-20:r.yPosTarget=230,r}return d(e,[{key:"move",value:function(t){this.mover.disk.yPos<this.yPosTarget&&(this.mover.disk.yPos+=this.speed*t,this.mover.disk.yPos>=this.yPosTarget&&(this.mover.disk.yPos=this.yPosTarget))}},{key:"next",value:function(){return this.mover.disk.yPos===this.yPosTarget?new f(this.mover,this.speed):this}}]),e}(h),v=function(t){r(e,t);var n=a(e);function e(){return u(this,e),n.apply(this,arguments)}return d(e,[{key:"move",value:function(t){this.mover.disk.xPos<this.mover.toPeg.xPos?(this.mover.disk.xPos+=this.speed*t,this.mover.disk.xPos>this.mover.toPeg.xPos&&(this.mover.disk.xPos=this.mover.toPeg.xPos)):this.mover.disk.xPos>this.mover.toPeg.xPos&&(this.mover.disk.xPos-=this.speed*t,this.mover.disk.xPos<this.mover.toPeg.xPos&&(this.mover.disk.xPos=this.mover.toPeg.xPos))}},{key:"next",value:function(){return this.mover.disk.xPos===this.mover.toPeg.xPos?new A(this.mover,this.speed):this}}]),e}(h),p=function(t){r(e,t);var n=a(e);function e(){return u(this,e),n.apply(this,arguments)}return d(e,[{key:"move",value:function(t){this.mover.disk.yPos-=this.speed*t}},{key:"next",value:function(){return this.mover.disk.yPos<=50?(this.mover.disk.yPos=50,new v(this.mover,this.speed)):this}}]),e}(h);function m(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var y=function(){function t(n,e,o,r){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.xPos=n,this.yPos=e,this.width=o,this.color=r}var n,e,o;return n=t,(e=[{key:"draw",value:function(t){t.beginPath(),t.lineCap="round",t.strokeStyle=this.color,t.lineWidth=15,t.moveTo(this.xPos-5*this.width,this.yPos),t.lineTo(this.xPos+5*this.width,this.yPos),t.stroke()}}])&&m(n.prototype,e),o&&m(n,o),t}();function g(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var b=function(){function t(n,e,o,r){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=n,this.xPos=e,this.yPos=o,this.disks=r,this.width=40,this.height=130}var n,e,o;return n=t,(e=[{key:"pushDisk",value:function(t){this.disks.length>0?t.yPos=this.disks[this.disks.length-1].yPos-20:t.yPos=230,this.disks.push(t),t.xPos=this.xPos}},{key:"draw",value:function(t){t.beginPath(),t.lineCap="square",t.strokeStyle="brown",t.lineWidth=5,t.moveTo(this.xPos,this.yPos),t.stroke(),t.moveTo(this.xPos,this.yPos),t.lineTo(this.xPos-this.width,this.yPos),t.stroke(),t.moveTo(this.xPos,this.yPos),t.lineTo(this.xPos+this.width,this.yPos),t.stroke(),t.moveTo(this.xPos,this.yPos),t.lineTo(this.xPos,this.yPos-this.height),t.stroke(),t.strokeStyle="black",t.lineWidth=1,t.textAlign="center",t.font="24px sans-serif",t.fillText(this.name,this.xPos,this.yPos+35),this.disks.forEach((function(n){n.draw(t)}))}}])&&g(n.prototype,e),o&&g(n,o),t}(),C=regeneratorRuntime.mark((function t(n,e,o,r){return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(n>0)){i.next=5;break}return i.delegateYield(t(n-1,e,r,o),"t0",2);case 2:return i.next=4,{action:"move",source:e,target:o};case 4:return i.delegateYield(t(n-1,r,o,e),"t1",5);case 5:case"end":return i.stop()}}),t)}));e(8);function w(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}window.onload=function(){var t=document.getElementById("currentAnimationText"),n=!1,e=!1,o=1,r=[],i=null,a=function(t,n){var e=document.getElementById("myCanvas"),o=e.getContext("2d");o.clearRect(0,0,e.width,e.height),r.forEach((function(t){o.save(),t.draw(o),o.restore()})),"function"==typeof n&&(o.save(),n(o),o.restore())},s=function(){function r(t,n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r),this.speedMultiplier=5,this.fromPeg=t,this.toPeg=n,this.lastFrame=null,this.animationState=new p(this,o*this.speedMultiplier),this.disk=null,this.finishedCallback=null}var i,s,c;return i=r,(s=[{key:"move",value:function(o){var r=this;this.finishedCallback=o,this.disk=this.fromPeg.disks.pop(),e||t.replaceChild(document.createTextNode("Moving "+this.disk.color+" disk from "+this.fromPeg.name+" to "+this.toPeg.name),t.lastChild),n=!0,e||window.requestAnimationFrame((function(t){return r.update(t)}))}},{key:"cancel",value:function(){n=!1,this.animationState=new f(this.mover,5*o),this.disk&&this.toPeg.pushDisk(this.disk)}},{key:"update",value:function(t){var e=this,o=0;this.lastFrame&&t&&(o=(t-this.lastFrame)/100),this.animationState.move(o),this.animationState=this.animationState.next(),this.animationState.finished?(this.toPeg.pushDisk(this.disk),n=!1,this.finishedCallback()):(a(0,(function(t){e.disk.draw(t)})),this.lastFrame=t,n&&window.requestAnimationFrame((function(t){return e.update(t)})))}},{key:"speed",get:function(){return this.animationState.speed},set:function(t){this.animationState.speed=t*this.speedMultiplier}}])&&w(i.prototype,s),c&&w(i,c),r}(),c=function(){r=[new b("A",100,250,[new y(100,230,5,"purple"),new y(100,210,4,"blue"),new y(100,190,3,"green"),new y(100,170,2,"orange"),new y(100,150,1,"red")]),new b("B",300,250,[]),new b("C",500,250,[])]};!function(){t.appendChild(document.createTextNode("Press the Go button to begin:")),c();var n=document.getElementById("animateButton");n.addEventListener("click",(function(){n.disabled=!0;var o=C(r[0].disks.length,r[0],r[2],r[1],[]);!function n(r,c){if(c.done)return window.requestAnimationFrame(a),t.replaceChild(document.createTextNode("All finished. Press reset to start over:"),t.lastChild),void(e&&(e=!1));if(c.value){var u=c.value.source,l=c.value.target;(i=new s(u,l)).move((function(){n(e,o.next())}))}}(0,o.next())})),document.getElementById("resetButton").addEventListener("click",(function(){e=!0,t.replaceChild(document.createTextNode("Resetting"),t.lastChild),i&&(i.cancel(),window.requestAnimationFrame((function(){n.disabled=!1,t.replaceChild(document.createTextNode("Press the Go button to begin:"),t.lastChild),c(),window.requestAnimationFrame(a),e=!1})))}));var u=document.getElementById("speedSlider");u.oninput=function(){o=parseInt(u.value,10),i&&(i.speed=o)},o=parseInt(u.value,10),i&&(i.speed=o),window.requestAnimationFrame(a)}()}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGUuY3NzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIiwid2VicGFjazovLy8uL3NyYy90b3dlci1vZi1oYW5vaS9zdHlsZS5jc3M/NTQyYiIsIndlYnBhY2s6Ly8vLi9zcmMvdG93ZXItb2YtaGFub2kvc3R5bGUuY3NzIiwid2VicGFjazovLy8uL3NyYy90b3dlci1vZi1oYW5vaS9hbmltYXRpb25TdGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdG93ZXItb2YtaGFub2kvZGlzay5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdG93ZXItb2YtaGFub2kvcGVnLmpzIiwid2VicGFjazovLy8uL3NyYy90b3dlci1vZi1oYW5vaS9hbGdvcml0aG0uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Rvd2VyLW9mLWhhbm9pL3NjcmlwdC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInVzZVNvdXJjZU1hcCIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsImNzc01hcHBpbmciLCJidG9hIiwic291cmNlTWFwcGluZyIsInNvdXJjZU1hcCIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJjb25jYXQiLCJzb3VyY2VVUkxzIiwic291cmNlcyIsInNvdXJjZSIsInNvdXJjZVJvb3QiLCJqb2luIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsIm1lZGlhUXVlcnkiLCJkZWR1cGUiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwibGVuZ3RoIiwiaWQiLCJfaSIsInB1c2giLCJfX19DU1NfTE9BREVSX0VYUE9SVF9fXyIsIm1lbW8iLCJpc09sZElFIiwiQm9vbGVhbiIsIndpbmRvdyIsImRvY3VtZW50IiwiYWxsIiwiYXRvYiIsImdldFRhcmdldCIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwicXVlcnlTZWxlY3RvciIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJzdHlsZXNJbkRvbSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInJlc3VsdCIsIm1vZHVsZXNUb0RvbSIsIm9wdGlvbnMiLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJiYXNlIiwiY291bnQiLCJpbmRleCIsIm9iaiIsImNzcyIsIm1lZGlhIiwicmVmZXJlbmNlcyIsInVwZGF0ZXIiLCJhZGRTdHlsZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiY3JlYXRlRWxlbWVudCIsImF0dHJpYnV0ZXMiLCJub25jZSIsImtleXMiLCJmb3JFYWNoIiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwicmVtb3ZlIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBseVRvVGFnIiwicmVtb3ZlQXR0cmlidXRlIiwiZmlyc3RDaGlsZCIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJ1cGRhdGUiLCJzdHlsZUluZGV4IiwicGFyZW50Tm9kZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsIm5ld09iaiIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaW5kZXgiLCJzcGxpY2UiLCJydW50aW1lIiwiT3AiLCJoYXNPd24iLCIkU3ltYm9sIiwiaXRlcmF0b3JTeW1ib2wiLCJpdGVyYXRvciIsImFzeW5jSXRlcmF0b3JTeW1ib2wiLCJhc3luY0l0ZXJhdG9yIiwidG9TdHJpbmdUYWdTeW1ib2wiLCJkZWZpbmUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImVyciIsIndyYXAiLCJpbm5lckZuIiwib3V0ZXJGbiIsInNlbGYiLCJ0cnlMb2NzTGlzdCIsInByb3RvR2VuZXJhdG9yIiwiR2VuZXJhdG9yIiwiZ2VuZXJhdG9yIiwiY29udGV4dCIsIkNvbnRleHQiLCJfaW52b2tlIiwic3RhdGUiLCJtZXRob2QiLCJhcmciLCJkb25lUmVzdWx0IiwiZGVsZWdhdGUiLCJkZWxlZ2F0ZVJlc3VsdCIsIm1heWJlSW52b2tlRGVsZWdhdGUiLCJDb250aW51ZVNlbnRpbmVsIiwic2VudCIsIl9zZW50IiwiZGlzcGF0Y2hFeGNlcHRpb24iLCJhYnJ1cHQiLCJyZWNvcmQiLCJ0cnlDYXRjaCIsInR5cGUiLCJkb25lIiwibWFrZUludm9rZU1ldGhvZCIsImZuIiwiR2VuZXJhdG9yRnVuY3Rpb24iLCJHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSIsIkl0ZXJhdG9yUHJvdG90eXBlIiwiZ2V0UHJvdG8iLCJnZXRQcm90b3R5cGVPZiIsIk5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlIiwidmFsdWVzIiwiR3AiLCJkZWZpbmVJdGVyYXRvck1ldGhvZHMiLCJBc3luY0l0ZXJhdG9yIiwiUHJvbWlzZUltcGwiLCJwcmV2aW91c1Byb21pc2UiLCJjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZyIsInJlc29sdmUiLCJyZWplY3QiLCJpbnZva2UiLCJfX2F3YWl0IiwidGhlbiIsInVud3JhcHBlZCIsImVycm9yIiwidW5kZWZpbmVkIiwiVHlwZUVycm9yIiwiaW5mbyIsInJlc3VsdE5hbWUiLCJuZXh0IiwibmV4dExvYyIsInB1c2hUcnlFbnRyeSIsImxvY3MiLCJlbnRyeSIsInRyeUxvYyIsImNhdGNoTG9jIiwiZmluYWxseUxvYyIsImFmdGVyTG9jIiwidHJ5RW50cmllcyIsInJlc2V0VHJ5RW50cnkiLCJjb21wbGV0aW9uIiwicmVzZXQiLCJpdGVyYWJsZSIsIml0ZXJhdG9yTWV0aG9kIiwiaXNOYU4iLCJjb25zdHJ1Y3RvciIsImRpc3BsYXlOYW1lIiwiaXNHZW5lcmF0b3JGdW5jdGlvbiIsImdlbkZ1biIsImN0b3IiLCJtYXJrIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJhd3JhcCIsImFzeW5jIiwiUHJvbWlzZSIsIml0ZXIiLCJyZXZlcnNlIiwicG9wIiwic2tpcFRlbXBSZXNldCIsInByZXYiLCJjaGFyQXQiLCJzbGljZSIsInN0b3AiLCJyb290UmVjb3JkIiwicnZhbCIsImV4Y2VwdGlvbiIsImhhbmRsZSIsImxvYyIsImNhdWdodCIsImhhc0NhdGNoIiwiaGFzRmluYWxseSIsImZpbmFsbHlFbnRyeSIsImNvbXBsZXRlIiwiZmluaXNoIiwidGhyb3duIiwiZGVsZWdhdGVZaWVsZCIsInJlZ2VuZXJhdG9yUnVudGltZSIsImFjY2lkZW50YWxTdHJpY3RNb2RlIiwiRnVuY3Rpb24iLCJhcGkiLCJkZWZhdWx0IiwibG9jYWxzIiwiU3RhdGUiLCJtb3ZlciIsInNwZWVkIiwiZmluaXNoZWQiLCJkZWx0YSIsIkZpbmlzaGVkU3RhdGUiLCJNb3ZlRG93blN0YXRlIiwidG9QZWciLCJkaXNrcyIsInlQb3NUYXJnZXQiLCJ5UG9zIiwiZGlzayIsIk1vdmVBY3Jvc3NTdGF0ZSIsInhQb3MiLCJJbml0aWFsU3RhdGUiLCJEaXNrIiwieFBvc0luaXRpYWwiLCJ5UG9zSW5pdGlhbCIsIndpZHRoIiwiY29sb3IiLCJjdHgiLCJiZWdpblBhdGgiLCJsaW5lQ2FwIiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJQZWciLCJoZWlnaHQiLCJ0ZXh0QWxpZ24iLCJmb250IiwiZmlsbFRleHQiLCJkcmF3Iiwic29sdmUiLCJudW1EaXNrcyIsInNvdXJjZVBlZyIsInRhcmdldFBlZyIsInNwYXJlUGVnIiwib25sb2FkIiwiY3VycmVudEFuaW1hdGlvblRleHQiLCJnZXRFbGVtZW50QnlJZCIsImFuaW1hdGUiLCJjYW5jZWwiLCJwZWdzIiwiZGlza01vdmVyIiwiZHJhd1NjZW5lIiwidGltZVN0YW1wIiwiZHJhd0FkZGl0aW9uYWwiLCJjYW52YXMiLCJnZXRDb250ZXh0IiwiY2xlYXJSZWN0IiwicGVnIiwic2F2ZSIsInJlc3RvcmUiLCJEaXNrTW92ZXIiLCJmcm9tUGVnIiwic3BlZWRNdWx0aXBsaWVyIiwibGFzdEZyYW1lIiwiYW5pbWF0aW9uU3RhdGUiLCJmaW5pc2hlZENhbGxiYWNrIiwicmVwbGFjZUNoaWxkIiwibGFzdENoaWxkIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwidGltZXN0YW1wIiwicHVzaERpc2siLCJtb3ZlIiwidHMiLCJpbml0aWFsaXplUGVncyIsImFuaW1hdGVCdXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwiZGlzYWJsZWQiLCJnZW4iLCJjYWxsVGFzayIsImNhbmNlbGxlZCIsInRhc2siLCJzcGVlZFNsaWRlciIsIm9uaW5wdXQiLCJwYXJzZUludCIsImluaXRpYWxpemUiXSwibWFwcGluZ3MiOiJhQUNF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QixnQkFDeEhuQixJQUNBQSxHQUFTLElBSWpCLEdBQUlnQyxFQUFLelQsTUFBTyxDQUNaLElBQU1zUyxFQUFVbUIsRUFBS3pULE1BQU1tQyxPQUNyQmtOLEVBQVFvRSxFQUFLelQsTUFBTXVELFFBRXpCb08sRUFBWSxJQUFJVSxFQUFVQyxFQUFTakQsSUFDekIyRCxNQUFLLFdBQ1hPLEVBQVM5QixFQUFRNkIsRUFBSTlILFlBTWpDK0gsQ0FBUzlCLEVBQVE2QixFQUFJOUgsV0FHTHJJLFNBQVNvTyxlQUFlLGVBQ2hDNkIsaUJBQWlCLFNBQVMsV0FDbEMzQixHQUFTLEVBQ1RILEVBQXFCcUIsYUFBYXhQLFNBQVNnRCxlQUFlLGFBQWNtTCxFQUFxQnNCLFdBQ3pGakIsSUFDQUEsRUFBVUYsU0FDVnZPLE9BQU8yUCx1QkFBc0IsV0FDekJNLEVBQWNFLFVBQVcsRUFFekIvQixFQUFxQnFCLGFBQWF4UCxTQUFTZ0QsZUFBZSxpQ0FBa0NtTCxFQUFxQnNCLFdBQ2pITSxJQUdBaFEsT0FBTzJQLHNCQUFzQmpCLEdBQzdCSCxHQUFTLFNBS3JCLElBQU1pQyxFQUFjdlEsU0FBU29PLGVBQWUsZUFDNUNtQyxFQUFZQyxRQUFVLFdBQ2xCM0UsRUFBUTRFLFNBQVNGLEVBQVkxVCxNQUFPLElBQ2hDMlIsSUFDQUEsRUFBVTNDLE1BQVFBLElBRzFCQSxFQUFRNEUsU0FBU0YsRUFBWTFULE1BQU8sSUFDaEMyUixJQUNBQSxFQUFVM0MsTUFBUUEsR0FJdEI5TCxPQUFPMlAsc0JBQXNCakIsR0FHakNpQyIsImZpbGUiOiJ0b3dlci1vZi1oYW5vaS5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNyk7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXNlU291cmNlTWFwKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oJycpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnksIGRlZHVwZSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgJyddXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19pXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIlwiLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIiBhbmQgXCIpLmNvbmNhdChpdGVtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcblxuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiBcIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KGNzc01hcHBpbmcuc291cmNlUm9vdCB8fCAnJykuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufSAvLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5cblxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG4gIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgcmV0dXJuIFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbn0iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18odHJ1ZSk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCI6cm9vdCB7XFxuICAgIC0tYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XFxuICAgIC0tbWFpbi1jb2xvcjogcmdiKDYzLCAxMTEsIDEzOSk7XFxuICAgIC0tdGV4dC1jb2xvcjogYmxhY2s7XFxuICAgIC0tZGlzYWJsZWQtY29sb3I6IHJnYigyMDcsMjA3LDIwNyk7XFxuICAgIC0taG92ZXItY29sb3I6IHJnYigxMjUsIDE3NywgMjQ3KTtcXG4gICAgLS12aXNpdGVkLWNvbG9yOiByZ2IoMTA3LCA4MiwgMTM5KTtcXG4gICAgLS1ob3Zlci12aXNpdGVkLWNvbG9yOiByZ2IoMTY4LCAxMjksIDIxOCk7XFxufVxcblxcbi8qIFVzZSBib3ggc2l6aW5nIChodHRwczovL2Nzcy10cmlja3MuY29tL2JveC1zaXppbmcvKSAqL1xcbmh0bWwge1xcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbn1cXG4qLCAqOmJlZm9yZSwgKjphZnRlciB7XFxuICAgIGJveC1zaXppbmc6IGluaGVyaXQ7XFxufVxcblxcblxcbmJvZHkge1xcbiAgICBtYXJnaW46IDNweDtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJhY2tncm91bmQtY29sb3IpO1xcbiAgICBjb2xvcjogYmxhY2s7XFxuICAgIGNvbG9yOiB2YXIoLS10ZXh0LWNvbG9yKTtcXG59XFxuXFxuYXJ0aWNsZSB7XFxuICAgIGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmFja2dyb3VuZC1jb2xvcik7XFxufVxcblxcbmhlYWRlciB7XFxuICAgIGNvbG9yOiByZ2IoNjMsIDExMSwgMTM5KTtcXG4gICAgY29sb3I6IHZhcigtLW1haW4tY29sb3IpO1xcbn1cXG5cXG5idXR0b24ge1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2IoNjMsIDExMSwgMTM5KTtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tbWFpbi1jb2xvcik7XFxuICAgIHBhZGRpbmc6IDFlbSAzZW07XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLWNvbG9yKTtcXG4gICAgY29sb3I6IHJnYig2MywgMTExLCAxMzkpO1xcbiAgICBjb2xvcjogdmFyKC0tbWFpbi1jb2xvcik7XFxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xcbn1cXG5cXG5idXR0b246ZGlzYWJsZWQge1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2IoMjA3LDIwNywyMDcpO1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1kaXNhYmxlZC1jb2xvcik7XFxuICAgIHBhZGRpbmc6IDFlbSAzZW07XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLWNvbG9yKTtcXG4gICAgY29sb3I6IHJnYigyMDcsMjA3LDIwNyk7XFxuICAgIGNvbG9yOiB2YXIoLS1kaXNhYmxlZC1jb2xvcik7XFxufVxcblxcbmJ1dHRvbjpkaXNhYmxlZDpob3ZlciB7XFxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYigyMDcsMjA3LDIwNyk7XFxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWRpc2FibGVkLWNvbG9yKTtcXG4gICAgcGFkZGluZzogMWVtIDNlbTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJhY2tncm91bmQtY29sb3IpO1xcbiAgICBjb2xvcjogcmdiKDIwNywyMDcsMjA3KTtcXG4gICAgY29sb3I6IHZhcigtLWRpc2FibGVkLWNvbG9yKTtcXG59XFxuXFxuYnV0dG9uOmFjdGl2ZSxcXG5idXR0b246Zm9jdXMsXFxuYnV0dG9uOmhvdmVyIHtcXG4gICAgcGFkZGluZzogMWVtIDNlbTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDYzLCAxMTEsIDEzOSk7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLW1haW4tY29sb3IpO1xcbiAgICBjb2xvcjogd2hpdGU7XFxuICAgIGNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLWNvbG9yKTtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgcmdiKDYzLCAxMTEsIDEzOSk7XFxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLW1haW4tY29sb3IpO1xcbn1cXG5cXG5hIHtcXG4gICAgY29sb3I6IHJnYig2MywgMTExLCAxMzkpO1xcbiAgICBjb2xvcjogdmFyKC0tbWFpbi1jb2xvcik7XFxufVxcbmE6dmlzaXRlZCB7XFxuICAgIGNvbG9yOiByZ2IoMTA3LCA4MiwgMTM5KTtcXG4gICAgY29sb3I6IHZhcigtLXZpc2l0ZWQtY29sb3IpO1xcbn1cXG5hOmhvdmVyIHtcXG4gICAgY29sb3I6IHJnYigxMjUsIDE3NywgMjQ3KTtcXG4gICAgY29sb3I6IHZhcigtLWhvdmVyLWNvbG9yKTtcXG59XFxuYTpob3Zlcjp2aXNpdGVkIHtcXG4gICAgY29sb3I6IHJnYigxNjgsIDEyOSwgMjE4KTtcXG4gICAgY29sb3I6IHZhcigtLWhvdmVyLXZpc2l0ZWQtY29sb3IpO1xcbn1cXG5cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vc3JjL3N0eWxlLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtJQUNJLHlCQUF5QjtJQUN6QiwrQkFBK0I7SUFDL0IsbUJBQW1CO0lBQ25CLGtDQUEwQjtJQUMxQixpQ0FBaUM7SUFDakMsa0NBQWtDO0lBQ2xDLHlDQUF5QztBQUM3Qzs7QUFFQSx3REFBd0Q7QUFDeEQ7SUFDSSxzQkFBc0I7QUFDMUI7QUFDQTtJQUNJLG1CQUFtQjtBQUN2Qjs7O0FBR0E7SUFDSSxXQUFXO0lBQ1gsdUJBQXlDO0lBQXpDLHlDQUF5QztJQUN6QyxZQUF3QjtJQUF4Qix3QkFBd0I7QUFDNUI7O0FBRUE7SUFDSSx1QkFBdUI7SUFDdkIsdUJBQXlDO0lBQXpDLHlDQUF5QztBQUM3Qzs7QUFFQTtJQUNJLHdCQUF3QjtJQUF4Qix3QkFBd0I7QUFDNUI7O0FBRUE7SUFDSSxtQ0FBbUM7SUFBbkMsbUNBQW1DO0lBQ25DLGdCQUFnQjtJQUNoQix1QkFBeUM7SUFBekMseUNBQXlDO0lBQ3pDLHdCQUF3QjtJQUF4Qix3QkFBd0I7SUFDeEIsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksa0NBQXVDO0lBQXZDLHVDQUF1QztJQUN2QyxnQkFBZ0I7SUFDaEIsdUJBQXlDO0lBQXpDLHlDQUF5QztJQUN6Qyx1QkFBNEI7SUFBNUIsNEJBQTRCO0FBQ2hDOztBQUVBO0lBQ0ksa0NBQXVDO0lBQXZDLHVDQUF1QztJQUN2QyxnQkFBZ0I7SUFDaEIsdUJBQXlDO0lBQXpDLHlDQUF5QztJQUN6Qyx1QkFBNEI7SUFBNUIsNEJBQTRCO0FBQ2hDOztBQUVBOzs7SUFHSSxnQkFBZ0I7SUFDaEIsbUNBQW1DO0lBQW5DLG1DQUFtQztJQUNuQyxZQUE4QjtJQUE5Qiw4QkFBOEI7SUFDOUIsbUNBQW1DO0lBQW5DLG1DQUFtQztBQUN2Qzs7QUFFQTtJQUNJLHdCQUF3QjtJQUF4Qix3QkFBd0I7QUFDNUI7QUFDQTtJQUNJLHdCQUEyQjtJQUEzQiwyQkFBMkI7QUFDL0I7QUFDQTtJQUNJLHlCQUF5QjtJQUF6Qix5QkFBeUI7QUFDN0I7QUFDQTtJQUNJLHlCQUFpQztJQUFqQyxpQ0FBaUM7QUFDckNcIixcInNvdXJjZXNDb250ZW50XCI6W1wiOnJvb3Qge1xcbiAgICAtLWJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xcbiAgICAtLW1haW4tY29sb3I6IHJnYig2MywgMTExLCAxMzkpO1xcbiAgICAtLXRleHQtY29sb3I6IGJsYWNrO1xcbiAgICAtLWRpc2FibGVkLWNvbG9yOiBncmF5KDgzKTtcXG4gICAgLS1ob3Zlci1jb2xvcjogcmdiKDEyNSwgMTc3LCAyNDcpO1xcbiAgICAtLXZpc2l0ZWQtY29sb3I6IHJnYigxMDcsIDgyLCAxMzkpO1xcbiAgICAtLWhvdmVyLXZpc2l0ZWQtY29sb3I6IHJnYigxNjgsIDEyOSwgMjE4KTtcXG59XFxuXFxuLyogVXNlIGJveCBzaXppbmcgKGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vYm94LXNpemluZy8pICovXFxuaHRtbCB7XFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcbiosICo6YmVmb3JlLCAqOmFmdGVyIHtcXG4gICAgYm94LXNpemluZzogaW5oZXJpdDtcXG59XFxuXFxuXFxuYm9keSB7XFxuICAgIG1hcmdpbjogM3B4O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLWNvbG9yKTtcXG4gICAgY29sb3I6IHZhcigtLXRleHQtY29sb3IpO1xcbn1cXG5cXG5hcnRpY2xlIHtcXG4gICAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJhY2tncm91bmQtY29sb3IpO1xcbn1cXG5cXG5oZWFkZXIge1xcbiAgICBjb2xvcjogdmFyKC0tbWFpbi1jb2xvcik7XFxufVxcblxcbmJ1dHRvbiB7XFxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLW1haW4tY29sb3IpO1xcbiAgICBwYWRkaW5nOiAxZW0gM2VtO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLWNvbG9yKTtcXG4gICAgY29sb3I6IHZhcigtLW1haW4tY29sb3IpO1xcbiAgICBmb250LXdlaWdodDogYm9sZDtcXG59XFxuXFxuYnV0dG9uOmRpc2FibGVkIHtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tZGlzYWJsZWQtY29sb3IpO1xcbiAgICBwYWRkaW5nOiAxZW0gM2VtO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLWNvbG9yKTtcXG4gICAgY29sb3I6IHZhcigtLWRpc2FibGVkLWNvbG9yKTtcXG59XFxuXFxuYnV0dG9uOmRpc2FibGVkOmhvdmVyIHtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tZGlzYWJsZWQtY29sb3IpO1xcbiAgICBwYWRkaW5nOiAxZW0gM2VtO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLWNvbG9yKTtcXG4gICAgY29sb3I6IHZhcigtLWRpc2FibGVkLWNvbG9yKTtcXG59XFxuXFxuYnV0dG9uOmFjdGl2ZSxcXG5idXR0b246Zm9jdXMsXFxuYnV0dG9uOmhvdmVyIHtcXG4gICAgcGFkZGluZzogMWVtIDNlbTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbWFpbi1jb2xvcik7XFxuICAgIGNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLWNvbG9yKTtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tbWFpbi1jb2xvcik7XFxufVxcblxcbmEge1xcbiAgICBjb2xvcjogdmFyKC0tbWFpbi1jb2xvcik7XFxufVxcbmE6dmlzaXRlZCB7XFxuICAgIGNvbG9yOiB2YXIoLS12aXNpdGVkLWNvbG9yKTtcXG59XFxuYTpob3ZlciB7XFxuICAgIGNvbG9yOiB2YXIoLS1ob3Zlci1jb2xvcik7XFxufVxcbmE6aG92ZXI6dmlzaXRlZCB7XFxuICAgIGNvbG9yOiB2YXIoLS1ob3Zlci12aXNpdGVkLWNvbG9yKTtcXG59XFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgaXNPbGRJRSA9IGZ1bmN0aW9uIGlzT2xkSUUoKSB7XG4gIHZhciBtZW1vO1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUoKSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3NcbiAgICAgIC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcbiAgICAgIC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcbiAgICAgIC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuICAgICAgLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG4gICAgICBtZW1vID0gQm9vbGVhbih3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW87XG4gIH07XG59KCk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiBnZXRUYXJnZXQoKSB7XG4gIHZhciBtZW1vID0ge307XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSh0YXJnZXQpIHtcbiAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTsgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblxuICAgICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbiAgfTtcbn0oKTtcblxudmFyIHN0eWxlc0luRG9tID0gW107XG5cbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5Eb20ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5Eb21baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXVxuICAgIH07XG5cbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVzSW5Eb20ucHVzaCh7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IGFkZFN0eWxlKG9iaiwgb3B0aW9ucyksXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHZhciBhdHRyaWJ1dGVzID0gb3B0aW9ucy5hdHRyaWJ1dGVzIHx8IHt9O1xuXG4gIGlmICh0eXBlb2YgYXR0cmlidXRlcy5ub25jZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09ICd1bmRlZmluZWQnID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gICAgaWYgKG5vbmNlKSB7XG4gICAgICBhdHRyaWJ1dGVzLm5vbmNlID0gbm9uY2U7XG4gICAgfVxuICB9XG5cbiAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgfSk7XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9wdGlvbnMuaW5zZXJ0KHN0eWxlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KG9wdGlvbnMuaW5zZXJ0IHx8ICdoZWFkJyk7XG5cbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgICB9XG5cbiAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgcmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG52YXIgcmVwbGFjZVRleHQgPSBmdW5jdGlvbiByZXBsYWNlVGV4dCgpIHtcbiAgdmFyIHRleHRTdG9yZSA9IFtdO1xuICByZXR1cm4gZnVuY3Rpb24gcmVwbGFjZShpbmRleCwgcmVwbGFjZW1lbnQpIHtcbiAgICB0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG4gICAgcmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG4gIH07XG59KCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuICB2YXIgY3NzID0gcmVtb3ZlID8gJycgOiBvYmoubWVkaWEgPyBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpLmNvbmNhdChvYmouY3NzLCBcIn1cIikgOiBvYmouY3NzOyAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuICAgIHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuICAgIGlmIChjaGlsZE5vZGVzW2luZGV4XSkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH1cblxuICAgIGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgc3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGUsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gb2JqLmNzcztcbiAgdmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAobWVkaWEpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ21lZGlhJywgbWVkaWEpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlLnJlbW92ZUF0dHJpYnV0ZSgnbWVkaWEnKTtcbiAgfVxuXG4gIGlmIChzb3VyY2VNYXAgJiYgYnRvYSkge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGUuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXIgc2luZ2xldG9uQ291bnRlciA9IDA7XG5cbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgc3R5bGU7XG4gIHZhciB1cGRhdGU7XG4gIHZhciByZW1vdmU7XG5cbiAgaWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG4gICAgdmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG4gICAgc3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG4gICAgcmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZSA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXG4gICAgcmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlKG9iaik7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsgLy8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG4gIC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcblxuICBpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG4gIH1cblxuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0xpc3QpICE9PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRG9tW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRvbVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRvbS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxudmFyIHJ1bnRpbWUgPSAoZnVuY3Rpb24gKGV4cG9ydHMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIE9wID0gT2JqZWN0LnByb3RvdHlwZTtcbiAgdmFyIGhhc093biA9IE9wLmhhc093blByb3BlcnR5O1xuICB2YXIgdW5kZWZpbmVkOyAvLyBNb3JlIGNvbXByZXNzaWJsZSB0aGFuIHZvaWQgMC5cbiAgdmFyICRTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgPyBTeW1ib2wgOiB7fTtcbiAgdmFyIGl0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5pdGVyYXRvciB8fCBcIkBAaXRlcmF0b3JcIjtcbiAgdmFyIGFzeW5jSXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLmFzeW5jSXRlcmF0b3IgfHwgXCJAQGFzeW5jSXRlcmF0b3JcIjtcbiAgdmFyIHRvU3RyaW5nVGFnU3ltYm9sID0gJFN5bWJvbC50b1N0cmluZ1RhZyB8fCBcIkBAdG9TdHJpbmdUYWdcIjtcblxuICBmdW5jdGlvbiBkZWZpbmUob2JqLCBrZXksIHZhbHVlKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gb2JqW2tleV07XG4gIH1cbiAgdHJ5IHtcbiAgICAvLyBJRSA4IGhhcyBhIGJyb2tlbiBPYmplY3QuZGVmaW5lUHJvcGVydHkgdGhhdCBvbmx5IHdvcmtzIG9uIERPTSBvYmplY3RzLlxuICAgIGRlZmluZSh7fSwgXCJcIik7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGRlZmluZSA9IGZ1bmN0aW9uKG9iaiwga2V5LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIG9ialtrZXldID0gdmFsdWU7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICAvLyBJZiBvdXRlckZuIHByb3ZpZGVkIGFuZCBvdXRlckZuLnByb3RvdHlwZSBpcyBhIEdlbmVyYXRvciwgdGhlbiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvci5cbiAgICB2YXIgcHJvdG9HZW5lcmF0b3IgPSBvdXRlckZuICYmIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yID8gb3V0ZXJGbiA6IEdlbmVyYXRvcjtcbiAgICB2YXIgZ2VuZXJhdG9yID0gT2JqZWN0LmNyZWF0ZShwcm90b0dlbmVyYXRvci5wcm90b3R5cGUpO1xuICAgIHZhciBjb250ZXh0ID0gbmV3IENvbnRleHQodHJ5TG9jc0xpc3QgfHwgW10pO1xuXG4gICAgLy8gVGhlIC5faW52b2tlIG1ldGhvZCB1bmlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlIC5uZXh0LFxuICAgIC8vIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcy5cbiAgICBnZW5lcmF0b3IuX2ludm9rZSA9IG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG5cbiAgICByZXR1cm4gZ2VuZXJhdG9yO1xuICB9XG4gIGV4cG9ydHMud3JhcCA9IHdyYXA7XG5cbiAgLy8gVHJ5L2NhdGNoIGhlbHBlciB0byBtaW5pbWl6ZSBkZW9wdGltaXphdGlvbnMuIFJldHVybnMgYSBjb21wbGV0aW9uXG4gIC8vIHJlY29yZCBsaWtlIGNvbnRleHQudHJ5RW50cmllc1tpXS5jb21wbGV0aW9uLiBUaGlzIGludGVyZmFjZSBjb3VsZFxuICAvLyBoYXZlIGJlZW4gKGFuZCB3YXMgcHJldmlvdXNseSkgZGVzaWduZWQgdG8gdGFrZSBhIGNsb3N1cmUgdG8gYmVcbiAgLy8gaW52b2tlZCB3aXRob3V0IGFyZ3VtZW50cywgYnV0IGluIGFsbCB0aGUgY2FzZXMgd2UgY2FyZSBhYm91dCB3ZVxuICAvLyBhbHJlYWR5IGhhdmUgYW4gZXhpc3RpbmcgbWV0aG9kIHdlIHdhbnQgdG8gY2FsbCwgc28gdGhlcmUncyBubyBuZWVkXG4gIC8vIHRvIGNyZWF0ZSBhIG5ldyBmdW5jdGlvbiBvYmplY3QuIFdlIGNhbiBldmVuIGdldCBhd2F5IHdpdGggYXNzdW1pbmdcbiAgLy8gdGhlIG1ldGhvZCB0YWtlcyBleGFjdGx5IG9uZSBhcmd1bWVudCwgc2luY2UgdGhhdCBoYXBwZW5zIHRvIGJlIHRydWVcbiAgLy8gaW4gZXZlcnkgY2FzZSwgc28gd2UgZG9uJ3QgaGF2ZSB0byB0b3VjaCB0aGUgYXJndW1lbnRzIG9iamVjdC4gVGhlXG4gIC8vIG9ubHkgYWRkaXRpb25hbCBhbGxvY2F0aW9uIHJlcXVpcmVkIGlzIHRoZSBjb21wbGV0aW9uIHJlY29yZCwgd2hpY2hcbiAgLy8gaGFzIGEgc3RhYmxlIHNoYXBlIGFuZCBzbyBob3BlZnVsbHkgc2hvdWxkIGJlIGNoZWFwIHRvIGFsbG9jYXRlLlxuICBmdW5jdGlvbiB0cnlDYXRjaChmbiwgb2JqLCBhcmcpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJub3JtYWxcIiwgYXJnOiBmbi5jYWxsKG9iaiwgYXJnKSB9O1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJ0aHJvd1wiLCBhcmc6IGVyciB9O1xuICAgIH1cbiAgfVxuXG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0ID0gXCJzdXNwZW5kZWRTdGFydFwiO1xuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRZaWVsZCA9IFwic3VzcGVuZGVkWWllbGRcIjtcbiAgdmFyIEdlblN0YXRlRXhlY3V0aW5nID0gXCJleGVjdXRpbmdcIjtcbiAgdmFyIEdlblN0YXRlQ29tcGxldGVkID0gXCJjb21wbGV0ZWRcIjtcblxuICAvLyBSZXR1cm5pbmcgdGhpcyBvYmplY3QgZnJvbSB0aGUgaW5uZXJGbiBoYXMgdGhlIHNhbWUgZWZmZWN0IGFzXG4gIC8vIGJyZWFraW5nIG91dCBvZiB0aGUgZGlzcGF0Y2ggc3dpdGNoIHN0YXRlbWVudC5cbiAgdmFyIENvbnRpbnVlU2VudGluZWwgPSB7fTtcblxuICAvLyBEdW1teSBjb25zdHJ1Y3RvciBmdW5jdGlvbnMgdGhhdCB3ZSB1c2UgYXMgdGhlIC5jb25zdHJ1Y3RvciBhbmRcbiAgLy8gLmNvbnN0cnVjdG9yLnByb3RvdHlwZSBwcm9wZXJ0aWVzIGZvciBmdW5jdGlvbnMgdGhhdCByZXR1cm4gR2VuZXJhdG9yXG4gIC8vIG9iamVjdHMuIEZvciBmdWxsIHNwZWMgY29tcGxpYW5jZSwgeW91IG1heSB3aXNoIHRvIGNvbmZpZ3VyZSB5b3VyXG4gIC8vIG1pbmlmaWVyIG5vdCB0byBtYW5nbGUgdGhlIG5hbWVzIG9mIHRoZXNlIHR3byBmdW5jdGlvbnMuXG4gIGZ1bmN0aW9uIEdlbmVyYXRvcigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUoKSB7fVxuXG4gIC8vIFRoaXMgaXMgYSBwb2x5ZmlsbCBmb3IgJUl0ZXJhdG9yUHJvdG90eXBlJSBmb3IgZW52aXJvbm1lbnRzIHRoYXRcbiAgLy8gZG9uJ3QgbmF0aXZlbHkgc3VwcG9ydCBpdC5cbiAgdmFyIEl0ZXJhdG9yUHJvdG90eXBlID0ge307XG4gIEl0ZXJhdG9yUHJvdG90eXBlW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICB2YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG4gIHZhciBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvICYmIGdldFByb3RvKGdldFByb3RvKHZhbHVlcyhbXSkpKTtcbiAgaWYgKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICYmXG4gICAgICBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAhPT0gT3AgJiZcbiAgICAgIGhhc093bi5jYWxsKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCkpIHtcbiAgICAvLyBUaGlzIGVudmlyb25tZW50IGhhcyBhIG5hdGl2ZSAlSXRlcmF0b3JQcm90b3R5cGUlOyB1c2UgaXQgaW5zdGVhZFxuICAgIC8vIG9mIHRoZSBwb2x5ZmlsbC5cbiAgICBJdGVyYXRvclByb3RvdHlwZSA9IE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlO1xuICB9XG5cbiAgdmFyIEdwID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUucHJvdG90eXBlID1cbiAgICBHZW5lcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSk7XG4gIEdlbmVyYXRvckZ1bmN0aW9uLnByb3RvdHlwZSA9IEdwLmNvbnN0cnVjdG9yID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLmNvbnN0cnVjdG9yID0gR2VuZXJhdG9yRnVuY3Rpb247XG4gIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gZGVmaW5lKFxuICAgIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLFxuICAgIHRvU3RyaW5nVGFnU3ltYm9sLFxuICAgIFwiR2VuZXJhdG9yRnVuY3Rpb25cIlxuICApO1xuXG4gIC8vIEhlbHBlciBmb3IgZGVmaW5pbmcgdGhlIC5uZXh0LCAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMgb2YgdGhlXG4gIC8vIEl0ZXJhdG9yIGludGVyZmFjZSBpbiB0ZXJtcyBvZiBhIHNpbmdsZSAuX2ludm9rZSBtZXRob2QuXG4gIGZ1bmN0aW9uIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhwcm90b3R5cGUpIHtcbiAgICBbXCJuZXh0XCIsIFwidGhyb3dcIiwgXCJyZXR1cm5cIl0uZm9yRWFjaChmdW5jdGlvbihtZXRob2QpIHtcbiAgICAgIGRlZmluZShwcm90b3R5cGUsIG1ldGhvZCwgZnVuY3Rpb24oYXJnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZva2UobWV0aG9kLCBhcmcpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICB2YXIgY3RvciA9IHR5cGVvZiBnZW5GdW4gPT09IFwiZnVuY3Rpb25cIiAmJiBnZW5GdW4uY29uc3RydWN0b3I7XG4gICAgcmV0dXJuIGN0b3JcbiAgICAgID8gY3RvciA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHxcbiAgICAgICAgLy8gRm9yIHRoZSBuYXRpdmUgR2VuZXJhdG9yRnVuY3Rpb24gY29uc3RydWN0b3IsIHRoZSBiZXN0IHdlIGNhblxuICAgICAgICAvLyBkbyBpcyB0byBjaGVjayBpdHMgLm5hbWUgcHJvcGVydHkuXG4gICAgICAgIChjdG9yLmRpc3BsYXlOYW1lIHx8IGN0b3IubmFtZSkgPT09IFwiR2VuZXJhdG9yRnVuY3Rpb25cIlxuICAgICAgOiBmYWxzZTtcbiAgfTtcblxuICBleHBvcnRzLm1hcmsgPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZ2VuRnVuLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdlbkZ1bi5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgICAgIGRlZmluZShnZW5GdW4sIHRvU3RyaW5nVGFnU3ltYm9sLCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIpO1xuICAgIH1cbiAgICBnZW5GdW4ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShHcCk7XG4gICAgcmV0dXJuIGdlbkZ1bjtcbiAgfTtcblxuICAvLyBXaXRoaW4gdGhlIGJvZHkgb2YgYW55IGFzeW5jIGZ1bmN0aW9uLCBgYXdhaXQgeGAgaXMgdHJhbnNmb3JtZWQgdG9cbiAgLy8gYHlpZWxkIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh4KWAsIHNvIHRoYXQgdGhlIHJ1bnRpbWUgY2FuIHRlc3RcbiAgLy8gYGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIilgIHRvIGRldGVybWluZSBpZiB0aGUgeWllbGRlZCB2YWx1ZSBpc1xuICAvLyBtZWFudCB0byBiZSBhd2FpdGVkLlxuICBleHBvcnRzLmF3cmFwID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHsgX19hd2FpdDogYXJnIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gQXN5bmNJdGVyYXRvcihnZW5lcmF0b3IsIFByb21pc2VJbXBsKSB7XG4gICAgZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChnZW5lcmF0b3JbbWV0aG9kXSwgZ2VuZXJhdG9yLCBhcmcpO1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgcmVqZWN0KHJlY29yZC5hcmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHJlY29yZC5hcmc7XG4gICAgICAgIHZhciB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlICYmXG4gICAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICAgIGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIikpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZS5fX2F3YWl0KS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpbnZva2UoXCJuZXh0XCIsIHZhbHVlLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgaW52b2tlKFwidGhyb3dcIiwgZXJyLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUpLnRoZW4oZnVuY3Rpb24odW53cmFwcGVkKSB7XG4gICAgICAgICAgLy8gV2hlbiBhIHlpZWxkZWQgUHJvbWlzZSBpcyByZXNvbHZlZCwgaXRzIGZpbmFsIHZhbHVlIGJlY29tZXNcbiAgICAgICAgICAvLyB0aGUgLnZhbHVlIG9mIHRoZSBQcm9taXNlPHt2YWx1ZSxkb25lfT4gcmVzdWx0IGZvciB0aGVcbiAgICAgICAgICAvLyBjdXJyZW50IGl0ZXJhdGlvbi5cbiAgICAgICAgICByZXN1bHQudmFsdWUgPSB1bndyYXBwZWQ7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgIC8vIElmIGEgcmVqZWN0ZWQgUHJvbWlzZSB3YXMgeWllbGRlZCwgdGhyb3cgdGhlIHJlamVjdGlvbiBiYWNrXG4gICAgICAgICAgLy8gaW50byB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIHNvIGl0IGNhbiBiZSBoYW5kbGVkIHRoZXJlLlxuICAgICAgICAgIHJldHVybiBpbnZva2UoXCJ0aHJvd1wiLCBlcnJvciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHByZXZpb3VzUHJvbWlzZTtcblxuICAgIGZ1bmN0aW9uIGVucXVldWUobWV0aG9kLCBhcmcpIHtcbiAgICAgIGZ1bmN0aW9uIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2VJbXBsKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcmV2aW91c1Byb21pc2UgPVxuICAgICAgICAvLyBJZiBlbnF1ZXVlIGhhcyBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gd2Ugd2FudCB0byB3YWl0IHVudGlsXG4gICAgICAgIC8vIGFsbCBwcmV2aW91cyBQcm9taXNlcyBoYXZlIGJlZW4gcmVzb2x2ZWQgYmVmb3JlIGNhbGxpbmcgaW52b2tlLFxuICAgICAgICAvLyBzbyB0aGF0IHJlc3VsdHMgYXJlIGFsd2F5cyBkZWxpdmVyZWQgaW4gdGhlIGNvcnJlY3Qgb3JkZXIuIElmXG4gICAgICAgIC8vIGVucXVldWUgaGFzIG5vdCBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gaXQgaXMgaW1wb3J0YW50IHRvXG4gICAgICAgIC8vIGNhbGwgaW52b2tlIGltbWVkaWF0ZWx5LCB3aXRob3V0IHdhaXRpbmcgb24gYSBjYWxsYmFjayB0byBmaXJlLFxuICAgICAgICAvLyBzbyB0aGF0IHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gaGFzIHRoZSBvcHBvcnR1bml0eSB0byBkb1xuICAgICAgICAvLyBhbnkgbmVjZXNzYXJ5IHNldHVwIGluIGEgcHJlZGljdGFibGUgd2F5LiBUaGlzIHByZWRpY3RhYmlsaXR5XG4gICAgICAgIC8vIGlzIHdoeSB0aGUgUHJvbWlzZSBjb25zdHJ1Y3RvciBzeW5jaHJvbm91c2x5IGludm9rZXMgaXRzXG4gICAgICAgIC8vIGV4ZWN1dG9yIGNhbGxiYWNrLCBhbmQgd2h5IGFzeW5jIGZ1bmN0aW9ucyBzeW5jaHJvbm91c2x5XG4gICAgICAgIC8vIGV4ZWN1dGUgY29kZSBiZWZvcmUgdGhlIGZpcnN0IGF3YWl0LiBTaW5jZSB3ZSBpbXBsZW1lbnQgc2ltcGxlXG4gICAgICAgIC8vIGFzeW5jIGZ1bmN0aW9ucyBpbiB0ZXJtcyBvZiBhc3luYyBnZW5lcmF0b3JzLCBpdCBpcyBlc3BlY2lhbGx5XG4gICAgICAgIC8vIGltcG9ydGFudCB0byBnZXQgdGhpcyByaWdodCwgZXZlbiB0aG91Z2ggaXQgcmVxdWlyZXMgY2FyZS5cbiAgICAgICAgcHJldmlvdXNQcm9taXNlID8gcHJldmlvdXNQcm9taXNlLnRoZW4oXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcsXG4gICAgICAgICAgLy8gQXZvaWQgcHJvcGFnYXRpbmcgZmFpbHVyZXMgdG8gUHJvbWlzZXMgcmV0dXJuZWQgYnkgbGF0ZXJcbiAgICAgICAgICAvLyBpbnZvY2F0aW9ucyBvZiB0aGUgaXRlcmF0b3IuXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmdcbiAgICAgICAgKSA6IGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCk7XG4gICAgfVxuXG4gICAgLy8gRGVmaW5lIHRoZSB1bmlmaWVkIGhlbHBlciBtZXRob2QgdGhhdCBpcyB1c2VkIHRvIGltcGxlbWVudCAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIChzZWUgZGVmaW5lSXRlcmF0b3JNZXRob2RzKS5cbiAgICB0aGlzLl9pbnZva2UgPSBlbnF1ZXVlO1xuICB9XG5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKTtcbiAgQXN5bmNJdGVyYXRvci5wcm90b3R5cGVbYXN5bmNJdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIGV4cG9ydHMuQXN5bmNJdGVyYXRvciA9IEFzeW5jSXRlcmF0b3I7XG5cbiAgLy8gTm90ZSB0aGF0IHNpbXBsZSBhc3luYyBmdW5jdGlvbnMgYXJlIGltcGxlbWVudGVkIG9uIHRvcCBvZlxuICAvLyBBc3luY0l0ZXJhdG9yIG9iamVjdHM7IHRoZXkganVzdCByZXR1cm4gYSBQcm9taXNlIGZvciB0aGUgdmFsdWUgb2ZcbiAgLy8gdGhlIGZpbmFsIHJlc3VsdCBwcm9kdWNlZCBieSB0aGUgaXRlcmF0b3IuXG4gIGV4cG9ydHMuYXN5bmMgPSBmdW5jdGlvbihpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCwgUHJvbWlzZUltcGwpIHtcbiAgICBpZiAoUHJvbWlzZUltcGwgPT09IHZvaWQgMCkgUHJvbWlzZUltcGwgPSBQcm9taXNlO1xuXG4gICAgdmFyIGl0ZXIgPSBuZXcgQXN5bmNJdGVyYXRvcihcbiAgICAgIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpLFxuICAgICAgUHJvbWlzZUltcGxcbiAgICApO1xuXG4gICAgcmV0dXJuIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbihvdXRlckZuKVxuICAgICAgPyBpdGVyIC8vIElmIG91dGVyRm4gaXMgYSBnZW5lcmF0b3IsIHJldHVybiB0aGUgZnVsbCBpdGVyYXRvci5cbiAgICAgIDogaXRlci5uZXh0KCkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0LmRvbmUgPyByZXN1bHQudmFsdWUgOiBpdGVyLm5leHQoKTtcbiAgICAgICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KSB7XG4gICAgdmFyIHN0YXRlID0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydDtcblxuICAgIHJldHVybiBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHtcbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVFeGVjdXRpbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUNvbXBsZXRlZCkge1xuICAgICAgICBpZiAobWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICB0aHJvdyBhcmc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCZSBmb3JnaXZpbmcsIHBlciAyNS4zLjMuMy4zIG9mIHRoZSBzcGVjOlxuICAgICAgICAvLyBodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtZ2VuZXJhdG9ycmVzdW1lXG4gICAgICAgIHJldHVybiBkb25lUmVzdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnRleHQubWV0aG9kID0gbWV0aG9kO1xuICAgICAgY29udGV4dC5hcmcgPSBhcmc7XG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGNvbnRleHQuZGVsZWdhdGU7XG4gICAgICAgIGlmIChkZWxlZ2F0ZSkge1xuICAgICAgICAgIHZhciBkZWxlZ2F0ZVJlc3VsdCA9IG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0ID09PSBDb250aW51ZVNlbnRpbmVsKSBjb250aW51ZTtcbiAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZVJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgICAgLy8gU2V0dGluZyBjb250ZXh0Ll9zZW50IGZvciBsZWdhY3kgc3VwcG9ydCBvZiBCYWJlbCdzXG4gICAgICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgICAgICBjb250ZXh0LnNlbnQgPSBjb250ZXh0Ll9zZW50ID0gY29udGV4dC5hcmc7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0KSB7XG4gICAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgICAgdGhyb3cgY29udGV4dC5hcmc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZyk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgIGNvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQuYXJnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlID0gR2VuU3RhdGVFeGVjdXRpbmc7XG5cbiAgICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIpIHtcbiAgICAgICAgICAvLyBJZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIGZyb20gaW5uZXJGbiwgd2UgbGVhdmUgc3RhdGUgPT09XG4gICAgICAgICAgLy8gR2VuU3RhdGVFeGVjdXRpbmcgYW5kIGxvb3AgYmFjayBmb3IgYW5vdGhlciBpbnZvY2F0aW9uLlxuICAgICAgICAgIHN0YXRlID0gY29udGV4dC5kb25lXG4gICAgICAgICAgICA/IEdlblN0YXRlQ29tcGxldGVkXG4gICAgICAgICAgICA6IEdlblN0YXRlU3VzcGVuZGVkWWllbGQ7XG5cbiAgICAgICAgICBpZiAocmVjb3JkLmFyZyA9PT0gQ29udGludWVTZW50aW5lbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiByZWNvcmQuYXJnLFxuICAgICAgICAgICAgZG9uZTogY29udGV4dC5kb25lXG4gICAgICAgICAgfTtcblxuICAgICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgIC8vIERpc3BhdGNoIHRoZSBleGNlcHRpb24gYnkgbG9vcGluZyBiYWNrIGFyb3VuZCB0byB0aGVcbiAgICAgICAgICAvLyBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKSBjYWxsIGFib3ZlLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBDYWxsIGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXShjb250ZXh0LmFyZykgYW5kIGhhbmRsZSB0aGVcbiAgLy8gcmVzdWx0LCBlaXRoZXIgYnkgcmV0dXJuaW5nIGEgeyB2YWx1ZSwgZG9uZSB9IHJlc3VsdCBmcm9tIHRoZVxuICAvLyBkZWxlZ2F0ZSBpdGVyYXRvciwgb3IgYnkgbW9kaWZ5aW5nIGNvbnRleHQubWV0aG9kIGFuZCBjb250ZXh0LmFyZyxcbiAgLy8gc2V0dGluZyBjb250ZXh0LmRlbGVnYXRlIHRvIG51bGwsIGFuZCByZXR1cm5pbmcgdGhlIENvbnRpbnVlU2VudGluZWwuXG4gIGZ1bmN0aW9uIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdO1xuICAgIGlmIChtZXRob2QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gQSAudGhyb3cgb3IgLnJldHVybiB3aGVuIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgbm8gLnRocm93XG4gICAgICAvLyBtZXRob2QgYWx3YXlzIHRlcm1pbmF0ZXMgdGhlIHlpZWxkKiBsb29wLlxuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIC8vIE5vdGU6IFtcInJldHVyblwiXSBtdXN0IGJlIHVzZWQgZm9yIEVTMyBwYXJzaW5nIGNvbXBhdGliaWxpdHkuXG4gICAgICAgIGlmIChkZWxlZ2F0ZS5pdGVyYXRvcltcInJldHVyblwiXSkge1xuICAgICAgICAgIC8vIElmIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgYSByZXR1cm4gbWV0aG9kLCBnaXZlIGl0IGFcbiAgICAgICAgICAvLyBjaGFuY2UgdG8gY2xlYW4gdXAuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInJldHVyblwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuXG4gICAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIC8vIElmIG1heWJlSW52b2tlRGVsZWdhdGUoY29udGV4dCkgY2hhbmdlZCBjb250ZXh0Lm1ldGhvZCBmcm9tXG4gICAgICAgICAgICAvLyBcInJldHVyblwiIHRvIFwidGhyb3dcIiwgbGV0IHRoYXQgb3ZlcnJpZGUgdGhlIFR5cGVFcnJvciBiZWxvdy5cbiAgICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICd0aHJvdycgbWV0aG9kXCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2gobWV0aG9kLCBkZWxlZ2F0ZS5pdGVyYXRvciwgY29udGV4dC5hcmcpO1xuXG4gICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICB2YXIgaW5mbyA9IHJlY29yZC5hcmc7XG5cbiAgICBpZiAoISBpbmZvKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpO1xuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICBpZiAoaW5mby5kb25lKSB7XG4gICAgICAvLyBBc3NpZ24gdGhlIHJlc3VsdCBvZiB0aGUgZmluaXNoZWQgZGVsZWdhdGUgdG8gdGhlIHRlbXBvcmFyeVxuICAgICAgLy8gdmFyaWFibGUgc3BlY2lmaWVkIGJ5IGRlbGVnYXRlLnJlc3VsdE5hbWUgKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cbiAgICAgIGNvbnRleHRbZGVsZWdhdGUucmVzdWx0TmFtZV0gPSBpbmZvLnZhbHVlO1xuXG4gICAgICAvLyBSZXN1bWUgZXhlY3V0aW9uIGF0IHRoZSBkZXNpcmVkIGxvY2F0aW9uIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0Lm5leHQgPSBkZWxlZ2F0ZS5uZXh0TG9jO1xuXG4gICAgICAvLyBJZiBjb250ZXh0Lm1ldGhvZCB3YXMgXCJ0aHJvd1wiIGJ1dCB0aGUgZGVsZWdhdGUgaGFuZGxlZCB0aGVcbiAgICAgIC8vIGV4Y2VwdGlvbiwgbGV0IHRoZSBvdXRlciBnZW5lcmF0b3IgcHJvY2VlZCBub3JtYWxseS4gSWZcbiAgICAgIC8vIGNvbnRleHQubWV0aG9kIHdhcyBcIm5leHRcIiwgZm9yZ2V0IGNvbnRleHQuYXJnIHNpbmNlIGl0IGhhcyBiZWVuXG4gICAgICAvLyBcImNvbnN1bWVkXCIgYnkgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yLiBJZiBjb250ZXh0Lm1ldGhvZCB3YXNcbiAgICAgIC8vIFwicmV0dXJuXCIsIGFsbG93IHRoZSBvcmlnaW5hbCAucmV0dXJuIGNhbGwgdG8gY29udGludWUgaW4gdGhlXG4gICAgICAvLyBvdXRlciBnZW5lcmF0b3IuXG4gICAgICBpZiAoY29udGV4dC5tZXRob2QgIT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUmUteWllbGQgdGhlIHJlc3VsdCByZXR1cm5lZCBieSB0aGUgZGVsZWdhdGUgbWV0aG9kLlxuICAgICAgcmV0dXJuIGluZm87XG4gICAgfVxuXG4gICAgLy8gVGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGlzIGZpbmlzaGVkLCBzbyBmb3JnZXQgaXQgYW5kIGNvbnRpbnVlIHdpdGhcbiAgICAvLyB0aGUgb3V0ZXIgZ2VuZXJhdG9yLlxuICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICB9XG5cbiAgLy8gRGVmaW5lIEdlbmVyYXRvci5wcm90b3R5cGUue25leHQsdGhyb3cscmV0dXJufSBpbiB0ZXJtcyBvZiB0aGVcbiAgLy8gdW5pZmllZCAuX2ludm9rZSBoZWxwZXIgbWV0aG9kLlxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoR3ApO1xuXG4gIGRlZmluZShHcCwgdG9TdHJpbmdUYWdTeW1ib2wsIFwiR2VuZXJhdG9yXCIpO1xuXG4gIC8vIEEgR2VuZXJhdG9yIHNob3VsZCBhbHdheXMgcmV0dXJuIGl0c2VsZiBhcyB0aGUgaXRlcmF0b3Igb2JqZWN0IHdoZW4gdGhlXG4gIC8vIEBAaXRlcmF0b3IgZnVuY3Rpb24gaXMgY2FsbGVkIG9uIGl0LiBTb21lIGJyb3dzZXJzJyBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlXG4gIC8vIGl0ZXJhdG9yIHByb3RvdHlwZSBjaGFpbiBpbmNvcnJlY3RseSBpbXBsZW1lbnQgdGhpcywgY2F1c2luZyB0aGUgR2VuZXJhdG9yXG4gIC8vIG9iamVjdCB0byBub3QgYmUgcmV0dXJuZWQgZnJvbSB0aGlzIGNhbGwuIFRoaXMgZW5zdXJlcyB0aGF0IGRvZXNuJ3QgaGFwcGVuLlxuICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2lzc3Vlcy8yNzQgZm9yIG1vcmUgZGV0YWlscy5cbiAgR3BbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgR3AudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXCJbb2JqZWN0IEdlbmVyYXRvcl1cIjtcbiAgfTtcblxuICBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykge1xuICAgIHZhciBlbnRyeSA9IHsgdHJ5TG9jOiBsb2NzWzBdIH07XG5cbiAgICBpZiAoMSBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5jYXRjaExvYyA9IGxvY3NbMV07XG4gICAgfVxuXG4gICAgaWYgKDIgaW4gbG9jcykge1xuICAgICAgZW50cnkuZmluYWxseUxvYyA9IGxvY3NbMl07XG4gICAgICBlbnRyeS5hZnRlckxvYyA9IGxvY3NbM107XG4gICAgfVxuXG4gICAgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkge1xuICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uIHx8IHt9O1xuICAgIHJlY29yZC50eXBlID0gXCJub3JtYWxcIjtcbiAgICBkZWxldGUgcmVjb3JkLmFyZztcbiAgICBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkO1xuICB9XG5cbiAgZnVuY3Rpb24gQ29udGV4dCh0cnlMb2NzTGlzdCkge1xuICAgIC8vIFRoZSByb290IGVudHJ5IG9iamVjdCAoZWZmZWN0aXZlbHkgYSB0cnkgc3RhdGVtZW50IHdpdGhvdXQgYSBjYXRjaFxuICAgIC8vIG9yIGEgZmluYWxseSBibG9jaykgZ2l2ZXMgdXMgYSBwbGFjZSB0byBzdG9yZSB2YWx1ZXMgdGhyb3duIGZyb21cbiAgICAvLyBsb2NhdGlvbnMgd2hlcmUgdGhlcmUgaXMgbm8gZW5jbG9zaW5nIHRyeSBzdGF0ZW1lbnQuXG4gICAgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiBcInJvb3RcIiB9XTtcbiAgICB0cnlMb2NzTGlzdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyk7XG4gICAgdGhpcy5yZXNldCh0cnVlKTtcbiAgfVxuXG4gIGV4cG9ydHMua2V5cyA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHZhciBrZXlzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgfVxuICAgIGtleXMucmV2ZXJzZSgpO1xuXG4gICAgLy8gUmF0aGVyIHRoYW4gcmV0dXJuaW5nIGFuIG9iamVjdCB3aXRoIGEgbmV4dCBtZXRob2QsIHdlIGtlZXBcbiAgICAvLyB0aGluZ3Mgc2ltcGxlIGFuZCByZXR1cm4gdGhlIG5leHQgZnVuY3Rpb24gaXRzZWxmLlxuICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgd2hpbGUgKGtleXMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzLnBvcCgpO1xuICAgICAgICBpZiAoa2V5IGluIG9iamVjdCkge1xuICAgICAgICAgIG5leHQudmFsdWUgPSBrZXk7XG4gICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVG8gYXZvaWQgY3JlYXRpbmcgYW4gYWRkaXRpb25hbCBvYmplY3QsIHdlIGp1c3QgaGFuZyB0aGUgLnZhbHVlXG4gICAgICAvLyBhbmQgLmRvbmUgcHJvcGVydGllcyBvZmYgdGhlIG5leHQgZnVuY3Rpb24gb2JqZWN0IGl0c2VsZi4gVGhpc1xuICAgICAgLy8gYWxzbyBlbnN1cmVzIHRoYXQgdGhlIG1pbmlmaWVyIHdpbGwgbm90IGFub255bWl6ZSB0aGUgZnVuY3Rpb24uXG4gICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfTtcbiAgfTtcblxuICBmdW5jdGlvbiB2YWx1ZXMoaXRlcmFibGUpIHtcbiAgICBpZiAoaXRlcmFibGUpIHtcbiAgICAgIHZhciBpdGVyYXRvck1ldGhvZCA9IGl0ZXJhYmxlW2l0ZXJhdG9yU3ltYm9sXTtcbiAgICAgIGlmIChpdGVyYXRvck1ldGhvZCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JNZXRob2QuY2FsbChpdGVyYWJsZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgaXRlcmFibGUubmV4dCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBpdGVyYWJsZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc05hTihpdGVyYWJsZS5sZW5ndGgpKSB7XG4gICAgICAgIHZhciBpID0gLTEsIG5leHQgPSBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgIHdoaWxlICgrK2kgPCBpdGVyYWJsZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChpdGVyYWJsZSwgaSkpIHtcbiAgICAgICAgICAgICAgbmV4dC52YWx1ZSA9IGl0ZXJhYmxlW2ldO1xuICAgICAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbmV4dC52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG5leHQubmV4dCA9IG5leHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGFuIGl0ZXJhdG9yIHdpdGggbm8gdmFsdWVzLlxuICAgIHJldHVybiB7IG5leHQ6IGRvbmVSZXN1bHQgfTtcbiAgfVxuICBleHBvcnRzLnZhbHVlcyA9IHZhbHVlcztcblxuICBmdW5jdGlvbiBkb25lUmVzdWx0KCkge1xuICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgfVxuXG4gIENvbnRleHQucHJvdG90eXBlID0ge1xuICAgIGNvbnN0cnVjdG9yOiBDb250ZXh0LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKHNraXBUZW1wUmVzZXQpIHtcbiAgICAgIHRoaXMucHJldiA9IDA7XG4gICAgICB0aGlzLm5leHQgPSAwO1xuICAgICAgLy8gUmVzZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICB0aGlzLmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgdGhpcy5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuXG4gICAgICB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KTtcblxuICAgICAgaWYgKCFza2lwVGVtcFJlc2V0KSB7XG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcykge1xuICAgICAgICAgIC8vIE5vdCBzdXJlIGFib3V0IHRoZSBvcHRpbWFsIG9yZGVyIG9mIHRoZXNlIGNvbmRpdGlvbnM6XG4gICAgICAgICAgaWYgKG5hbWUuY2hhckF0KDApID09PSBcInRcIiAmJlxuICAgICAgICAgICAgICBoYXNPd24uY2FsbCh0aGlzLCBuYW1lKSAmJlxuICAgICAgICAgICAgICAhaXNOYU4oK25hbWUuc2xpY2UoMSkpKSB7XG4gICAgICAgICAgICB0aGlzW25hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG5cbiAgICAgIHZhciByb290RW50cnkgPSB0aGlzLnRyeUVudHJpZXNbMF07XG4gICAgICB2YXIgcm9vdFJlY29yZCA9IHJvb3RFbnRyeS5jb21wbGV0aW9uO1xuICAgICAgaWYgKHJvb3RSZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJvb3RSZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5ydmFsO1xuICAgIH0sXG5cbiAgICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24oZXhjZXB0aW9uKSB7XG4gICAgICBpZiAodGhpcy5kb25lKSB7XG4gICAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuICAgICAgZnVuY3Rpb24gaGFuZGxlKGxvYywgY2F1Z2h0KSB7XG4gICAgICAgIHJlY29yZC50eXBlID0gXCJ0aHJvd1wiO1xuICAgICAgICByZWNvcmQuYXJnID0gZXhjZXB0aW9uO1xuICAgICAgICBjb250ZXh0Lm5leHQgPSBsb2M7XG5cbiAgICAgICAgaWYgKGNhdWdodCkge1xuICAgICAgICAgIC8vIElmIHRoZSBkaXNwYXRjaGVkIGV4Y2VwdGlvbiB3YXMgY2F1Z2h0IGJ5IGEgY2F0Y2ggYmxvY2ssXG4gICAgICAgICAgLy8gdGhlbiBsZXQgdGhhdCBjYXRjaCBibG9jayBoYW5kbGUgdGhlIGV4Y2VwdGlvbiBub3JtYWxseS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICEhIGNhdWdodDtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IFwicm9vdFwiKSB7XG4gICAgICAgICAgLy8gRXhjZXB0aW9uIHRocm93biBvdXRzaWRlIG9mIGFueSB0cnkgYmxvY2sgdGhhdCBjb3VsZCBoYW5kbGVcbiAgICAgICAgICAvLyBpdCwgc28gc2V0IHRoZSBjb21wbGV0aW9uIHZhbHVlIG9mIHRoZSBlbnRpcmUgZnVuY3Rpb24gdG9cbiAgICAgICAgICAvLyB0aHJvdyB0aGUgZXhjZXB0aW9uLlxuICAgICAgICAgIHJldHVybiBoYW5kbGUoXCJlbmRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldikge1xuICAgICAgICAgIHZhciBoYXNDYXRjaCA9IGhhc093bi5jYWxsKGVudHJ5LCBcImNhdGNoTG9jXCIpO1xuICAgICAgICAgIHZhciBoYXNGaW5hbGx5ID0gaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKTtcblxuICAgICAgICAgIGlmIChoYXNDYXRjaCAmJiBoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2F0Y2gpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYWJydXB0OiBmdW5jdGlvbih0eXBlLCBhcmcpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldiAmJlxuICAgICAgICAgICAgaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKSAmJlxuICAgICAgICAgICAgdGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgIHZhciBmaW5hbGx5RW50cnkgPSBlbnRyeTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZmluYWxseUVudHJ5ICYmXG4gICAgICAgICAgKHR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgICB0eXBlID09PSBcImNvbnRpbnVlXCIpICYmXG4gICAgICAgICAgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiZcbiAgICAgICAgICBhcmcgPD0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgLy8gSWdub3JlIHRoZSBmaW5hbGx5IGVudHJ5IGlmIGNvbnRyb2wgaXMgbm90IGp1bXBpbmcgdG8gYVxuICAgICAgICAvLyBsb2NhdGlvbiBvdXRzaWRlIHRoZSB0cnkvY2F0Y2ggYmxvY2suXG4gICAgICAgIGZpbmFsbHlFbnRyeSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciByZWNvcmQgPSBmaW5hbGx5RW50cnkgPyBmaW5hbGx5RW50cnkuY29tcGxldGlvbiA6IHt9O1xuICAgICAgcmVjb3JkLnR5cGUgPSB0eXBlO1xuICAgICAgcmVjb3JkLmFyZyA9IGFyZztcblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSkge1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICB0aGlzLm5leHQgPSBmaW5hbGx5RW50cnkuZmluYWxseUxvYztcbiAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmNvbXBsZXRlKHJlY29yZCk7XG4gICAgfSxcblxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZWNvcmQsIGFmdGVyTG9jKSB7XG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgIHJlY29yZC50eXBlID09PSBcImNvbnRpbnVlXCIpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gcmVjb3JkLmFyZztcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgdGhpcy5ydmFsID0gdGhpcy5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgIHRoaXMubmV4dCA9IFwiZW5kXCI7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiICYmIGFmdGVyTG9jKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IGFmdGVyTG9jO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9LFxuXG4gICAgZmluaXNoOiBmdW5jdGlvbihmaW5hbGx5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LmZpbmFsbHlMb2MgPT09IGZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB0aGlzLmNvbXBsZXRlKGVudHJ5LmNvbXBsZXRpb24sIGVudHJ5LmFmdGVyTG9jKTtcbiAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBcImNhdGNoXCI6IGZ1bmN0aW9uKHRyeUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IHRyeUxvYykge1xuICAgICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICB2YXIgdGhyb3duID0gcmVjb3JkLmFyZztcbiAgICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhyb3duO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBjb250ZXh0LmNhdGNoIG1ldGhvZCBtdXN0IG9ubHkgYmUgY2FsbGVkIHdpdGggYSBsb2NhdGlvblxuICAgICAgLy8gYXJndW1lbnQgdGhhdCBjb3JyZXNwb25kcyB0byBhIGtub3duIGNhdGNoIGJsb2NrLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpO1xuICAgIH0sXG5cbiAgICBkZWxlZ2F0ZVlpZWxkOiBmdW5jdGlvbihpdGVyYWJsZSwgcmVzdWx0TmFtZSwgbmV4dExvYykge1xuICAgICAgdGhpcy5kZWxlZ2F0ZSA9IHtcbiAgICAgICAgaXRlcmF0b3I6IHZhbHVlcyhpdGVyYWJsZSksXG4gICAgICAgIHJlc3VsdE5hbWU6IHJlc3VsdE5hbWUsXG4gICAgICAgIG5leHRMb2M6IG5leHRMb2NcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgLy8gRGVsaWJlcmF0ZWx5IGZvcmdldCB0aGUgbGFzdCBzZW50IHZhbHVlIHNvIHRoYXQgd2UgZG9uJ3RcbiAgICAgICAgLy8gYWNjaWRlbnRhbGx5IHBhc3MgaXQgb24gdG8gdGhlIGRlbGVnYXRlLlxuICAgICAgICB0aGlzLmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuICB9O1xuXG4gIC8vIFJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGVcbiAgLy8gb3Igbm90LCByZXR1cm4gdGhlIHJ1bnRpbWUgb2JqZWN0IHNvIHRoYXQgd2UgY2FuIGRlY2xhcmUgdGhlIHZhcmlhYmxlXG4gIC8vIHJlZ2VuZXJhdG9yUnVudGltZSBpbiB0aGUgb3V0ZXIgc2NvcGUsIHdoaWNoIGFsbG93cyB0aGlzIG1vZHVsZSB0byBiZVxuICAvLyBpbmplY3RlZCBlYXNpbHkgYnkgYGJpbi9yZWdlbmVyYXRvciAtLWluY2x1ZGUtcnVudGltZSBzY3JpcHQuanNgLlxuICByZXR1cm4gZXhwb3J0cztcblxufShcbiAgLy8gSWYgdGhpcyBzY3JpcHQgaXMgZXhlY3V0aW5nIGFzIGEgQ29tbW9uSlMgbW9kdWxlLCB1c2UgbW9kdWxlLmV4cG9ydHNcbiAgLy8gYXMgdGhlIHJlZ2VuZXJhdG9yUnVudGltZSBuYW1lc3BhY2UuIE90aGVyd2lzZSBjcmVhdGUgYSBuZXcgZW1wdHlcbiAgLy8gb2JqZWN0LiBFaXRoZXIgd2F5LCB0aGUgcmVzdWx0aW5nIG9iamVjdCB3aWxsIGJlIHVzZWQgdG8gaW5pdGlhbGl6ZVxuICAvLyB0aGUgcmVnZW5lcmF0b3JSdW50aW1lIHZhcmlhYmxlIGF0IHRoZSB0b3Agb2YgdGhpcyBmaWxlLlxuICB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiID8gbW9kdWxlLmV4cG9ydHMgOiB7fVxuKSk7XG5cbnRyeSB7XG4gIHJlZ2VuZXJhdG9yUnVudGltZSA9IHJ1bnRpbWU7XG59IGNhdGNoIChhY2NpZGVudGFsU3RyaWN0TW9kZSkge1xuICAvLyBUaGlzIG1vZHVsZSBzaG91bGQgbm90IGJlIHJ1bm5pbmcgaW4gc3RyaWN0IG1vZGUsIHNvIHRoZSBhYm92ZVxuICAvLyBhc3NpZ25tZW50IHNob3VsZCBhbHdheXMgd29yayB1bmxlc3Mgc29tZXRoaW5nIGlzIG1pc2NvbmZpZ3VyZWQuIEp1c3RcbiAgLy8gaW4gY2FzZSBydW50aW1lLmpzIGFjY2lkZW50YWxseSBydW5zIGluIHN0cmljdCBtb2RlLCB3ZSBjYW4gZXNjYXBlXG4gIC8vIHN0cmljdCBtb2RlIHVzaW5nIGEgZ2xvYmFsIEZ1bmN0aW9uIGNhbGwuIFRoaXMgY291bGQgY29uY2VpdmFibHkgZmFpbFxuICAvLyBpZiBhIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5IGZvcmJpZHMgdXNpbmcgRnVuY3Rpb24sIGJ1dCBpbiB0aGF0IGNhc2VcbiAgLy8gdGhlIHByb3BlciBzb2x1dGlvbiBpcyB0byBmaXggdGhlIGFjY2lkZW50YWwgc3RyaWN0IG1vZGUgcHJvYmxlbS4gSWZcbiAgLy8geW91J3ZlIG1pc2NvbmZpZ3VyZWQgeW91ciBidW5kbGVyIHRvIGZvcmNlIHN0cmljdCBtb2RlIGFuZCBhcHBsaWVkIGFcbiAgLy8gQ1NQIHRvIGZvcmJpZCBGdW5jdGlvbiwgYW5kIHlvdSdyZSBub3Qgd2lsbGluZyB0byBmaXggZWl0aGVyIG9mIHRob3NlXG4gIC8vIHByb2JsZW1zLCBwbGVhc2UgZGV0YWlsIHlvdXIgdW5pcXVlIHByZWRpY2FtZW50IGluIGEgR2l0SHViIGlzc3VlLlxuICBGdW5jdGlvbihcInJcIiwgXCJyZWdlbmVyYXRvclJ1bnRpbWUgPSByXCIpKHJ1bnRpbWUpO1xufVxuIiwidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS00LTEhLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscyB8fCB7fTsiLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BVF9SVUxFX0lNUE9SVF8wX19fIGZyb20gXCItIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTQtMSEuLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vc3R5bGUuY3NzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18odHJ1ZSk7XG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5pKF9fX0NTU19MT0FERVJfQVRfUlVMRV9JTVBPUlRfMF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCIjbXlDYW52YXMge1xcbiAgICBib3JkZXI6IDNweCBzb2xpZCB2YXIoLS1tYWluLWNvbG9yKTtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGhlaWdodDogMzAwcHg7XFxufVxcblxcbmRpdi5hY3Rpb24tY29udHJvbHMge1xcbiAgICB3aWR0aDogMTAwJTtcXG59XFxuZGl2LmFjdGlvbi1jb250cm9scyA+IGJ1dHRvbiB7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xcbn1cXG5cXG5kaXYuc3BlZWQtY29udHJvbHMge1xcbn1cXG5cXG5AbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiAyMjhweCkge1xcbiAgICBkaXYuYWN0aW9uLWNvbnRyb2xzID4gYnV0dG9uIHtcXG4gICAgICAgIHdpZHRoOiBhdXRvO1xcbiAgICB9XFxufVxcblxcbkBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDQ3NXB4KSB7XFxuICAgIGRpdi5hY3Rpb24tY29udHJvbHMge1xcbiAgICAgICAgd2lkdGg6IDUwJTtcXG4gICAgICAgIGZsb2F0OiBsZWZ0O1xcbiAgICB9XFxuICAgIGRpdi5hY3Rpb24tY29udHJvbHMgPiBidXR0b24ge1xcbiAgICAgICAgd2lkdGg6IGF1dG87XFxuICAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xcbiAgICB9XFxuXFxuICAgIGRpdi5zcGVlZC1jb250cm9scyB7XFxuICAgICAgICB3aWR0aDogNTAlO1xcbiAgICAgICAgZmxvYXQ6IGxlZnQ7XFxuICAgIH1cXG59XFxuXFxuQG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNjA2cHgpIHtcXG4gICAgI215Q2FudmFzIHtcXG4gICAgICAgIHdpZHRoOiA2MDBweDtcXG4gICAgfVxcblxcbiAgICBkaXYuYWN0aW9uLWNvbnRyb2xzIHtcXG4gICAgICAgIHdpZHRoOiAzMDBweDtcXG4gICAgICAgIGZsb2F0OiBsZWZ0O1xcbiAgICB9XFxuXFxuICAgIGRpdi5zcGVlZC1jb250cm9scyB7XFxuICAgICAgICB3aWR0aDogMzAwcHg7XFxuICAgICAgICBmbG9hdDogbGVmdDtcXG4gICAgfVxcbn1cXG5cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vc3JjL3Rvd2VyLW9mLWhhbm9pL3N0eWxlLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFFQTtJQUNJLG1DQUFtQztJQUNuQyxXQUFXO0lBQ1gsYUFBYTtBQUNqQjs7QUFFQTtJQUNJLFdBQVc7QUFDZjtBQUNBO0lBQ0ksV0FBVztJQUNYLG1CQUFtQjtBQUN2Qjs7QUFFQTtBQUNBOztBQUVBO0lBQ0k7UUFDSSxXQUFXO0lBQ2Y7QUFDSjs7QUFFQTtJQUNJO1FBQ0ksVUFBVTtRQUNWLFdBQVc7SUFDZjtJQUNBO1FBQ0ksV0FBVztRQUNYLGdCQUFnQjtJQUNwQjs7SUFFQTtRQUNJLFVBQVU7UUFDVixXQUFXO0lBQ2Y7QUFDSjs7QUFFQTtJQUNJO1FBQ0ksWUFBWTtJQUNoQjs7SUFFQTtRQUNJLFlBQVk7UUFDWixXQUFXO0lBQ2Y7O0lBRUE7UUFDSSxZQUFZO1FBQ1osV0FBVztJQUNmO0FBQ0pcIixcInNvdXJjZXNDb250ZW50XCI6W1wiQGltcG9ydCBcXFwiLi4vc3R5bGUuY3NzXFxcIjtcXG5cXG4jbXlDYW52YXMge1xcbiAgICBib3JkZXI6IDNweCBzb2xpZCB2YXIoLS1tYWluLWNvbG9yKTtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGhlaWdodDogMzAwcHg7XFxufVxcblxcbmRpdi5hY3Rpb24tY29udHJvbHMge1xcbiAgICB3aWR0aDogMTAwJTtcXG59XFxuZGl2LmFjdGlvbi1jb250cm9scyA+IGJ1dHRvbiB7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xcbn1cXG5cXG5kaXYuc3BlZWQtY29udHJvbHMge1xcbn1cXG5cXG5AbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiAyMjhweCkge1xcbiAgICBkaXYuYWN0aW9uLWNvbnRyb2xzID4gYnV0dG9uIHtcXG4gICAgICAgIHdpZHRoOiBhdXRvO1xcbiAgICB9XFxufVxcblxcbkBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDQ3NXB4KSB7XFxuICAgIGRpdi5hY3Rpb24tY29udHJvbHMge1xcbiAgICAgICAgd2lkdGg6IDUwJTtcXG4gICAgICAgIGZsb2F0OiBsZWZ0O1xcbiAgICB9XFxuICAgIGRpdi5hY3Rpb24tY29udHJvbHMgPiBidXR0b24ge1xcbiAgICAgICAgd2lkdGg6IGF1dG87XFxuICAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xcbiAgICB9XFxuXFxuICAgIGRpdi5zcGVlZC1jb250cm9scyB7XFxuICAgICAgICB3aWR0aDogNTAlO1xcbiAgICAgICAgZmxvYXQ6IGxlZnQ7XFxuICAgIH1cXG59XFxuXFxuQG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNjA2cHgpIHtcXG4gICAgI215Q2FudmFzIHtcXG4gICAgICAgIHdpZHRoOiA2MDBweDtcXG4gICAgfVxcblxcbiAgICBkaXYuYWN0aW9uLWNvbnRyb2xzIHtcXG4gICAgICAgIHdpZHRoOiAzMDBweDtcXG4gICAgICAgIGZsb2F0OiBsZWZ0O1xcbiAgICB9XFxuXFxuICAgIGRpdi5zcGVlZC1jb250cm9scyB7XFxuICAgICAgICB3aWR0aDogMzAwcHg7XFxuICAgICAgICBmbG9hdDogbGVmdDtcXG4gICAgfVxcbn1cXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiY2xhc3MgU3RhdGUge1xuICAgIGNvbnN0cnVjdG9yKG1vdmVyLCBzcGVlZCkge1xuICAgICAgICB0aGlzLm1vdmVyID0gbW92ZXI7XG4gICAgICAgIHRoaXMuc3BlZWQgPSBzcGVlZDtcbiAgICAgICAgdGhpcy5maW5pc2hlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIG1vdmUoZGVsdGEpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ092ZXJyaWRlIHRoaXMgbWV0aG9kJyk7XG4gICAgfVxuXG4gICAgbmV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmluaXNoZWRTdGF0ZSBleHRlbmRzIFN0YXRlIHtcbiAgICBjb25zdHJ1Y3Rvcihtb3Zlciwgc3BlZWQpIHtcbiAgICAgICAgc3VwZXIobW92ZXIsIHNwZWVkKTtcbiAgICAgICAgdGhpcy5maW5pc2hlZCA9IHRydWU7XG4gICAgfVxufVxuXG5jbGFzcyBNb3ZlRG93blN0YXRlIGV4dGVuZHMgU3RhdGUge1xuICAgIGNvbnN0cnVjdG9yKG1vdmVyLCBzcGVlZCkge1xuICAgICAgICBzdXBlcihtb3Zlciwgc3BlZWQpO1xuICAgICAgICBpZiAodGhpcy5tb3Zlci50b1BlZy5kaXNrcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnlQb3NUYXJnZXQgPSB0aGlzLm1vdmVyLnRvUGVnLmRpc2tzW3RoaXMubW92ZXIudG9QZWcuZGlza3MubGVuZ3RoIC0gMV0ueVBvcyAtIDIwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy55UG9zVGFyZ2V0ID0gMjMwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbW92ZShkZWx0YSkge1xuICAgICAgICBpZiAodGhpcy5tb3Zlci5kaXNrLnlQb3MgPCB0aGlzLnlQb3NUYXJnZXQpIHtcbiAgICAgICAgICAgIHRoaXMubW92ZXIuZGlzay55UG9zICs9IHRoaXMuc3BlZWQgKiBkZWx0YTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1vdmVyLmRpc2sueVBvcyA+PSB0aGlzLnlQb3NUYXJnZXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVyLmRpc2sueVBvcyA9IHRoaXMueVBvc1RhcmdldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5leHQoKSB7XG4gICAgICAgIGlmICh0aGlzLm1vdmVyLmRpc2sueVBvcyA9PT0gdGhpcy55UG9zVGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZpbmlzaGVkU3RhdGUodGhpcy5tb3ZlciwgdGhpcy5zcGVlZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuXG5jbGFzcyBNb3ZlQWNyb3NzU3RhdGUgZXh0ZW5kcyBTdGF0ZSB7XG4gICAgbW92ZShkZWx0YSkge1xuICAgICAgICBpZiAodGhpcy5tb3Zlci5kaXNrLnhQb3MgPCB0aGlzLm1vdmVyLnRvUGVnLnhQb3MpIHtcbiAgICAgICAgICAgIHRoaXMubW92ZXIuZGlzay54UG9zICs9IHRoaXMuc3BlZWQgKiBkZWx0YTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1vdmVyLmRpc2sueFBvcyA+IHRoaXMubW92ZXIudG9QZWcueFBvcykge1xuICAgICAgICAgICAgICAgIHRoaXMubW92ZXIuZGlzay54UG9zID0gdGhpcy5tb3Zlci50b1BlZy54UG9zO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMubW92ZXIuZGlzay54UG9zID4gdGhpcy5tb3Zlci50b1BlZy54UG9zKSB7XG4gICAgICAgICAgICB0aGlzLm1vdmVyLmRpc2sueFBvcyAtPSB0aGlzLnNwZWVkICogZGVsdGE7XG4gICAgICAgICAgICBpZiAodGhpcy5tb3Zlci5kaXNrLnhQb3MgPCB0aGlzLm1vdmVyLnRvUGVnLnhQb3MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVyLmRpc2sueFBvcyA9IHRoaXMubW92ZXIudG9QZWcueFBvcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5leHQoKSB7XG4gICAgICAgIGlmICh0aGlzLm1vdmVyLmRpc2sueFBvcyA9PT0gdGhpcy5tb3Zlci50b1BlZy54UG9zKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1vdmVEb3duU3RhdGUodGhpcy5tb3ZlciwgdGhpcy5zcGVlZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuXG5jbGFzcyBNb3ZlVXBTdGF0ZSBleHRlbmRzIFN0YXRlIHtcbiAgICBtb3ZlKGRlbHRhKSB7XG4gICAgICAgIHRoaXMubW92ZXIuZGlzay55UG9zIC09IHRoaXMuc3BlZWQgKiBkZWx0YTtcbiAgICB9XG5cbiAgICBuZXh0KCkge1xuICAgICAgICBpZiAodGhpcy5tb3Zlci5kaXNrLnlQb3MgPD0gNTApIHtcbiAgICAgICAgICAgIHRoaXMubW92ZXIuZGlzay55UG9zID0gNTA7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1vdmVBY3Jvc3NTdGF0ZSh0aGlzLm1vdmVyLCB0aGlzLnNwZWVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBJbml0aWFsU3RhdGUgPSBNb3ZlVXBTdGF0ZTtcbiIsIi8qKlxuICogVGhpcyBjbGFzcyByZXByZXNlbnRzIGEgZGlzayB1c2VkIGluIHRoZSBUb3dlciBvZiBIYW5vaSBwdXp6bGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBEaXNrIHtcbiAgICBjb25zdHJ1Y3Rvcih4UG9zSW5pdGlhbCwgeVBvc0luaXRpYWwsIHdpZHRoLCBjb2xvcikge1xuICAgICAgICB0aGlzLnhQb3MgPSB4UG9zSW5pdGlhbDtcbiAgICAgICAgdGhpcy55UG9zID0geVBvc0luaXRpYWw7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yXG4gICAgfVxuXG4gICAgZHJhdyhjdHgpIHtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHgubGluZUNhcCA9ICdyb3VuZCc7XG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuY29sb3I7XG4gICAgICAgIGN0eC5saW5lV2lkdGggPSAxNTtcbiAgICAgICAgY3R4Lm1vdmVUbyh0aGlzLnhQb3MgLSAoNSAqIHRoaXMud2lkdGgpLCB0aGlzLnlQb3MpO1xuICAgICAgICBjdHgubGluZVRvKHRoaXMueFBvcyArICg1ICogdGhpcy53aWR0aCksIHRoaXMueVBvcyk7XG4gICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICB9XG59XG4iLCIvKipcbiAqIFRoaXMgY2xhc3MgcmVwcmVzZW50cyBhIHBlZyB1c2VkIGluIHRoZSBUb3dlciBvZiBIYW5vaSBwdXp6bGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBQZWcge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHhQb3NJbml0aWFsLCB5UG9zSW5pdGlhbCwgZGlza3MpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy54UG9zID0geFBvc0luaXRpYWw7XG4gICAgICAgIHRoaXMueVBvcyA9IHlQb3NJbml0aWFsO1xuICAgICAgICB0aGlzLmRpc2tzID0gZGlza3M7XG4gICAgICAgIHRoaXMud2lkdGggPSA0MDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSAxMzA7XG4gICAgfVxuXG4gICAgcHVzaERpc2soZGlzaykge1xuICAgICAgICBpZiAodGhpcy5kaXNrcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBkaXNrLnlQb3MgPSB0aGlzLmRpc2tzW3RoaXMuZGlza3MubGVuZ3RoIC0gMV0ueVBvcyAtIDIwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGlzay55UG9zID0gMjMwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGlza3MucHVzaChkaXNrKTtcbiAgICAgICAgZGlzay54UG9zID0gdGhpcy54UG9zO1xuICAgIH1cblxuICAgIGRyYXcoY3R4KSB7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4LmxpbmVDYXAgPSAnc3F1YXJlJztcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJ2Jyb3duJztcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDU7XG4gICAgICAgIGN0eC5tb3ZlVG8odGhpcy54UG9zLCB0aGlzLnlQb3MpO1xuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgIGN0eC5tb3ZlVG8odGhpcy54UG9zLCB0aGlzLnlQb3MpO1xuICAgICAgICBjdHgubGluZVRvKHRoaXMueFBvcyAtIHRoaXMud2lkdGgsIHRoaXMueVBvcyk7XG4gICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgY3R4Lm1vdmVUbyh0aGlzLnhQb3MsIHRoaXMueVBvcyk7XG4gICAgICAgIGN0eC5saW5lVG8odGhpcy54UG9zICsgdGhpcy53aWR0aCwgdGhpcy55UG9zKTtcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICBjdHgubW92ZVRvKHRoaXMueFBvcywgdGhpcy55UG9zKTtcbiAgICAgICAgY3R4LmxpbmVUbyh0aGlzLnhQb3MsIHRoaXMueVBvcyAtIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICdibGFjayc7XG4gICAgICAgIGN0eC5saW5lV2lkdGggPSAxO1xuICAgICAgICBjdHgudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgICAgIGN0eC5mb250ID0gJzI0cHggc2Fucy1zZXJpZic7XG4gICAgICAgIGN0eC5maWxsVGV4dCh0aGlzLm5hbWUsIHRoaXMueFBvcywgdGhpcy55UG9zICsgMzUpO1xuXG4gICAgICAgIHRoaXMuZGlza3MuZm9yRWFjaCgoZGlzaykgPT4ge1xuICAgICAgICAgICAgZGlzay5kcmF3KGN0eCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsIi8qKlxuICogWWllbGRzIHRhc2tzIHRoYXQgd2lsbCBzb2x2ZSB0aGUgdG93ZXIgd2hlbiBleGVjdXRlZCBzZXF1ZW50aWFsbHkuXG4gKlxuICogQHBhcmFtIG51bURpc2tzIFRoZSBudW1iZXIgb2YgZGlza3MgdGhlIHB1enpsZSBjb250YWluc1xuICogQHBhcmFtIHNvdXJjZVBlZyBUaGUgcGVnIHdlIHdhbnQgdG8gbW92ZSBkaXNrcyBmcm9tXG4gKiBAcGFyYW0gdGFyZ2V0UGVnIFRoZSBwZWcgd2Ugd2FudCB0byBtb3ZlIGRpc2tzIHRvXG4gKiBAcGFyYW0gc3BhcmVQZWcgVGhlIHBlZyB3ZSBjYW4gdXNlIHRvIG1vdmUgcGVncyB0byB0ZW1wb3JhcmlseVxuICovXG5leHBvcnQgY29uc3Qgc29sdmUgPSBmdW5jdGlvbiAqKG51bURpc2tzLCBzb3VyY2VQZWcsIHRhcmdldFBlZywgc3BhcmVQZWcpIHtcbiAgICBpZiAobnVtRGlza3MgPiAwKSB7XG4gICAgICAgIHlpZWxkKiBzb2x2ZShudW1EaXNrcyAtIDEsIHNvdXJjZVBlZywgc3BhcmVQZWcsIHRhcmdldFBlZyk7XG4gICAgICAgIHlpZWxkIHsnYWN0aW9uJzogJ21vdmUnLFxuICAgICAgICAgICAgJ3NvdXJjZSc6IHNvdXJjZVBlZyxcbiAgICAgICAgICAgICd0YXJnZXQnOiB0YXJnZXRQZWd9O1xuICAgICAgICB5aWVsZCogc29sdmUobnVtRGlza3MgLSAxLCBzcGFyZVBlZywgdGFyZ2V0UGVnLCBzb3VyY2VQZWcpO1xuICAgIH1cbn07XG4iLCJpbXBvcnQgJ3JlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSc7XG5pbXBvcnQge0ZpbmlzaGVkU3RhdGUsIEluaXRpYWxTdGF0ZX0gZnJvbSAnLi9hbmltYXRpb25TdGF0ZSc7XG5pbXBvcnQge0Rpc2t9IGZyb20gJy4vZGlzayc7XG5pbXBvcnQge1BlZ30gZnJvbSAnLi9wZWcnO1xuaW1wb3J0IHtzb2x2ZX0gZnJvbSAnLi9hbGdvcml0aG0nO1xuaW1wb3J0IHtzdHlsZXN9IGZyb20gJy4vc3R5bGUuY3NzJzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXG53aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGN1cnJlbnRBbmltYXRpb25UZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N1cnJlbnRBbmltYXRpb25UZXh0Jyk7XG4gICAgbGV0IGFuaW1hdGUgPSBmYWxzZTtcbiAgICBsZXQgY2FuY2VsID0gZmFsc2U7XG4gICAgbGV0IHNwZWVkID0gMTtcbiAgICBsZXQgcGVncyA9IFtdO1xuICAgIGxldCBkaXNrTW92ZXIgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgdGhlIHNjZW5lLlxuICAgICAqXG4gICAgICogQHBhcmFtIGRyYXdBZGRpdGlvbmFsIEFuIG9wdGlvbmFsIGZ1bmN0aW9uIHRoYXQgZHJhd3MgYW55dGhpbmcgZXh0cmFcbiAgICAgKiBhZnRlciB3ZSd2ZSBkcmF3biBldmVyeXRoaW5nIGVsc2VcbiAgICAgKi9cbiAgICBjb25zdCBkcmF3U2NlbmUgPSBmdW5jdGlvbiAodGltZVN0YW1wLCBkcmF3QWRkaXRpb25hbCkge1xuICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXlDYW52YXMnKTtcbiAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAgICAgLy8gQ2xlYXIgdGhlIHNjZW5lXG4gICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcblxuICAgICAgICAvLyBMb29wIHRocm91Z2ggdGhlIHBlZ3MgYW5kIGRyYXcgdGhlbVxuICAgICAgICAvLyBFYWNoIHBlZydzIGRyYXcgZnVuY3Rpb24gZHJhd3MgdGhlIHBlZ3MgYWxzb1xuICAgICAgICBwZWdzLmZvckVhY2goZnVuY3Rpb24gKHBlZykge1xuICAgICAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgICAgIHBlZy5kcmF3KGN0eCk7XG4gICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodHlwZW9mIGRyYXdBZGRpdGlvbmFsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICAgICAgZHJhd0FkZGl0aW9uYWwoY3R4KTtcbiAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY2xhc3MgRGlza01vdmVyIHtcbiAgICAgICAgY29uc3RydWN0b3IoZnJvbVBlZywgdG9QZWcpIHtcbiAgICAgICAgICAgIHRoaXMuc3BlZWRNdWx0aXBsaWVyID0gNTtcbiAgICAgICAgICAgIHRoaXMuZnJvbVBlZyA9IGZyb21QZWc7XG4gICAgICAgICAgICB0aGlzLnRvUGVnID0gdG9QZWc7XG4gICAgICAgICAgICB0aGlzLmxhc3RGcmFtZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlID0gbmV3IEluaXRpYWxTdGF0ZSh0aGlzLCBzcGVlZCAqIHRoaXMuc3BlZWRNdWx0aXBsaWVyKTtcbiAgICAgICAgICAgIHRoaXMuZGlzayA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmZpbmlzaGVkQ2FsbGJhY2sgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IHNwZWVkKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYW5pbWF0aW9uU3RhdGUuc3BlZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBzZXQgc3BlZWQodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc3BlZWQgPSB2YWx1ZSAqIHRoaXMuc3BlZWRNdWx0aXBsaWVyO1xuICAgICAgICB9XG5cbiAgICAgICAgbW92ZShmaW5pc2hlZENhbGxiYWNrKSB7XG4gICAgICAgICAgICB0aGlzLmZpbmlzaGVkQ2FsbGJhY2sgPSBmaW5pc2hlZENhbGxiYWNrO1xuICAgICAgICAgICAgdGhpcy5kaXNrID0gdGhpcy5mcm9tUGVnLmRpc2tzLnBvcCgpO1xuICAgICAgICAgICAgaWYgKCFjYW5jZWwpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50QW5pbWF0aW9uVGV4dC5yZXBsYWNlQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJ01vdmluZyAnICsgdGhpcy5kaXNrLmNvbG9yICsgJyBkaXNrIGZyb20gJyArIHRoaXMuZnJvbVBlZy5uYW1lICsgJyB0byAnICsgdGhpcy50b1BlZy5uYW1lKSwgY3VycmVudEFuaW1hdGlvblRleHQubGFzdENoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFuaW1hdGUgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKCFjYW5jZWwpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCh0aW1lc3RhbXApID0+IHRoaXMudXBkYXRlKHRpbWVzdGFtcCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY2FuY2VsKCkge1xuICAgICAgICAgICAgYW5pbWF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZSA9IG5ldyBGaW5pc2hlZFN0YXRlKHRoaXMubW92ZXIsIHNwZWVkICogNSk7XG4gICAgICAgICAgICBpZiAodGhpcy5kaXNrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50b1BlZy5wdXNoRGlzayh0aGlzLmRpc2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdXBkYXRlKHRpbWVzdGFtcCkge1xuICAgICAgICAgICAgbGV0IGRlbHRhID0gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLmxhc3RGcmFtZSAmJiB0aW1lc3RhbXApIHtcbiAgICAgICAgICAgICAgICBkZWx0YSA9ICh0aW1lc3RhbXAgLSB0aGlzLmxhc3RGcmFtZSkgLyAxMDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUubW92ZShkZWx0YSk7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlID0gdGhpcy5hbmltYXRpb25TdGF0ZS5uZXh0KCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblN0YXRlLmZpbmlzaGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50b1BlZy5wdXNoRGlzayh0aGlzLmRpc2spO1xuICAgICAgICAgICAgICAgIGFuaW1hdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpbmlzaGVkQ2FsbGJhY2soKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICBkcmF3U2NlbmUobnVsbCwgKGN0eCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2suZHJhdyhjdHgpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0RnJhbWUgPSB0aW1lc3RhbXA7XG4gICAgICAgICAgICAgICAgaWYgKGFuaW1hdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgodHMpID0+IHRoaXMudXBkYXRlKHRzKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCB0aGUgcGVncyBhbmQgZGlza3MuIEFsc28gdXNlZCB0byByZXNldCB0aGluZ3MuXG4gICAgICovXG4gICAgY29uc3QgaW5pdGlhbGl6ZVBlZ3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHBlZ3MgPSBbXG4gICAgICAgICAgICBuZXcgUGVnKCdBJywgMTAwLCAyNTAsIFtcbiAgICAgICAgICAgICAgICBuZXcgRGlzaygxMDAsIDIzMCwgNSwgJ3B1cnBsZScpLFxuICAgICAgICAgICAgICAgIG5ldyBEaXNrKDEwMCwgMjEwLCA0LCAnYmx1ZScpLFxuICAgICAgICAgICAgICAgIG5ldyBEaXNrKDEwMCwgMTkwLCAzLCAnZ3JlZW4nKSxcbiAgICAgICAgICAgICAgICBuZXcgRGlzaygxMDAsIDE3MCwgMiwgJ29yYW5nZScpLFxuICAgICAgICAgICAgICAgIG5ldyBEaXNrKDEwMCwgMTUwLCAxLCAncmVkJyksXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIG5ldyBQZWcoJ0InLCAzMDAsIDI1MCwgW10pLFxuICAgICAgICAgICAgbmV3IFBlZygnQycsIDUwMCwgMjUwLCBbXSksXG4gICAgICAgIF07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCBldmVyeXRoaW5nIHVwIHN1Y2ggYXMgZXZlbnQgaGFuZGxlcnMgYW5kIHRoZSBjYW52YXNcbiAgICAgKi9cbiAgICBjb25zdCBpbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50QW5pbWF0aW9uVGV4dC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnUHJlc3MgdGhlIEdvIGJ1dHRvbiB0byBiZWdpbjonKSk7XG4gICAgICAgIGluaXRpYWxpemVQZWdzKCk7XG5cbiAgICAgICAgY29uc3QgYW5pbWF0ZUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbmltYXRlQnV0dG9uJyk7XG4gICAgICAgIGFuaW1hdGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBhbmltYXRlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy8gY2FsbCB0aGUgYWxnb3JpdGhtIHRvIGdldCB0aGUgbGlzdCBvZiB0YXNrc1xuICAgICAgICAgICAgLy8gdGhlIHRhc2tzIHRha2UgYSBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IHJ1bnMgd2hlbiBpdCBjb21wbGV0ZXNcbiAgICAgICAgICAgIGNvbnN0IHRhc2tzID0gW107XG4gICAgICAgICAgICBjb25zdCBnZW4gPSBzb2x2ZShwZWdzWzBdLmRpc2tzLmxlbmd0aCwgcGVnc1swXSwgcGVnc1syXSwgcGVnc1sxXSwgdGFza3MpO1xuXG4gICAgICAgICAgICBjb25zdCBjYWxsVGFzayA9IGZ1bmN0aW9uIChjYW5jZWxsZWQsIHRhc2spIHtcbiAgICAgICAgICAgICAgICBpZiAodGFzay5kb25lKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHdlJ3JlIGZpbmlzaGVkIG5vd1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGRyYXdTY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRBbmltYXRpb25UZXh0LnJlcGxhY2VDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnQWxsIGZpbmlzaGVkLiBQcmVzcyByZXNldCB0byBzdGFydCBvdmVyOicpLCBjdXJyZW50QW5pbWF0aW9uVGV4dC5sYXN0Q2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2FuY2VsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0YXNrLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyb21QZWcgPSB0YXNrLnZhbHVlLnNvdXJjZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9QZWcgPSB0YXNrLnZhbHVlLnRhcmdldDtcblxuICAgICAgICAgICAgICAgICAgICBkaXNrTW92ZXIgPSBuZXcgRGlza01vdmVyKGZyb21QZWcsIHRvUGVnKTtcbiAgICAgICAgICAgICAgICAgICAgZGlza01vdmVyLm1vdmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbFRhc2soY2FuY2VsLCBnZW4ubmV4dCgpKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBjYWxsIHRoZSBuZXh0IHRhc2tcbiAgICAgICAgICAgIGNhbGxUYXNrKGNhbmNlbCwgZ2VuLm5leHQoKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJlc2V0QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc2V0QnV0dG9uJyk7XG4gICAgICAgIHJlc2V0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY2FuY2VsID0gdHJ1ZTtcbiAgICAgICAgICAgIGN1cnJlbnRBbmltYXRpb25UZXh0LnJlcGxhY2VDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnUmVzZXR0aW5nJyksIGN1cnJlbnRBbmltYXRpb25UZXh0Lmxhc3RDaGlsZCk7XG4gICAgICAgICAgICBpZiAoZGlza01vdmVyKSB7XG4gICAgICAgICAgICAgICAgZGlza01vdmVyLmNhbmNlbCgpO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRlQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEFuaW1hdGlvblRleHQucmVwbGFjZUNoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCdQcmVzcyB0aGUgR28gYnV0dG9uIHRvIGJlZ2luOicpLCBjdXJyZW50QW5pbWF0aW9uVGV4dC5sYXN0Q2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICBpbml0aWFsaXplUGVncygpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGRyYXcgb25lIGZyYW1lIGFmdGVyIGEgcmVzZXRcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShkcmF3U2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICBjYW5jZWwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3Qgc3BlZWRTbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3BlZWRTbGlkZXInKTtcbiAgICAgICAgc3BlZWRTbGlkZXIub25pbnB1dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNwZWVkID0gcGFyc2VJbnQoc3BlZWRTbGlkZXIudmFsdWUsIDEwKTtcbiAgICAgICAgICAgIGlmIChkaXNrTW92ZXIpIHtcbiAgICAgICAgICAgICAgICBkaXNrTW92ZXIuc3BlZWQgPSBzcGVlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgc3BlZWQgPSBwYXJzZUludChzcGVlZFNsaWRlci52YWx1ZSwgMTApO1xuICAgICAgICBpZiAoZGlza01vdmVyKSB7XG4gICAgICAgICAgICBkaXNrTW92ZXIuc3BlZWQgPSBzcGVlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRyYXcgb25lIGZyYW1lIHRvIGJlZ2luIHdpdGhcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShkcmF3U2NlbmUpO1xuICAgIH07XG5cbiAgICBpbml0aWFsaXplKCk7XG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==