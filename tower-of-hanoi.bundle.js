!function(t){var n={};function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(o,r,function(n){return t[n]}.bind(null,r));return o},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=8)}([function(t,n,e){"use strict";function o(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var e=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(e.push(a.value),!n||e.length!==n);o=!0);}catch(t){r=!0,i=t}finally{try{o||null==s.return||s.return()}finally{if(r)throw i}}return e}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return r(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return r(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,o=new Array(n);e<n;e++)o[e]=t[e];return o}t.exports=function(t){var n=o(t,4),e=n[1],r=n[3];if("function"==typeof btoa){var i=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),s="/*# ".concat(a," */"),c=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[e].concat(c).concat([s]).join("\n")}return[e].join("\n")}},function(t,n,e){"use strict";t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e=t(n);return n[2]?"@media ".concat(n[2]," {").concat(e,"}"):e})).join("")},n.i=function(t,e,o){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(o)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(r[a]=!0)}for(var s=0;s<t.length;s++){var c=[].concat(t[s]);o&&r[c[0]]||(e&&(c[2]?c[2]="".concat(e," and ").concat(c[2]):c[2]=e),n.push(c))}},n}},function(t,n,e){"use strict";e.r(n);var o=e(0),r=e.n(o),i=e(1),a=e.n(i)()(r.a);a.push([t.i,":root {\n    --background-color: white;\n    --main-color: rgb(63, 111, 139);\n    --text-color: black;\n    --disabled-color: rgb(206,206,206);\n    --hover-color: rgb(125, 177, 247);\n    --visited-color: rgb(107, 82, 139);\n    --hover-visited-color: rgb(168, 129, 218);\n}\n\n/* Use box sizing (https://css-tricks.com/box-sizing/) */\nhtml {\n    box-sizing: border-box;\n}\n*, *:before, *:after {\n    box-sizing: inherit;\n}\n\n\nbody {\n    margin: 3px;\n    background-color: white;\n    background-color: var(--background-color);\n    color: black;\n    color: var(--text-color);\n}\n\narticle {\n    font-family: sans-serif;\n    background-color: white;\n    background-color: var(--background-color);\n}\n\nheader {\n    color: rgb(63, 111, 139);\n    color: var(--main-color);\n}\n\nbutton {\n    border: 1px solid rgb(63, 111, 139);\n    border: 1px solid var(--main-color);\n    padding: 1em 3em;\n    background-color: white;\n    background-color: var(--background-color);\n    color: rgb(63, 111, 139);\n    color: var(--main-color);\n    font-weight: bold;\n}\n\nbutton:disabled {\n    border: 1px solid rgb(206,206,206);\n    border: 1px solid var(--disabled-color);\n    padding: 1em 3em;\n    background-color: white;\n    background-color: var(--background-color);\n    color: rgb(206,206,206);\n    color: var(--disabled-color);\n}\n\nbutton:disabled:hover {\n    border: 1px solid rgb(206,206,206);\n    border: 1px solid var(--disabled-color);\n    padding: 1em 3em;\n    background-color: white;\n    background-color: var(--background-color);\n    color: rgb(206,206,206);\n    color: var(--disabled-color);\n}\n\nbutton:active,\nbutton:focus,\nbutton:hover {\n    padding: 1em 3em;\n    background-color: rgb(63, 111, 139);\n    background-color: var(--main-color);\n    color: white;\n    color: var(--background-color);\n    border: 1px solid rgb(63, 111, 139);\n    border: 1px solid var(--main-color);\n}\n\na {\n    color: rgb(63, 111, 139);\n    color: var(--main-color);\n}\na:visited {\n    color: rgb(107, 82, 139);\n    color: var(--visited-color);\n}\na:hover {\n    color: rgb(125, 177, 247);\n    color: var(--hover-color);\n}\na:hover:visited {\n    color: rgb(168, 129, 218);\n    color: var(--hover-visited-color);\n}\n","",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;IACI,yBAAyB;IACzB,+BAA+B;IAC/B,mBAAmB;IACnB,kCAA0B;IAC1B,iCAAiC;IACjC,kCAAkC;IAClC,yCAAyC;AAC7C;;AAEA,wDAAwD;AACxD;IACI,sBAAsB;AAC1B;AACA;IACI,mBAAmB;AACvB;;;AAGA;IACI,WAAW;IACX,uBAAyC;IAAzC,yCAAyC;IACzC,YAAwB;IAAxB,wBAAwB;AAC5B;;AAEA;IACI,uBAAuB;IACvB,uBAAyC;IAAzC,yCAAyC;AAC7C;;AAEA;IACI,wBAAwB;IAAxB,wBAAwB;AAC5B;;AAEA;IACI,mCAAmC;IAAnC,mCAAmC;IACnC,gBAAgB;IAChB,uBAAyC;IAAzC,yCAAyC;IACzC,wBAAwB;IAAxB,wBAAwB;IACxB,iBAAiB;AACrB;;AAEA;IACI,kCAAuC;IAAvC,uCAAuC;IACvC,gBAAgB;IAChB,uBAAyC;IAAzC,yCAAyC;IACzC,uBAA4B;IAA5B,4BAA4B;AAChC;;AAEA;IACI,kCAAuC;IAAvC,uCAAuC;IACvC,gBAAgB;IAChB,uBAAyC;IAAzC,yCAAyC;IACzC,uBAA4B;IAA5B,4BAA4B;AAChC;;AAEA;;;IAGI,gBAAgB;IAChB,mCAAmC;IAAnC,mCAAmC;IACnC,YAA8B;IAA9B,8BAA8B;IAC9B,mCAAmC;IAAnC,mCAAmC;AACvC;;AAEA;IACI,wBAAwB;IAAxB,wBAAwB;AAC5B;AACA;IACI,wBAA2B;IAA3B,2BAA2B;AAC/B;AACA;IACI,yBAAyB;IAAzB,yBAAyB;AAC7B;AACA;IACI,yBAAiC;IAAjC,iCAAiC;AACrC",sourcesContent:[":root {\n    --background-color: white;\n    --main-color: rgb(63, 111, 139);\n    --text-color: black;\n    --disabled-color: gray(83);\n    --hover-color: rgb(125, 177, 247);\n    --visited-color: rgb(107, 82, 139);\n    --hover-visited-color: rgb(168, 129, 218);\n}\n\n/* Use box sizing (https://css-tricks.com/box-sizing/) */\nhtml {\n    box-sizing: border-box;\n}\n*, *:before, *:after {\n    box-sizing: inherit;\n}\n\n\nbody {\n    margin: 3px;\n    background-color: var(--background-color);\n    color: var(--text-color);\n}\n\narticle {\n    font-family: sans-serif;\n    background-color: var(--background-color);\n}\n\nheader {\n    color: var(--main-color);\n}\n\nbutton {\n    border: 1px solid var(--main-color);\n    padding: 1em 3em;\n    background-color: var(--background-color);\n    color: var(--main-color);\n    font-weight: bold;\n}\n\nbutton:disabled {\n    border: 1px solid var(--disabled-color);\n    padding: 1em 3em;\n    background-color: var(--background-color);\n    color: var(--disabled-color);\n}\n\nbutton:disabled:hover {\n    border: 1px solid var(--disabled-color);\n    padding: 1em 3em;\n    background-color: var(--background-color);\n    color: var(--disabled-color);\n}\n\nbutton:active,\nbutton:focus,\nbutton:hover {\n    padding: 1em 3em;\n    background-color: var(--main-color);\n    color: var(--background-color);\n    border: 1px solid var(--main-color);\n}\n\na {\n    color: var(--main-color);\n}\na:visited {\n    color: var(--visited-color);\n}\na:hover {\n    color: var(--hover-color);\n}\na:hover:visited {\n    color: var(--hover-visited-color);\n}\n"],sourceRoot:""}]),n.default=a},function(t,n,e){"use strict";var o,r=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},i=function(){var t={};return function(n){if(void 0===t[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}t[n]=e}return t[n]}}(),a=[];function s(t){for(var n=-1,e=0;e<a.length;e++)if(a[e].identifier===t){n=e;break}return n}function c(t,n){for(var e={},o=[],r=0;r<t.length;r++){var i=t[r],c=n.base?i[0]+n.base:i[0],u=e[c]||0,l="".concat(c," ").concat(u);e[c]=u+1;var d=s(l),h={css:i[1],media:i[2],sourceMap:i[3]};-1!==d?(a[d].references++,a[d].updater(h)):a.push({identifier:l,updater:p(h,n),references:1}),o.push(l)}return o}function u(t){var n=document.createElement("style"),o=t.attributes||{};if(void 0===o.nonce){var r=e.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(t){n.setAttribute(t,o[t])})),"function"==typeof t.insert)t.insert(n);else{var a=i(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}return n}var l,d=(l=[],function(t,n){return l[t]=n,l.filter(Boolean).join("\n")});function h(t,n,e,o){var r=e?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(t.styleSheet)t.styleSheet.cssText=d(n,r);else{var i=document.createTextNode(r),a=t.childNodes;a[n]&&t.removeChild(a[n]),a.length?t.insertBefore(i,a[n]):t.appendChild(i)}}function f(t,n,e){var o=e.css,r=e.media,i=e.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),i&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}var A=null,v=0;function p(t,n){var e,o,r;if(n.singleton){var i=v++;e=A||(A=u(n)),o=h.bind(null,e,i,!1),r=h.bind(null,e,i,!0)}else e=u(n),o=f.bind(null,e,n),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)};return o(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;o(t=n)}else r()}}t.exports=function(t,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=r());var e=c(t=t||[],n);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var o=0;o<e.length;o++){var r=s(e[o]);a[r].references--}for(var i=c(t,n),u=0;u<e.length;u++){var l=s(e[u]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}e=i}}}},function(t,n,e){var o=function(t){"use strict";var n=Object.prototype,e=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function s(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{s({},"")}catch(t){s=function(t,n,e){return t[n]=e}}function c(t,n,e,o){var r=n&&n.prototype instanceof d?n:d,i=Object.create(r.prototype),a=new x(o||[]);return i._invoke=function(t,n,e){var o="suspendedStart";return function(r,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===r)throw i;return I()}for(e.method=r,e.arg=i;;){var a=e.delegate;if(a){var s=b(a,e);if(s){if(s===l)continue;return s}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===o)throw o="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o="executing";var c=u(t,n,e);if("normal"===c.type){if(o=e.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(o="completed",e.method="throw",e.arg=c.arg)}}}(t,e,a),i}function u(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function d(){}function h(){}function f(){}var A={};A[r]=function(){return this};var v=Object.getPrototypeOf,p=v&&v(v(k([])));p&&p!==n&&e.call(p,r)&&(A=p);var m=f.prototype=d.prototype=Object.create(A);function y(t){["next","throw","return"].forEach((function(n){s(t,n,(function(t){return this._invoke(n,t)}))}))}function g(t,n){var o;this._invoke=function(r,i){function a(){return new n((function(o,a){!function o(r,i,a,s){var c=u(t[r],t,i);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&e.call(d,"__await")?n.resolve(d.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):n.resolve(d).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}(r,i,o,a)}))}return o=o?o.then(a,a):a()}}function b(t,n){var e=t.iterator[n.method];if(void 0===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,b(t,n),"throw"===n.method))return l;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var o=u(e,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,l;var r=o.arg;return r?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,l):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}function C(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function w(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function k(t){if(t){var n=t[r];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(e.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=void 0,n.done=!0,n};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return h.prototype=m.constructor=f,f.constructor=h,h.displayName=s(f,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===h||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},y(g.prototype),g.prototype[i]=function(){return this},t.AsyncIterator=g,t.async=function(n,e,o,r,i){void 0===i&&(i=Promise);var a=new g(c(n,e,o,r),i);return t.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(m),s(m,a,"Generator"),m[r]=function(){return this},m.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=k,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(e,o){return a.type="throw",a.arg=t,n.next=e,o&&(n.method="next",n.arg=void 0),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=e.call(i,"catchLoc"),c=e.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=n,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),l},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),w(e),l}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var o=e.completion;if("throw"===o.type){var r=o.arg;w(e)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:k(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=o}catch(t){Function("r","regeneratorRuntime = r")(o)}},,,,function(t,n,e){e(4),t.exports=e(11)},function(t,n,e){var o=e(3),r=e(10);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);t.exports=r.locals||{}},function(t,n,e){"use strict";e.r(n);var o=e(0),r=e.n(o),i=e(1),a=e.n(i),s=e(2),c=a()(r.a);c.i(s.default),c.push([t.i,"#myCanvas {\n    border: 3px solid var(--main-color);\n    border: 3px solid var(--main-color);\n    width: 100%;\n    height: 300px;\n}\n\ndiv.action-controls {\n    width: 100%;\n}\ndiv.action-controls > button {\n    width: 100%;\n    margin-bottom: 10px;\n}\n\ndiv.speed-controls {\n}\n\n@media screen and (min-width: 228px) {\n    div.action-controls > button {\n        width: auto;\n    }\n}\n\n@media screen and (min-width: 475px) {\n    div.action-controls {\n        width: 50%;\n        float: left;\n    }\n    div.action-controls > button {\n        width: auto;\n        margin-bottom: 0;\n    }\n\n    div.speed-controls {\n        width: 50%;\n        float: left;\n    }\n}\n\n@media screen and (min-width: 606px) {\n    #myCanvas {\n        width: 600px;\n    }\n\n    div.action-controls {\n        width: 300px;\n        float: left;\n    }\n\n    div.speed-controls {\n        width: 300px;\n        float: left;\n    }\n}\n","",{version:3,sources:["webpack://./src/tower-of-hanoi/style.css"],names:[],mappings:"AAEA;IACI,mCAAmC;IAAnC,mCAAmC;IACnC,WAAW;IACX,aAAa;AACjB;;AAEA;IACI,WAAW;AACf;AACA;IACI,WAAW;IACX,mBAAmB;AACvB;;AAEA;AACA;;AAEA;IACI;QACI,WAAW;IACf;AACJ;;AAEA;IACI;QACI,UAAU;QACV,WAAW;IACf;IACA;QACI,WAAW;QACX,gBAAgB;IACpB;;IAEA;QACI,UAAU;QACV,WAAW;IACf;AACJ;;AAEA;IACI;QACI,YAAY;IAChB;;IAEA;QACI,YAAY;QACZ,WAAW;IACf;;IAEA;QACI,YAAY;QACZ,WAAW;IACf;AACJ",sourcesContent:['@import "../style.css";\n\n#myCanvas {\n    border: 3px solid var(--main-color);\n    width: 100%;\n    height: 300px;\n}\n\ndiv.action-controls {\n    width: 100%;\n}\ndiv.action-controls > button {\n    width: 100%;\n    margin-bottom: 10px;\n}\n\ndiv.speed-controls {\n}\n\n@media screen and (min-width: 228px) {\n    div.action-controls > button {\n        width: auto;\n    }\n}\n\n@media screen and (min-width: 475px) {\n    div.action-controls {\n        width: 50%;\n        float: left;\n    }\n    div.action-controls > button {\n        width: auto;\n        margin-bottom: 0;\n    }\n\n    div.speed-controls {\n        width: 50%;\n        float: left;\n    }\n}\n\n@media screen and (min-width: 606px) {\n    #myCanvas {\n        width: 600px;\n    }\n\n    div.action-controls {\n        width: 300px;\n        float: left;\n    }\n\n    div.speed-controls {\n        width: 300px;\n        float: left;\n    }\n}\n'],sourceRoot:""}]),n.default=c},function(t,n,e){"use strict";e.r(n);e(4);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&i(t,n)}function i(t,n){return(i=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,o=c(t);if(n){var r=c(this).constructor;e=Reflect.construct(o,arguments,r)}else e=o.apply(this,arguments);return s(this,e)}}function s(t,n){return!n||"object"!==o(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function l(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function d(t,n,e){return n&&l(t.prototype,n),e&&l(t,e),t}var h=function(){function t(n,e){u(this,t),this.mover=n,this.speed=e,this.finished=!1}return d(t,[{key:"move",value:function(t){throw new Error("Override this method")}},{key:"next",value:function(){return this}}]),t}(),f=function(t){r(e,t);var n=a(e);function e(t,o){var r;return u(this,e),(r=n.call(this,t,o)).finished=!0,r}return e}(h),A=function(t){r(e,t);var n=a(e);function e(t,o){var r;return u(this,e),(r=n.call(this,t,o)).mover.toPeg.disks.length>0?r.yPosTarget=r.mover.toPeg.disks[r.mover.toPeg.disks.length-1].yPos-20:r.yPosTarget=230,r}return d(e,[{key:"move",value:function(t){this.mover.disk.yPos<this.yPosTarget&&(this.mover.disk.yPos+=this.speed*t,this.mover.disk.yPos>=this.yPosTarget&&(this.mover.disk.yPos=this.yPosTarget))}},{key:"next",value:function(){return this.mover.disk.yPos===this.yPosTarget?new f(this.mover,this.speed):this}}]),e}(h),v=function(t){r(e,t);var n=a(e);function e(){return u(this,e),n.apply(this,arguments)}return d(e,[{key:"move",value:function(t){this.mover.disk.xPos<this.mover.toPeg.xPos?(this.mover.disk.xPos+=this.speed*t,this.mover.disk.xPos>this.mover.toPeg.xPos&&(this.mover.disk.xPos=this.mover.toPeg.xPos)):this.mover.disk.xPos>this.mover.toPeg.xPos&&(this.mover.disk.xPos-=this.speed*t,this.mover.disk.xPos<this.mover.toPeg.xPos&&(this.mover.disk.xPos=this.mover.toPeg.xPos))}},{key:"next",value:function(){return this.mover.disk.xPos===this.mover.toPeg.xPos?new A(this.mover,this.speed):this}}]),e}(h),p=function(t){r(e,t);var n=a(e);function e(){return u(this,e),n.apply(this,arguments)}return d(e,[{key:"move",value:function(t){this.mover.disk.yPos-=this.speed*t}},{key:"next",value:function(){return this.mover.disk.yPos<=50?(this.mover.disk.yPos=50,new v(this.mover,this.speed)):this}}]),e}(h);function m(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var y=function(){function t(n,e,o,r){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.xPos=n,this.yPos=e,this.width=o,this.color=r}var n,e,o;return n=t,(e=[{key:"draw",value:function(t){t.beginPath(),t.lineCap="round",t.strokeStyle=this.color,t.lineWidth=15,t.moveTo(this.xPos-5*this.width,this.yPos),t.lineTo(this.xPos+5*this.width,this.yPos),t.stroke()}}])&&m(n.prototype,e),o&&m(n,o),t}();function g(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var b=function(){function t(n,e,o,r){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=n,this.xPos=e,this.yPos=o,this.disks=r,this.width=40,this.height=130}var n,e,o;return n=t,(e=[{key:"pushDisk",value:function(t){this.disks.length>0?t.yPos=this.disks[this.disks.length-1].yPos-20:t.yPos=230,this.disks.push(t),t.xPos=this.xPos}},{key:"draw",value:function(t){t.beginPath(),t.lineCap="square",t.strokeStyle="brown",t.lineWidth=5,t.moveTo(this.xPos,this.yPos),t.stroke(),t.moveTo(this.xPos,this.yPos),t.lineTo(this.xPos-this.width,this.yPos),t.stroke(),t.moveTo(this.xPos,this.yPos),t.lineTo(this.xPos+this.width,this.yPos),t.stroke(),t.moveTo(this.xPos,this.yPos),t.lineTo(this.xPos,this.yPos-this.height),t.stroke(),t.strokeStyle="black",t.lineWidth=1,t.textAlign="center",t.font="24px sans-serif",t.fillText(this.name,this.xPos,this.yPos+35),this.disks.forEach((function(n){n.draw(t)}))}}])&&g(n.prototype,e),o&&g(n,o),t}(),C=regeneratorRuntime.mark((function t(n,e,o,r){return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(n>0)){i.next=5;break}return i.delegateYield(t(n-1,e,r,o),"t0",2);case 2:return i.next=4,{action:"move",source:e,target:o};case 4:return i.delegateYield(t(n-1,r,o,e),"t1",5);case 5:case"end":return i.stop()}}),t)}));e(9);function w(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}window.onload=function(){var t=document.getElementById("currentAnimationText"),n=!1,e=!1,o=1,r=[],i=null,a=function(t,n){var e=document.getElementById("myCanvas"),o=e.getContext("2d");o.clearRect(0,0,e.width,e.height),r.forEach((function(t){o.save(),t.draw(o),o.restore()})),"function"==typeof n&&(o.save(),n(o),o.restore())},s=function(){function r(t,n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r),this.speedMultiplier=5,this.fromPeg=t,this.toPeg=n,this.lastFrame=null,this.animationState=new p(this,o*this.speedMultiplier),this.disk=null,this.finishedCallback=null}var i,s,c;return i=r,(s=[{key:"move",value:function(o){var r=this;this.finishedCallback=o,this.disk=this.fromPeg.disks.pop(),e||t.replaceChild(document.createTextNode("Moving "+this.disk.color+" disk from "+this.fromPeg.name+" to "+this.toPeg.name),t.lastChild),n=!0,e||window.requestAnimationFrame((function(t){return r.update(t)}))}},{key:"cancel",value:function(){n=!1,this.animationState=new f(this.mover,5*o),this.disk&&this.toPeg.pushDisk(this.disk)}},{key:"update",value:function(t){var e=this,o=0;this.lastFrame&&t&&(o=(t-this.lastFrame)/100),this.animationState.move(o),this.animationState=this.animationState.next(),this.animationState.finished?(this.toPeg.pushDisk(this.disk),n=!1,this.finishedCallback()):(a(0,(function(t){e.disk.draw(t)})),this.lastFrame=t,n&&window.requestAnimationFrame((function(t){return e.update(t)})))}},{key:"speed",get:function(){return this.animationState.speed},set:function(t){this.animationState.speed=t*this.speedMultiplier}}])&&w(i.prototype,s),c&&w(i,c),r}(),c=function(){r=[new b("A",100,250,[new y(100,230,5,"purple"),new y(100,210,4,"blue"),new y(100,190,3,"green"),new y(100,170,2,"orange"),new y(100,150,1,"red")]),new b("B",300,250,[]),new b("C",500,250,[])]};!function(){t.appendChild(document.createTextNode("Press the Go button to begin:")),c();var n=document.getElementById("animateButton");n.addEventListener("click",(function(){n.disabled=!0;var o=C(r[0].disks.length,r[0],r[2],r[1],[]);!function n(r,c){if(c.done)return window.requestAnimationFrame(a),t.replaceChild(document.createTextNode("All finished. Press reset to start over:"),t.lastChild),void(e&&(e=!1));if(c.value){var u=c.value.source,l=c.value.target;(i=new s(u,l)).move((function(){n(e,o.next())}))}}(0,o.next())})),document.getElementById("resetButton").addEventListener("click",(function(){e=!0,t.replaceChild(document.createTextNode("Resetting"),t.lastChild),i&&(i.cancel(),window.requestAnimationFrame((function(){n.disabled=!1,t.replaceChild(document.createTextNode("Press the Go button to begin:"),t.lastChild),c(),window.requestAnimationFrame(a),e=!1})))}));var u=document.getElementById("speedSlider");u.oninput=function(){o=parseInt(u.value,10),i&&(i.speed=o)},o=parseInt(u.value,10),i&&(i.speed=o),window.requestAnimationFrame(a)}()}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGUuY3NzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIiwid2VicGFjazovLy8uL3NyYy90b3dlci1vZi1oYW5vaS9zdHlsZS5jc3M/NTQyYiIsIndlYnBhY2s6Ly8vLi9zcmMvdG93ZXItb2YtaGFub2kvc3R5bGUuY3NzIiwid2VicGFjazovLy8uL3NyYy90b3dlci1vZi1oYW5vaS9hbmltYXRpb25TdGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdG93ZXItb2YtaGFub2kvZGlzay5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdG93ZXItb2YtaGFub2kvcGVnLmpzIiwid2VicGFjazovLy8uL3NyYy90b3dlci1vZi1oYW5vaS9hbGdvcml0aG0uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Rvd2VyLW9mLWhhbm9pL3NjcmlwdC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIl9zbGljZWRUb0FycmF5IiwiYXJyIiwiQXJyYXkiLCJpc0FycmF5IiwiX2FycmF5V2l0aEhvbGVzIiwiaXRlcmF0b3IiLCJfYXJyIiwiX24iLCJfZCIsIl9lIiwidW5kZWZpbmVkIiwiX3MiLCJfaSIsIm5leHQiLCJkb25lIiwicHVzaCIsImxlbmd0aCIsImVyciIsIl9pdGVyYWJsZVRvQXJyYXlMaW1pdCIsIm1pbkxlbiIsIl9hcnJheUxpa2VUb0FycmF5IiwidG9TdHJpbmciLCJzbGljZSIsImNvbnN0cnVjdG9yIiwiZnJvbSIsInRlc3QiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJUeXBlRXJyb3IiLCJfbm9uSXRlcmFibGVSZXN0IiwibGVuIiwiYXJyMiIsIml0ZW0iLCJfaXRlbSIsImNvbnRlbnQiLCJjc3NNYXBwaW5nIiwiYnRvYSIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJjb25jYXQiLCJzb3VyY2VNYXBwaW5nIiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJtYXAiLCJzb3VyY2UiLCJzb3VyY2VSb290Iiwiam9pbiIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJsaXN0IiwidGhpcyIsIm1lZGlhUXVlcnkiLCJkZWR1cGUiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiaWQiLCJfX19DU1NfTE9BREVSX0VYUE9SVF9fXyIsIm1lbW8iLCJpc09sZElFIiwiQm9vbGVhbiIsIndpbmRvdyIsImRvY3VtZW50IiwiYWxsIiwiYXRvYiIsImdldFRhcmdldCIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwicXVlcnlTZWxlY3RvciIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJzdHlsZXNJbkRvbSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInJlc3VsdCIsIm1vZHVsZXNUb0RvbSIsIm9wdGlvbnMiLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJiYXNlIiwiY291bnQiLCJpbmRleCIsIm9iaiIsImNzcyIsIm1lZGlhIiwic291cmNlTWFwIiwicmVmZXJlbmNlcyIsInVwZGF0ZXIiLCJhZGRTdHlsZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiY3JlYXRlRWxlbWVudCIsImF0dHJpYnV0ZXMiLCJub25jZSIsImtleXMiLCJmb3JFYWNoIiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwicmVtb3ZlIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBseVRvVGFnIiwicmVtb3ZlQXR0cmlidXRlIiwiZmlyc3RDaGlsZCIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJ1cGRhdGUiLCJzdHlsZUluZGV4IiwicGFyZW50Tm9kZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsIm5ld09iaiIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaW5kZXgiLCJzcGxpY2UiLCJydW50aW1lIiwiT3AiLCJoYXNPd24iLCIkU3ltYm9sIiwiaXRlcmF0b3JTeW1ib2wiLCJhc3luY0l0ZXJhdG9yU3ltYm9sIiwiYXN5bmNJdGVyYXRvciIsInRvU3RyaW5nVGFnU3ltYm9sIiwiZGVmaW5lIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJ3cmFwIiwiaW5uZXJGbiIsIm91dGVyRm4iLCJzZWxmIiwidHJ5TG9jc0xpc3QiLCJwcm90b0dlbmVyYXRvciIsIkdlbmVyYXRvciIsImdlbmVyYXRvciIsImNvbnRleHQiLCJDb250ZXh0IiwiX2ludm9rZSIsInN0YXRlIiwibWV0aG9kIiwiYXJnIiwiZG9uZVJlc3VsdCIsImRlbGVnYXRlIiwiZGVsZWdhdGVSZXN1bHQiLCJtYXliZUludm9rZURlbGVnYXRlIiwiQ29udGludWVTZW50aW5lbCIsInNlbnQiLCJfc2VudCIsImRpc3BhdGNoRXhjZXB0aW9uIiwiYWJydXB0IiwicmVjb3JkIiwidHJ5Q2F0Y2giLCJ0eXBlIiwibWFrZUludm9rZU1ldGhvZCIsImZuIiwiR2VuZXJhdG9yRnVuY3Rpb24iLCJHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSIsIkl0ZXJhdG9yUHJvdG90eXBlIiwiZ2V0UHJvdG8iLCJnZXRQcm90b3R5cGVPZiIsIk5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlIiwidmFsdWVzIiwiR3AiLCJkZWZpbmVJdGVyYXRvck1ldGhvZHMiLCJBc3luY0l0ZXJhdG9yIiwiUHJvbWlzZUltcGwiLCJwcmV2aW91c1Byb21pc2UiLCJjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZyIsInJlc29sdmUiLCJyZWplY3QiLCJpbnZva2UiLCJfX2F3YWl0IiwidGhlbiIsInVud3JhcHBlZCIsImVycm9yIiwiaW5mbyIsInJlc3VsdE5hbWUiLCJuZXh0TG9jIiwicHVzaFRyeUVudHJ5IiwibG9jcyIsImVudHJ5IiwidHJ5TG9jIiwiY2F0Y2hMb2MiLCJmaW5hbGx5TG9jIiwiYWZ0ZXJMb2MiLCJ0cnlFbnRyaWVzIiwicmVzZXRUcnlFbnRyeSIsImNvbXBsZXRpb24iLCJyZXNldCIsIml0ZXJhYmxlIiwiaXRlcmF0b3JNZXRob2QiLCJpc05hTiIsImRpc3BsYXlOYW1lIiwiaXNHZW5lcmF0b3JGdW5jdGlvbiIsImdlbkZ1biIsImN0b3IiLCJtYXJrIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJhd3JhcCIsImFzeW5jIiwiUHJvbWlzZSIsIml0ZXIiLCJyZXZlcnNlIiwicG9wIiwic2tpcFRlbXBSZXNldCIsInByZXYiLCJjaGFyQXQiLCJzdG9wIiwicm9vdFJlY29yZCIsInJ2YWwiLCJleGNlcHRpb24iLCJoYW5kbGUiLCJsb2MiLCJjYXVnaHQiLCJoYXNDYXRjaCIsImhhc0ZpbmFsbHkiLCJmaW5hbGx5RW50cnkiLCJjb21wbGV0ZSIsImZpbmlzaCIsInRocm93biIsImRlbGVnYXRlWWllbGQiLCJyZWdlbmVyYXRvclJ1bnRpbWUiLCJhY2NpZGVudGFsU3RyaWN0TW9kZSIsIkZ1bmN0aW9uIiwiYXBpIiwiZGVmYXVsdCIsImxvY2FscyIsIlN0YXRlIiwibW92ZXIiLCJzcGVlZCIsImZpbmlzaGVkIiwiZGVsdGEiLCJGaW5pc2hlZFN0YXRlIiwiTW92ZURvd25TdGF0ZSIsInRvUGVnIiwiZGlza3MiLCJ5UG9zVGFyZ2V0IiwieVBvcyIsImRpc2siLCJNb3ZlQWNyb3NzU3RhdGUiLCJ4UG9zIiwiSW5pdGlhbFN0YXRlIiwiRGlzayIsInhQb3NJbml0aWFsIiwieVBvc0luaXRpYWwiLCJ3aWR0aCIsImNvbG9yIiwiY3R4IiwiYmVnaW5QYXRoIiwibGluZUNhcCIsInN0cm9rZVN0eWxlIiwibGluZVdpZHRoIiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlIiwiUGVnIiwiaGVpZ2h0IiwidGV4dEFsaWduIiwiZm9udCIsImZpbGxUZXh0IiwiZHJhdyIsInNvbHZlIiwibnVtRGlza3MiLCJzb3VyY2VQZWciLCJ0YXJnZXRQZWciLCJzcGFyZVBlZyIsIm9ubG9hZCIsImN1cnJlbnRBbmltYXRpb25UZXh0IiwiZ2V0RWxlbWVudEJ5SWQiLCJhbmltYXRlIiwiY2FuY2VsIiwicGVncyIsImRpc2tNb3ZlciIsImRyYXdTY2VuZSIsInRpbWVTdGFtcCIsImRyYXdBZGRpdGlvbmFsIiwiY2FudmFzIiwiZ2V0Q29udGV4dCIsImNsZWFyUmVjdCIsInBlZyIsInNhdmUiLCJyZXN0b3JlIiwiRGlza01vdmVyIiwiZnJvbVBlZyIsInNwZWVkTXVsdGlwbGllciIsImxhc3RGcmFtZSIsImFuaW1hdGlvblN0YXRlIiwiZmluaXNoZWRDYWxsYmFjayIsInJlcGxhY2VDaGlsZCIsImxhc3RDaGlsZCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInRpbWVzdGFtcCIsInB1c2hEaXNrIiwibW92ZSIsInRzIiwiaW5pdGlhbGl6ZVBlZ3MiLCJhbmltYXRlQnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRpc2FibGVkIiwiZ2VuIiwiY2FsbFRhc2siLCJjYW5jZWxsZWQiLCJ0YXNrIiwic3BlZWRTbGlkZXIiLCJvbmlucHV0IiwicGFyc2VJbnQiLCJpbml0aWFsaXplIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFV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RUFBY2hRLFNBQVM2TixlQUFlLGVBQzVDbUMsRUFBWUMsUUFBVSxXQUNsQjNFLEVBQVE0RSxTQUFTRixFQUFZN1UsTUFBTyxJQUNoQzhTLElBQ0FBLEVBQVUzQyxNQUFRQSxJQUcxQkEsRUFBUTRFLFNBQVNGLEVBQVk3VSxNQUFPLElBQ2hDOFMsSUFDQUEsRUFBVTNDLE1BQVFBLEdBSXRCdkwsT0FBT29QLHNCQUFzQmpCLEdBR2pDaUMiLCJmaWxlIjoidG93ZXItb2YtaGFub2kuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDgpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcInVuZGVmaW5lZFwiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKSB7XG4gIHZhciBfaXRlbSA9IF9zbGljZWRUb0FycmF5KGl0ZW0sIDQpLFxuICAgICAgY29udGVudCA9IF9pdGVtWzFdLFxuICAgICAgY3NzTWFwcGluZyA9IF9pdGVtWzNdO1xuXG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290IHx8IFwiXCIpLmNvbmNhdChzb3VyY2UsIFwiICovXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oXCJcXG5cIik7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIHJldHVybiBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoY29udGVudCwgXCJ9XCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnksIGRlZHVwZSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCBcIlwiXV07XG4gICAgfVxuXG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblxuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcbiAgICAgICAgdmFyIGlkID0gdGhpc1tpXVswXTtcblxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBtb2R1bGVzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfaV0pO1xuXG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRpbnVlXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAobWVkaWFRdWVyeSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWFRdWVyeTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzJdID0gXCJcIi5jb25jYXQobWVkaWFRdWVyeSwgXCIgYW5kIFwiKS5jb25jYXQoaXRlbVsyXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gbGlzdDtcbn07IiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCI6cm9vdCB7XFxuICAgIC0tYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XFxuICAgIC0tbWFpbi1jb2xvcjogcmdiKDYzLCAxMTEsIDEzOSk7XFxuICAgIC0tdGV4dC1jb2xvcjogYmxhY2s7XFxuICAgIC0tZGlzYWJsZWQtY29sb3I6IHJnYigyMDYsMjA2LDIwNik7XFxuICAgIC0taG92ZXItY29sb3I6IHJnYigxMjUsIDE3NywgMjQ3KTtcXG4gICAgLS12aXNpdGVkLWNvbG9yOiByZ2IoMTA3LCA4MiwgMTM5KTtcXG4gICAgLS1ob3Zlci12aXNpdGVkLWNvbG9yOiByZ2IoMTY4LCAxMjksIDIxOCk7XFxufVxcblxcbi8qIFVzZSBib3ggc2l6aW5nIChodHRwczovL2Nzcy10cmlja3MuY29tL2JveC1zaXppbmcvKSAqL1xcbmh0bWwge1xcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbn1cXG4qLCAqOmJlZm9yZSwgKjphZnRlciB7XFxuICAgIGJveC1zaXppbmc6IGluaGVyaXQ7XFxufVxcblxcblxcbmJvZHkge1xcbiAgICBtYXJnaW46IDNweDtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJhY2tncm91bmQtY29sb3IpO1xcbiAgICBjb2xvcjogYmxhY2s7XFxuICAgIGNvbG9yOiB2YXIoLS10ZXh0LWNvbG9yKTtcXG59XFxuXFxuYXJ0aWNsZSB7XFxuICAgIGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmFja2dyb3VuZC1jb2xvcik7XFxufVxcblxcbmhlYWRlciB7XFxuICAgIGNvbG9yOiByZ2IoNjMsIDExMSwgMTM5KTtcXG4gICAgY29sb3I6IHZhcigtLW1haW4tY29sb3IpO1xcbn1cXG5cXG5idXR0b24ge1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2IoNjMsIDExMSwgMTM5KTtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tbWFpbi1jb2xvcik7XFxuICAgIHBhZGRpbmc6IDFlbSAzZW07XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLWNvbG9yKTtcXG4gICAgY29sb3I6IHJnYig2MywgMTExLCAxMzkpO1xcbiAgICBjb2xvcjogdmFyKC0tbWFpbi1jb2xvcik7XFxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xcbn1cXG5cXG5idXR0b246ZGlzYWJsZWQge1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2IoMjA2LDIwNiwyMDYpO1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1kaXNhYmxlZC1jb2xvcik7XFxuICAgIHBhZGRpbmc6IDFlbSAzZW07XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLWNvbG9yKTtcXG4gICAgY29sb3I6IHJnYigyMDYsMjA2LDIwNik7XFxuICAgIGNvbG9yOiB2YXIoLS1kaXNhYmxlZC1jb2xvcik7XFxufVxcblxcbmJ1dHRvbjpkaXNhYmxlZDpob3ZlciB7XFxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYigyMDYsMjA2LDIwNik7XFxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWRpc2FibGVkLWNvbG9yKTtcXG4gICAgcGFkZGluZzogMWVtIDNlbTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJhY2tncm91bmQtY29sb3IpO1xcbiAgICBjb2xvcjogcmdiKDIwNiwyMDYsMjA2KTtcXG4gICAgY29sb3I6IHZhcigtLWRpc2FibGVkLWNvbG9yKTtcXG59XFxuXFxuYnV0dG9uOmFjdGl2ZSxcXG5idXR0b246Zm9jdXMsXFxuYnV0dG9uOmhvdmVyIHtcXG4gICAgcGFkZGluZzogMWVtIDNlbTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDYzLCAxMTEsIDEzOSk7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLW1haW4tY29sb3IpO1xcbiAgICBjb2xvcjogd2hpdGU7XFxuICAgIGNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLWNvbG9yKTtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgcmdiKDYzLCAxMTEsIDEzOSk7XFxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLW1haW4tY29sb3IpO1xcbn1cXG5cXG5hIHtcXG4gICAgY29sb3I6IHJnYig2MywgMTExLCAxMzkpO1xcbiAgICBjb2xvcjogdmFyKC0tbWFpbi1jb2xvcik7XFxufVxcbmE6dmlzaXRlZCB7XFxuICAgIGNvbG9yOiByZ2IoMTA3LCA4MiwgMTM5KTtcXG4gICAgY29sb3I6IHZhcigtLXZpc2l0ZWQtY29sb3IpO1xcbn1cXG5hOmhvdmVyIHtcXG4gICAgY29sb3I6IHJnYigxMjUsIDE3NywgMjQ3KTtcXG4gICAgY29sb3I6IHZhcigtLWhvdmVyLWNvbG9yKTtcXG59XFxuYTpob3Zlcjp2aXNpdGVkIHtcXG4gICAgY29sb3I6IHJnYigxNjgsIDEyOSwgMjE4KTtcXG4gICAgY29sb3I6IHZhcigtLWhvdmVyLXZpc2l0ZWQtY29sb3IpO1xcbn1cXG5cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvc3R5bGUuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0lBQ0kseUJBQXlCO0lBQ3pCLCtCQUErQjtJQUMvQixtQkFBbUI7SUFDbkIsa0NBQTBCO0lBQzFCLGlDQUFpQztJQUNqQyxrQ0FBa0M7SUFDbEMseUNBQXlDO0FBQzdDOztBQUVBLHdEQUF3RDtBQUN4RDtJQUNJLHNCQUFzQjtBQUMxQjtBQUNBO0lBQ0ksbUJBQW1CO0FBQ3ZCOzs7QUFHQTtJQUNJLFdBQVc7SUFDWCx1QkFBeUM7SUFBekMseUNBQXlDO0lBQ3pDLFlBQXdCO0lBQXhCLHdCQUF3QjtBQUM1Qjs7QUFFQTtJQUNJLHVCQUF1QjtJQUN2Qix1QkFBeUM7SUFBekMseUNBQXlDO0FBQzdDOztBQUVBO0lBQ0ksd0JBQXdCO0lBQXhCLHdCQUF3QjtBQUM1Qjs7QUFFQTtJQUNJLG1DQUFtQztJQUFuQyxtQ0FBbUM7SUFDbkMsZ0JBQWdCO0lBQ2hCLHVCQUF5QztJQUF6Qyx5Q0FBeUM7SUFDekMsd0JBQXdCO0lBQXhCLHdCQUF3QjtJQUN4QixpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxrQ0FBdUM7SUFBdkMsdUNBQXVDO0lBQ3ZDLGdCQUFnQjtJQUNoQix1QkFBeUM7SUFBekMseUNBQXlDO0lBQ3pDLHVCQUE0QjtJQUE1Qiw0QkFBNEI7QUFDaEM7O0FBRUE7SUFDSSxrQ0FBdUM7SUFBdkMsdUNBQXVDO0lBQ3ZDLGdCQUFnQjtJQUNoQix1QkFBeUM7SUFBekMseUNBQXlDO0lBQ3pDLHVCQUE0QjtJQUE1Qiw0QkFBNEI7QUFDaEM7O0FBRUE7OztJQUdJLGdCQUFnQjtJQUNoQixtQ0FBbUM7SUFBbkMsbUNBQW1DO0lBQ25DLFlBQThCO0lBQTlCLDhCQUE4QjtJQUM5QixtQ0FBbUM7SUFBbkMsbUNBQW1DO0FBQ3ZDOztBQUVBO0lBQ0ksd0JBQXdCO0lBQXhCLHdCQUF3QjtBQUM1QjtBQUNBO0lBQ0ksd0JBQTJCO0lBQTNCLDJCQUEyQjtBQUMvQjtBQUNBO0lBQ0kseUJBQXlCO0lBQXpCLHlCQUF5QjtBQUM3QjtBQUNBO0lBQ0kseUJBQWlDO0lBQWpDLGlDQUFpQztBQUNyQ1wiLFwic291cmNlc0NvbnRlbnRcIjpbXCI6cm9vdCB7XFxuICAgIC0tYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XFxuICAgIC0tbWFpbi1jb2xvcjogcmdiKDYzLCAxMTEsIDEzOSk7XFxuICAgIC0tdGV4dC1jb2xvcjogYmxhY2s7XFxuICAgIC0tZGlzYWJsZWQtY29sb3I6IGdyYXkoODMpO1xcbiAgICAtLWhvdmVyLWNvbG9yOiByZ2IoMTI1LCAxNzcsIDI0Nyk7XFxuICAgIC0tdmlzaXRlZC1jb2xvcjogcmdiKDEwNywgODIsIDEzOSk7XFxuICAgIC0taG92ZXItdmlzaXRlZC1jb2xvcjogcmdiKDE2OCwgMTI5LCAyMTgpO1xcbn1cXG5cXG4vKiBVc2UgYm94IHNpemluZyAoaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9ib3gtc2l6aW5nLykgKi9cXG5odG1sIHtcXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG59XFxuKiwgKjpiZWZvcmUsICo6YWZ0ZXIge1xcbiAgICBib3gtc2l6aW5nOiBpbmhlcml0O1xcbn1cXG5cXG5cXG5ib2R5IHtcXG4gICAgbWFyZ2luOiAzcHg7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJhY2tncm91bmQtY29sb3IpO1xcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1jb2xvcik7XFxufVxcblxcbmFydGljbGUge1xcbiAgICBmb250LWZhbWlseTogc2Fucy1zZXJpZjtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmFja2dyb3VuZC1jb2xvcik7XFxufVxcblxcbmhlYWRlciB7XFxuICAgIGNvbG9yOiB2YXIoLS1tYWluLWNvbG9yKTtcXG59XFxuXFxuYnV0dG9uIHtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tbWFpbi1jb2xvcik7XFxuICAgIHBhZGRpbmc6IDFlbSAzZW07XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJhY2tncm91bmQtY29sb3IpO1xcbiAgICBjb2xvcjogdmFyKC0tbWFpbi1jb2xvcik7XFxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xcbn1cXG5cXG5idXR0b246ZGlzYWJsZWQge1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1kaXNhYmxlZC1jb2xvcik7XFxuICAgIHBhZGRpbmc6IDFlbSAzZW07XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJhY2tncm91bmQtY29sb3IpO1xcbiAgICBjb2xvcjogdmFyKC0tZGlzYWJsZWQtY29sb3IpO1xcbn1cXG5cXG5idXR0b246ZGlzYWJsZWQ6aG92ZXIge1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1kaXNhYmxlZC1jb2xvcik7XFxuICAgIHBhZGRpbmc6IDFlbSAzZW07XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJhY2tncm91bmQtY29sb3IpO1xcbiAgICBjb2xvcjogdmFyKC0tZGlzYWJsZWQtY29sb3IpO1xcbn1cXG5cXG5idXR0b246YWN0aXZlLFxcbmJ1dHRvbjpmb2N1cyxcXG5idXR0b246aG92ZXIge1xcbiAgICBwYWRkaW5nOiAxZW0gM2VtO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1tYWluLWNvbG9yKTtcXG4gICAgY29sb3I6IHZhcigtLWJhY2tncm91bmQtY29sb3IpO1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1tYWluLWNvbG9yKTtcXG59XFxuXFxuYSB7XFxuICAgIGNvbG9yOiB2YXIoLS1tYWluLWNvbG9yKTtcXG59XFxuYTp2aXNpdGVkIHtcXG4gICAgY29sb3I6IHZhcigtLXZpc2l0ZWQtY29sb3IpO1xcbn1cXG5hOmhvdmVyIHtcXG4gICAgY29sb3I6IHZhcigtLWhvdmVyLWNvbG9yKTtcXG59XFxuYTpob3Zlcjp2aXNpdGVkIHtcXG4gICAgY29sb3I6IHZhcigtLWhvdmVyLXZpc2l0ZWQtY29sb3IpO1xcbn1cXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBpc09sZElFID0gZnVuY3Rpb24gaXNPbGRJRSgpIHtcbiAgdmFyIG1lbW87XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSgpIHtcbiAgICBpZiAodHlwZW9mIG1lbW8gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuICAgICAgLy8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuICAgICAgLy8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuICAgICAgLy8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG4gICAgICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcbiAgICAgIG1lbW8gPSBCb29sZWFuKHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtbztcbiAgfTtcbn0oKTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uIGdldFRhcmdldCgpIHtcbiAgdmFyIG1lbW8gPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKHRhcmdldCkge1xuICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtb1t0YXJnZXRdO1xuICB9O1xufSgpO1xuXG52YXIgc3R5bGVzSW5Eb20gPSBbXTtcblxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRvbS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRvbVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdXG4gICAgfTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZXNJbkRvbS5wdXNoKHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogYWRkU3R5bGUob2JqLCBvcHRpb25zKSxcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgdmFyIGF0dHJpYnV0ZXMgPSBvcHRpb25zLmF0dHJpYnV0ZXMgfHwge307XG5cbiAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVzLm5vbmNlID09PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gJ3VuZGVmaW5lZCcgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgICBpZiAobm9uY2UpIHtcbiAgICAgIGF0dHJpYnV0ZXMubm9uY2UgPSBub25jZTtcbiAgICB9XG4gIH1cblxuICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICB9KTtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb3B0aW9ucy5pbnNlcnQoc3R5bGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQob3B0aW9ucy5pbnNlcnQgfHwgJ2hlYWQnKTtcblxuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICAgIH1cblxuICAgIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICByZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbnZhciByZXBsYWNlVGV4dCA9IGZ1bmN0aW9uIHJlcGxhY2VUZXh0KCkge1xuICB2YXIgdGV4dFN0b3JlID0gW107XG4gIHJldHVybiBmdW5jdGlvbiByZXBsYWNlKGluZGV4LCByZXBsYWNlbWVudCkge1xuICAgIHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcbiAgICByZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcbiAgfTtcbn0oKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG4gIHZhciBjc3MgPSByZW1vdmUgPyAnJyA6IG9iai5tZWRpYSA/IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIikuY29uY2F0KG9iai5jc3MsIFwifVwiKSA6IG9iai5jc3M7IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG4gICAgdmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG4gICAgaWYgKGNoaWxkTm9kZXNbaW5kZXhdKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICBzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZSwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBvYmouY3NzO1xuICB2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChtZWRpYSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbWVkaWEnLCBtZWRpYSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUucmVtb3ZlQXR0cmlidXRlKCdtZWRpYScpO1xuICB9XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiBidG9hKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZS5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhciBzaW5nbGV0b25Db3VudGVyID0gMDtcblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBzdHlsZTtcbiAgdmFyIHVwZGF0ZTtcbiAgdmFyIHJlbW92ZTtcblxuICBpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcbiAgICB2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcbiAgICBzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcbiAgICByZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cbiAgICByZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuICAgIH07XG4gIH1cblxuICB1cGRhdGUob2JqKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OyAvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cbiAgLy8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXG4gIGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSAnYm9vbGVhbicpIHtcbiAgICBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcbiAgfVxuXG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3TGlzdCkgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5Eb21bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRG9tW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRG9tLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG52YXIgcnVudGltZSA9IChmdW5jdGlvbiAoZXhwb3J0cykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgT3AgPSBPYmplY3QucHJvdG90eXBlO1xuICB2YXIgaGFzT3duID0gT3AuaGFzT3duUHJvcGVydHk7XG4gIHZhciB1bmRlZmluZWQ7IC8vIE1vcmUgY29tcHJlc3NpYmxlIHRoYW4gdm9pZCAwLlxuICB2YXIgJFN5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiA/IFN5bWJvbCA6IHt9O1xuICB2YXIgaXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiO1xuICB2YXIgYXN5bmNJdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuYXN5bmNJdGVyYXRvciB8fCBcIkBAYXN5bmNJdGVyYXRvclwiO1xuICB2YXIgdG9TdHJpbmdUYWdTeW1ib2wgPSAkU3ltYm9sLnRvU3RyaW5nVGFnIHx8IFwiQEB0b1N0cmluZ1RhZ1wiO1xuXG4gIGZ1bmN0aW9uIGRlZmluZShvYmosIGtleSwgdmFsdWUpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBvYmpba2V5XTtcbiAgfVxuICB0cnkge1xuICAgIC8vIElFIDggaGFzIGEgYnJva2VuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSB0aGF0IG9ubHkgd29ya3Mgb24gRE9NIG9iamVjdHMuXG4gICAgZGVmaW5lKHt9LCBcIlwiKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgZGVmaW5lID0gZnVuY3Rpb24ob2JqLCBrZXksIHZhbHVlKSB7XG4gICAgICByZXR1cm4gb2JqW2tleV0gPSB2YWx1ZTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkge1xuICAgIC8vIElmIG91dGVyRm4gcHJvdmlkZWQgYW5kIG91dGVyRm4ucHJvdG90eXBlIGlzIGEgR2VuZXJhdG9yLCB0aGVuIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yLlxuICAgIHZhciBwcm90b0dlbmVyYXRvciA9IG91dGVyRm4gJiYgb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IgPyBvdXRlckZuIDogR2VuZXJhdG9yO1xuICAgIHZhciBnZW5lcmF0b3IgPSBPYmplY3QuY3JlYXRlKHByb3RvR2VuZXJhdG9yLnByb3RvdHlwZSk7XG4gICAgdmFyIGNvbnRleHQgPSBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSk7XG5cbiAgICAvLyBUaGUgLl9pbnZva2UgbWV0aG9kIHVuaWZpZXMgdGhlIGltcGxlbWVudGF0aW9ucyBvZiB0aGUgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzLlxuICAgIGdlbmVyYXRvci5faW52b2tlID0gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcblxuICAgIHJldHVybiBnZW5lcmF0b3I7XG4gIH1cbiAgZXhwb3J0cy53cmFwID0gd3JhcDtcblxuICAvLyBUcnkvY2F0Y2ggaGVscGVyIHRvIG1pbmltaXplIGRlb3B0aW1pemF0aW9ucy4gUmV0dXJucyBhIGNvbXBsZXRpb25cbiAgLy8gcmVjb3JkIGxpa2UgY29udGV4dC50cnlFbnRyaWVzW2ldLmNvbXBsZXRpb24uIFRoaXMgaW50ZXJmYWNlIGNvdWxkXG4gIC8vIGhhdmUgYmVlbiAoYW5kIHdhcyBwcmV2aW91c2x5KSBkZXNpZ25lZCB0byB0YWtlIGEgY2xvc3VyZSB0byBiZVxuICAvLyBpbnZva2VkIHdpdGhvdXQgYXJndW1lbnRzLCBidXQgaW4gYWxsIHRoZSBjYXNlcyB3ZSBjYXJlIGFib3V0IHdlXG4gIC8vIGFscmVhZHkgaGF2ZSBhbiBleGlzdGluZyBtZXRob2Qgd2Ugd2FudCB0byBjYWxsLCBzbyB0aGVyZSdzIG5vIG5lZWRcbiAgLy8gdG8gY3JlYXRlIGEgbmV3IGZ1bmN0aW9uIG9iamVjdC4gV2UgY2FuIGV2ZW4gZ2V0IGF3YXkgd2l0aCBhc3N1bWluZ1xuICAvLyB0aGUgbWV0aG9kIHRha2VzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBzaW5jZSB0aGF0IGhhcHBlbnMgdG8gYmUgdHJ1ZVxuICAvLyBpbiBldmVyeSBjYXNlLCBzbyB3ZSBkb24ndCBoYXZlIHRvIHRvdWNoIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBUaGVcbiAgLy8gb25seSBhZGRpdGlvbmFsIGFsbG9jYXRpb24gcmVxdWlyZWQgaXMgdGhlIGNvbXBsZXRpb24gcmVjb3JkLCB3aGljaFxuICAvLyBoYXMgYSBzdGFibGUgc2hhcGUgYW5kIHNvIGhvcGVmdWxseSBzaG91bGQgYmUgY2hlYXAgdG8gYWxsb2NhdGUuXG4gIGZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBvYmosIGFyZykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcIm5vcm1hbFwiLCBhcmc6IGZuLmNhbGwob2JqLCBhcmcpIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcInRocm93XCIsIGFyZzogZXJyIH07XG4gICAgfVxuICB9XG5cbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkU3RhcnQgPSBcInN1c3BlbmRlZFN0YXJ0XCI7XG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkID0gXCJzdXNwZW5kZWRZaWVsZFwiO1xuICB2YXIgR2VuU3RhdGVFeGVjdXRpbmcgPSBcImV4ZWN1dGluZ1wiO1xuICB2YXIgR2VuU3RhdGVDb21wbGV0ZWQgPSBcImNvbXBsZXRlZFwiO1xuXG4gIC8vIFJldHVybmluZyB0aGlzIG9iamVjdCBmcm9tIHRoZSBpbm5lckZuIGhhcyB0aGUgc2FtZSBlZmZlY3QgYXNcbiAgLy8gYnJlYWtpbmcgb3V0IG9mIHRoZSBkaXNwYXRjaCBzd2l0Y2ggc3RhdGVtZW50LlxuICB2YXIgQ29udGludWVTZW50aW5lbCA9IHt9O1xuXG4gIC8vIER1bW15IGNvbnN0cnVjdG9yIGZ1bmN0aW9ucyB0aGF0IHdlIHVzZSBhcyB0aGUgLmNvbnN0cnVjdG9yIGFuZFxuICAvLyAuY29uc3RydWN0b3IucHJvdG90eXBlIHByb3BlcnRpZXMgZm9yIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0cy4gRm9yIGZ1bGwgc3BlYyBjb21wbGlhbmNlLCB5b3UgbWF5IHdpc2ggdG8gY29uZmlndXJlIHlvdXJcbiAgLy8gbWluaWZpZXIgbm90IHRvIG1hbmdsZSB0aGUgbmFtZXMgb2YgdGhlc2UgdHdvIGZ1bmN0aW9ucy5cbiAgZnVuY3Rpb24gR2VuZXJhdG9yKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9XG5cbiAgLy8gVGhpcyBpcyBhIHBvbHlmaWxsIGZvciAlSXRlcmF0b3JQcm90b3R5cGUlIGZvciBlbnZpcm9ubWVudHMgdGhhdFxuICAvLyBkb24ndCBuYXRpdmVseSBzdXBwb3J0IGl0LlxuICB2YXIgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcbiAgSXRlcmF0b3JQcm90b3R5cGVbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbiAgdmFyIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG8gJiYgZ2V0UHJvdG8oZ2V0UHJvdG8odmFsdWVzKFtdKSkpO1xuICBpZiAoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgJiZcbiAgICAgIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICE9PSBPcCAmJlxuICAgICAgaGFzT3duLmNhbGwoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sKSkge1xuICAgIC8vIFRoaXMgZW52aXJvbm1lbnQgaGFzIGEgbmF0aXZlICVJdGVyYXRvclByb3RvdHlwZSU7IHVzZSBpdCBpbnN0ZWFkXG4gICAgLy8gb2YgdGhlIHBvbHlmaWxsLlxuICAgIEl0ZXJhdG9yUHJvdG90eXBlID0gTmF0aXZlSXRlcmF0b3JQcm90b3R5cGU7XG4gIH1cblxuICB2YXIgR3AgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPVxuICAgIEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlKTtcbiAgR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR3AuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvbjtcbiAgR2VuZXJhdG9yRnVuY3Rpb24uZGlzcGxheU5hbWUgPSBkZWZpbmUoXG4gICAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsXG4gICAgdG9TdHJpbmdUYWdTeW1ib2wsXG4gICAgXCJHZW5lcmF0b3JGdW5jdGlvblwiXG4gICk7XG5cbiAgLy8gSGVscGVyIGZvciBkZWZpbmluZyB0aGUgLm5leHQsIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcyBvZiB0aGVcbiAgLy8gSXRlcmF0b3IgaW50ZXJmYWNlIGluIHRlcm1zIG9mIGEgc2luZ2xlIC5faW52b2tlIG1ldGhvZC5cbiAgZnVuY3Rpb24gZGVmaW5lSXRlcmF0b3JNZXRob2RzKHByb3RvdHlwZSkge1xuICAgIFtcIm5leHRcIiwgXCJ0aHJvd1wiLCBcInJldHVyblwiXS5mb3JFYWNoKGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgICAgZGVmaW5lKHByb3RvdHlwZSwgbWV0aG9kLCBmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludm9rZShtZXRob2QsIGFyZyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uKGdlbkZ1bikge1xuICAgIHZhciBjdG9yID0gdHlwZW9mIGdlbkZ1biA9PT0gXCJmdW5jdGlvblwiICYmIGdlbkZ1bi5jb25zdHJ1Y3RvcjtcbiAgICByZXR1cm4gY3RvclxuICAgICAgPyBjdG9yID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fFxuICAgICAgICAvLyBGb3IgdGhlIG5hdGl2ZSBHZW5lcmF0b3JGdW5jdGlvbiBjb25zdHJ1Y3RvciwgdGhlIGJlc3Qgd2UgY2FuXG4gICAgICAgIC8vIGRvIGlzIHRvIGNoZWNrIGl0cyAubmFtZSBwcm9wZXJ0eS5cbiAgICAgICAgKGN0b3IuZGlzcGxheU5hbWUgfHwgY3Rvci5uYW1lKSA9PT0gXCJHZW5lcmF0b3JGdW5jdGlvblwiXG4gICAgICA6IGZhbHNlO1xuICB9O1xuXG4gIGV4cG9ydHMubWFyayA9IGZ1bmN0aW9uKGdlbkZ1bikge1xuICAgIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIHtcbiAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihnZW5GdW4sIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2VuRnVuLl9fcHJvdG9fXyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICAgICAgZGVmaW5lKGdlbkZ1biwgdG9TdHJpbmdUYWdTeW1ib2wsIFwiR2VuZXJhdG9yRnVuY3Rpb25cIik7XG4gICAgfVxuICAgIGdlbkZ1bi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEdwKTtcbiAgICByZXR1cm4gZ2VuRnVuO1xuICB9O1xuXG4gIC8vIFdpdGhpbiB0aGUgYm9keSBvZiBhbnkgYXN5bmMgZnVuY3Rpb24sIGBhd2FpdCB4YCBpcyB0cmFuc2Zvcm1lZCB0b1xuICAvLyBgeWllbGQgcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHgpYCwgc28gdGhhdCB0aGUgcnVudGltZSBjYW4gdGVzdFxuICAvLyBgaGFzT3duLmNhbGwodmFsdWUsIFwiX19hd2FpdFwiKWAgdG8gZGV0ZXJtaW5lIGlmIHRoZSB5aWVsZGVkIHZhbHVlIGlzXG4gIC8vIG1lYW50IHRvIGJlIGF3YWl0ZWQuXG4gIGV4cG9ydHMuYXdyYXAgPSBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4geyBfX2F3YWl0OiBhcmcgfTtcbiAgfTtcblxuICBmdW5jdGlvbiBBc3luY0l0ZXJhdG9yKGdlbmVyYXRvciwgUHJvbWlzZUltcGwpIHtcbiAgICBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGdlbmVyYXRvclttZXRob2RdLCBnZW5lcmF0b3IsIGFyZyk7XG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICByZWplY3QocmVjb3JkLmFyZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgcmVzdWx0ID0gcmVjb3JkLmFyZztcbiAgICAgICAgdmFyIHZhbHVlID0gcmVzdWx0LnZhbHVlO1xuICAgICAgICBpZiAodmFsdWUgJiZcbiAgICAgICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICAgICAgaGFzT3duLmNhbGwodmFsdWUsIFwiX19hd2FpdFwiKSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlLl9fYXdhaXQpLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIGludm9rZShcIm5leHRcIiwgdmFsdWUsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICBpbnZva2UoXCJ0aHJvd1wiLCBlcnIsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZSkudGhlbihmdW5jdGlvbih1bndyYXBwZWQpIHtcbiAgICAgICAgICAvLyBXaGVuIGEgeWllbGRlZCBQcm9taXNlIGlzIHJlc29sdmVkLCBpdHMgZmluYWwgdmFsdWUgYmVjb21lc1xuICAgICAgICAgIC8vIHRoZSAudmFsdWUgb2YgdGhlIFByb21pc2U8e3ZhbHVlLGRvbmV9PiByZXN1bHQgZm9yIHRoZVxuICAgICAgICAgIC8vIGN1cnJlbnQgaXRlcmF0aW9uLlxuICAgICAgICAgIHJlc3VsdC52YWx1ZSA9IHVud3JhcHBlZDtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgLy8gSWYgYSByZWplY3RlZCBQcm9taXNlIHdhcyB5aWVsZGVkLCB0aHJvdyB0aGUgcmVqZWN0aW9uIGJhY2tcbiAgICAgICAgICAvLyBpbnRvIHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gc28gaXQgY2FuIGJlIGhhbmRsZWQgdGhlcmUuXG4gICAgICAgICAgcmV0dXJuIGludm9rZShcInRocm93XCIsIGVycm9yLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcHJldmlvdXNQcm9taXNlO1xuXG4gICAgZnVuY3Rpb24gZW5xdWV1ZShtZXRob2QsIGFyZykge1xuICAgICAgZnVuY3Rpb24gY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZUltcGwoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByZXZpb3VzUHJvbWlzZSA9XG4gICAgICAgIC8vIElmIGVucXVldWUgaGFzIGJlZW4gY2FsbGVkIGJlZm9yZSwgdGhlbiB3ZSB3YW50IHRvIHdhaXQgdW50aWxcbiAgICAgICAgLy8gYWxsIHByZXZpb3VzIFByb21pc2VzIGhhdmUgYmVlbiByZXNvbHZlZCBiZWZvcmUgY2FsbGluZyBpbnZva2UsXG4gICAgICAgIC8vIHNvIHRoYXQgcmVzdWx0cyBhcmUgYWx3YXlzIGRlbGl2ZXJlZCBpbiB0aGUgY29ycmVjdCBvcmRlci4gSWZcbiAgICAgICAgLy8gZW5xdWV1ZSBoYXMgbm90IGJlZW4gY2FsbGVkIGJlZm9yZSwgdGhlbiBpdCBpcyBpbXBvcnRhbnQgdG9cbiAgICAgICAgLy8gY2FsbCBpbnZva2UgaW1tZWRpYXRlbHksIHdpdGhvdXQgd2FpdGluZyBvbiBhIGNhbGxiYWNrIHRvIGZpcmUsXG4gICAgICAgIC8vIHNvIHRoYXQgdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBoYXMgdGhlIG9wcG9ydHVuaXR5IHRvIGRvXG4gICAgICAgIC8vIGFueSBuZWNlc3Nhcnkgc2V0dXAgaW4gYSBwcmVkaWN0YWJsZSB3YXkuIFRoaXMgcHJlZGljdGFiaWxpdHlcbiAgICAgICAgLy8gaXMgd2h5IHRoZSBQcm9taXNlIGNvbnN0cnVjdG9yIHN5bmNocm9ub3VzbHkgaW52b2tlcyBpdHNcbiAgICAgICAgLy8gZXhlY3V0b3IgY2FsbGJhY2ssIGFuZCB3aHkgYXN5bmMgZnVuY3Rpb25zIHN5bmNocm9ub3VzbHlcbiAgICAgICAgLy8gZXhlY3V0ZSBjb2RlIGJlZm9yZSB0aGUgZmlyc3QgYXdhaXQuIFNpbmNlIHdlIGltcGxlbWVudCBzaW1wbGVcbiAgICAgICAgLy8gYXN5bmMgZnVuY3Rpb25zIGluIHRlcm1zIG9mIGFzeW5jIGdlbmVyYXRvcnMsIGl0IGlzIGVzcGVjaWFsbHlcbiAgICAgICAgLy8gaW1wb3J0YW50IHRvIGdldCB0aGlzIHJpZ2h0LCBldmVuIHRob3VnaCBpdCByZXF1aXJlcyBjYXJlLlxuICAgICAgICBwcmV2aW91c1Byb21pc2UgPyBwcmV2aW91c1Byb21pc2UudGhlbihcbiAgICAgICAgICBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZyxcbiAgICAgICAgICAvLyBBdm9pZCBwcm9wYWdhdGluZyBmYWlsdXJlcyB0byBQcm9taXNlcyByZXR1cm5lZCBieSBsYXRlclxuICAgICAgICAgIC8vIGludm9jYXRpb25zIG9mIHRoZSBpdGVyYXRvci5cbiAgICAgICAgICBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZ1xuICAgICAgICApIDogY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKTtcbiAgICB9XG5cbiAgICAvLyBEZWZpbmUgdGhlIHVuaWZpZWQgaGVscGVyIG1ldGhvZCB0aGF0IGlzIHVzZWQgdG8gaW1wbGVtZW50IC5uZXh0LFxuICAgIC8vIC50aHJvdywgYW5kIC5yZXR1cm4gKHNlZSBkZWZpbmVJdGVyYXRvck1ldGhvZHMpLlxuICAgIHRoaXMuX2ludm9rZSA9IGVucXVldWU7XG4gIH1cblxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUpO1xuICBBc3luY0l0ZXJhdG9yLnByb3RvdHlwZVthc3luY0l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgZXhwb3J0cy5Bc3luY0l0ZXJhdG9yID0gQXN5bmNJdGVyYXRvcjtcblxuICAvLyBOb3RlIHRoYXQgc2ltcGxlIGFzeW5jIGZ1bmN0aW9ucyBhcmUgaW1wbGVtZW50ZWQgb24gdG9wIG9mXG4gIC8vIEFzeW5jSXRlcmF0b3Igb2JqZWN0czsgdGhleSBqdXN0IHJldHVybiBhIFByb21pc2UgZm9yIHRoZSB2YWx1ZSBvZlxuICAvLyB0aGUgZmluYWwgcmVzdWx0IHByb2R1Y2VkIGJ5IHRoZSBpdGVyYXRvci5cbiAgZXhwb3J0cy5hc3luYyA9IGZ1bmN0aW9uKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0LCBQcm9taXNlSW1wbCkge1xuICAgIGlmIChQcm9taXNlSW1wbCA9PT0gdm9pZCAwKSBQcm9taXNlSW1wbCA9IFByb21pc2U7XG5cbiAgICB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKFxuICAgICAgd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCksXG4gICAgICBQcm9taXNlSW1wbFxuICAgICk7XG5cbiAgICByZXR1cm4gZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uKG91dGVyRm4pXG4gICAgICA/IGl0ZXIgLy8gSWYgb3V0ZXJGbiBpcyBhIGdlbmVyYXRvciwgcmV0dXJuIHRoZSBmdWxsIGl0ZXJhdG9yLlxuICAgICAgOiBpdGVyLm5leHQoKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgIHJldHVybiByZXN1bHQuZG9uZSA/IHJlc3VsdC52YWx1ZSA6IGl0ZXIubmV4dCgpO1xuICAgICAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpIHtcbiAgICB2YXIgc3RhdGUgPSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZykge1xuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUV4ZWN1dGluZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlQ29tcGxldGVkKSB7XG4gICAgICAgIGlmIChtZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHRocm93IGFyZztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJlIGZvcmdpdmluZywgcGVyIDI1LjMuMy4zLjMgb2YgdGhlIHNwZWM6XG4gICAgICAgIC8vIGh0dHBzOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy1nZW5lcmF0b3JyZXN1bWVcbiAgICAgICAgcmV0dXJuIGRvbmVSZXN1bHQoKTtcbiAgICAgIH1cblxuICAgICAgY29udGV4dC5tZXRob2QgPSBtZXRob2Q7XG4gICAgICBjb250ZXh0LmFyZyA9IGFyZztcblxuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgdmFyIGRlbGVnYXRlID0gY29udGV4dC5kZWxlZ2F0ZTtcbiAgICAgICAgaWYgKGRlbGVnYXRlKSB7XG4gICAgICAgICAgdmFyIGRlbGVnYXRlUmVzdWx0ID0gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7XG4gICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQgPT09IENvbnRpbnVlU2VudGluZWwpIGNvbnRpbnVlO1xuICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlUmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgICAvLyBTZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgICAgICAvLyBmdW5jdGlvbi5zZW50IGltcGxlbWVudGF0aW9uLlxuICAgICAgICAgIGNvbnRleHQuc2VudCA9IGNvbnRleHQuX3NlbnQgPSBjb250ZXh0LmFyZztcblxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQpIHtcbiAgICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgICB0aHJvdyBjb250ZXh0LmFyZztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKTtcblxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInJldHVyblwiKSB7XG4gICAgICAgICAgY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5hcmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUV4ZWN1dGluZztcblxuICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG4gICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIikge1xuICAgICAgICAgIC8vIElmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gZnJvbSBpbm5lckZuLCB3ZSBsZWF2ZSBzdGF0ZSA9PT1cbiAgICAgICAgICAvLyBHZW5TdGF0ZUV4ZWN1dGluZyBhbmQgbG9vcCBiYWNrIGZvciBhbm90aGVyIGludm9jYXRpb24uXG4gICAgICAgICAgc3RhdGUgPSBjb250ZXh0LmRvbmVcbiAgICAgICAgICAgID8gR2VuU3RhdGVDb21wbGV0ZWRcbiAgICAgICAgICAgIDogR2VuU3RhdGVTdXNwZW5kZWRZaWVsZDtcblxuICAgICAgICAgIGlmIChyZWNvcmQuYXJnID09PSBDb250aW51ZVNlbnRpbmVsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHJlY29yZC5hcmcsXG4gICAgICAgICAgICBkb25lOiBjb250ZXh0LmRvbmVcbiAgICAgICAgICB9O1xuXG4gICAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgLy8gRGlzcGF0Y2ggdGhlIGV4Y2VwdGlvbiBieSBsb29waW5nIGJhY2sgYXJvdW5kIHRvIHRoZVxuICAgICAgICAgIC8vIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpIGNhbGwgYWJvdmUuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8vIENhbGwgZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdKGNvbnRleHQuYXJnKSBhbmQgaGFuZGxlIHRoZVxuICAvLyByZXN1bHQsIGVpdGhlciBieSByZXR1cm5pbmcgYSB7IHZhbHVlLCBkb25lIH0gcmVzdWx0IGZyb20gdGhlXG4gIC8vIGRlbGVnYXRlIGl0ZXJhdG9yLCBvciBieSBtb2RpZnlpbmcgY29udGV4dC5tZXRob2QgYW5kIGNvbnRleHQuYXJnLFxuICAvLyBzZXR0aW5nIGNvbnRleHQuZGVsZWdhdGUgdG8gbnVsbCwgYW5kIHJldHVybmluZyB0aGUgQ29udGludWVTZW50aW5lbC5cbiAgZnVuY3Rpb24gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCkge1xuICAgIHZhciBtZXRob2QgPSBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF07XG4gICAgaWYgKG1ldGhvZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBBIC50aHJvdyBvciAucmV0dXJuIHdoZW4gdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBubyAudGhyb3dcbiAgICAgIC8vIG1ldGhvZCBhbHdheXMgdGVybWluYXRlcyB0aGUgeWllbGQqIGxvb3AuXG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgLy8gTm90ZTogW1wicmV0dXJuXCJdIG11c3QgYmUgdXNlZCBmb3IgRVMzIHBhcnNpbmcgY29tcGF0aWJpbGl0eS5cbiAgICAgICAgaWYgKGRlbGVnYXRlLml0ZXJhdG9yW1wicmV0dXJuXCJdKSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBhIHJldHVybiBtZXRob2QsIGdpdmUgaXQgYVxuICAgICAgICAgIC8vIGNoYW5jZSB0byBjbGVhbiB1cC5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7XG5cbiAgICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgLy8gSWYgbWF5YmVJbnZva2VEZWxlZ2F0ZShjb250ZXh0KSBjaGFuZ2VkIGNvbnRleHQubWV0aG9kIGZyb21cbiAgICAgICAgICAgIC8vIFwicmV0dXJuXCIgdG8gXCJ0aHJvd1wiLCBsZXQgdGhhdCBvdmVycmlkZSB0aGUgVHlwZUVycm9yIGJlbG93LlxuICAgICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICBcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ3Rocm93JyBtZXRob2RcIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChtZXRob2QsIGRlbGVnYXRlLml0ZXJhdG9yLCBjb250ZXh0LmFyZyk7XG5cbiAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIHZhciBpbmZvID0gcmVjb3JkLmFyZztcblxuICAgIGlmICghIGluZm8pIHtcbiAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFwiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3RcIik7XG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIGlmIChpbmZvLmRvbmUpIHtcbiAgICAgIC8vIEFzc2lnbiB0aGUgcmVzdWx0IG9mIHRoZSBmaW5pc2hlZCBkZWxlZ2F0ZSB0byB0aGUgdGVtcG9yYXJ5XG4gICAgICAvLyB2YXJpYWJsZSBzcGVjaWZpZWQgYnkgZGVsZWdhdGUucmVzdWx0TmFtZSAoc2VlIGRlbGVnYXRlWWllbGQpLlxuICAgICAgY29udGV4dFtkZWxlZ2F0ZS5yZXN1bHROYW1lXSA9IGluZm8udmFsdWU7XG5cbiAgICAgIC8vIFJlc3VtZSBleGVjdXRpb24gYXQgdGhlIGRlc2lyZWQgbG9jYXRpb24gKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cbiAgICAgIGNvbnRleHQubmV4dCA9IGRlbGVnYXRlLm5leHRMb2M7XG5cbiAgICAgIC8vIElmIGNvbnRleHQubWV0aG9kIHdhcyBcInRocm93XCIgYnV0IHRoZSBkZWxlZ2F0ZSBoYW5kbGVkIHRoZVxuICAgICAgLy8gZXhjZXB0aW9uLCBsZXQgdGhlIG91dGVyIGdlbmVyYXRvciBwcm9jZWVkIG5vcm1hbGx5LiBJZlxuICAgICAgLy8gY29udGV4dC5tZXRob2Qgd2FzIFwibmV4dFwiLCBmb3JnZXQgY29udGV4dC5hcmcgc2luY2UgaXQgaGFzIGJlZW5cbiAgICAgIC8vIFwiY29uc3VtZWRcIiBieSB0aGUgZGVsZWdhdGUgaXRlcmF0b3IuIElmIGNvbnRleHQubWV0aG9kIHdhc1xuICAgICAgLy8gXCJyZXR1cm5cIiwgYWxsb3cgdGhlIG9yaWdpbmFsIC5yZXR1cm4gY2FsbCB0byBjb250aW51ZSBpbiB0aGVcbiAgICAgIC8vIG91dGVyIGdlbmVyYXRvci5cbiAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCAhPT0gXCJyZXR1cm5cIikge1xuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSZS15aWVsZCB0aGUgcmVzdWx0IHJldHVybmVkIGJ5IHRoZSBkZWxlZ2F0ZSBtZXRob2QuXG4gICAgICByZXR1cm4gaW5mbztcbiAgICB9XG5cbiAgICAvLyBUaGUgZGVsZWdhdGUgaXRlcmF0b3IgaXMgZmluaXNoZWQsIHNvIGZvcmdldCBpdCBhbmQgY29udGludWUgd2l0aFxuICAgIC8vIHRoZSBvdXRlciBnZW5lcmF0b3IuXG4gICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gIH1cblxuICAvLyBEZWZpbmUgR2VuZXJhdG9yLnByb3RvdHlwZS57bmV4dCx0aHJvdyxyZXR1cm59IGluIHRlcm1zIG9mIHRoZVxuICAvLyB1bmlmaWVkIC5faW52b2tlIGhlbHBlciBtZXRob2QuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhHcCk7XG5cbiAgZGVmaW5lKEdwLCB0b1N0cmluZ1RhZ1N5bWJvbCwgXCJHZW5lcmF0b3JcIik7XG5cbiAgLy8gQSBHZW5lcmF0b3Igc2hvdWxkIGFsd2F5cyByZXR1cm4gaXRzZWxmIGFzIHRoZSBpdGVyYXRvciBvYmplY3Qgd2hlbiB0aGVcbiAgLy8gQEBpdGVyYXRvciBmdW5jdGlvbiBpcyBjYWxsZWQgb24gaXQuIFNvbWUgYnJvd3NlcnMnIGltcGxlbWVudGF0aW9ucyBvZiB0aGVcbiAgLy8gaXRlcmF0b3IgcHJvdG90eXBlIGNoYWluIGluY29ycmVjdGx5IGltcGxlbWVudCB0aGlzLCBjYXVzaW5nIHRoZSBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0IHRvIG5vdCBiZSByZXR1cm5lZCBmcm9tIHRoaXMgY2FsbC4gVGhpcyBlbnN1cmVzIHRoYXQgZG9lc24ndCBoYXBwZW4uXG4gIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvaXNzdWVzLzI3NCBmb3IgbW9yZSBkZXRhaWxzLlxuICBHcFtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBHcC50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBcIltvYmplY3QgR2VuZXJhdG9yXVwiO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHB1c2hUcnlFbnRyeShsb2NzKSB7XG4gICAgdmFyIGVudHJ5ID0geyB0cnlMb2M6IGxvY3NbMF0gfTtcblxuICAgIGlmICgxIGluIGxvY3MpIHtcbiAgICAgIGVudHJ5LmNhdGNoTG9jID0gbG9jc1sxXTtcbiAgICB9XG5cbiAgICBpZiAoMiBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5maW5hbGx5TG9jID0gbG9jc1syXTtcbiAgICAgIGVudHJ5LmFmdGVyTG9jID0gbG9jc1szXTtcbiAgICB9XG5cbiAgICB0aGlzLnRyeUVudHJpZXMucHVzaChlbnRyeSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFRyeUVudHJ5KGVudHJ5KSB7XG4gICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb24gfHwge307XG4gICAgcmVjb3JkLnR5cGUgPSBcIm5vcm1hbFwiO1xuICAgIGRlbGV0ZSByZWNvcmQuYXJnO1xuICAgIGVudHJ5LmNvbXBsZXRpb24gPSByZWNvcmQ7XG4gIH1cblxuICBmdW5jdGlvbiBDb250ZXh0KHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gVGhlIHJvb3QgZW50cnkgb2JqZWN0IChlZmZlY3RpdmVseSBhIHRyeSBzdGF0ZW1lbnQgd2l0aG91dCBhIGNhdGNoXG4gICAgLy8gb3IgYSBmaW5hbGx5IGJsb2NrKSBnaXZlcyB1cyBhIHBsYWNlIHRvIHN0b3JlIHZhbHVlcyB0aHJvd24gZnJvbVxuICAgIC8vIGxvY2F0aW9ucyB3aGVyZSB0aGVyZSBpcyBubyBlbmNsb3NpbmcgdHJ5IHN0YXRlbWVudC5cbiAgICB0aGlzLnRyeUVudHJpZXMgPSBbeyB0cnlMb2M6IFwicm9vdFwiIH1dO1xuICAgIHRyeUxvY3NMaXN0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKTtcbiAgICB0aGlzLnJlc2V0KHRydWUpO1xuICB9XG5cbiAgZXhwb3J0cy5rZXlzID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICB9XG4gICAga2V5cy5yZXZlcnNlKCk7XG5cbiAgICAvLyBSYXRoZXIgdGhhbiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggYSBuZXh0IG1ldGhvZCwgd2Uga2VlcFxuICAgIC8vIHRoaW5ncyBzaW1wbGUgYW5kIHJldHVybiB0aGUgbmV4dCBmdW5jdGlvbiBpdHNlbGYuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICB3aGlsZSAoa2V5cy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXMucG9wKCk7XG4gICAgICAgIGlmIChrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgbmV4dC52YWx1ZSA9IGtleTtcbiAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUbyBhdm9pZCBjcmVhdGluZyBhbiBhZGRpdGlvbmFsIG9iamVjdCwgd2UganVzdCBoYW5nIHRoZSAudmFsdWVcbiAgICAgIC8vIGFuZCAuZG9uZSBwcm9wZXJ0aWVzIG9mZiB0aGUgbmV4dCBmdW5jdGlvbiBvYmplY3QgaXRzZWxmLiBUaGlzXG4gICAgICAvLyBhbHNvIGVuc3VyZXMgdGhhdCB0aGUgbWluaWZpZXIgd2lsbCBub3QgYW5vbnltaXplIHRoZSBmdW5jdGlvbi5cbiAgICAgIG5leHQuZG9uZSA9IHRydWU7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIHZhbHVlcyhpdGVyYWJsZSkge1xuICAgIGlmIChpdGVyYWJsZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gaXRlcmFibGVbaXRlcmF0b3JTeW1ib2xdO1xuICAgICAgaWYgKGl0ZXJhdG9yTWV0aG9kKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvck1ldGhvZC5jYWxsKGl0ZXJhYmxlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBpdGVyYWJsZS5uZXh0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhYmxlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzTmFOKGl0ZXJhYmxlLmxlbmd0aCkpIHtcbiAgICAgICAgdmFyIGkgPSAtMSwgbmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IGl0ZXJhYmxlLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZXJhYmxlLCBpKSkge1xuICAgICAgICAgICAgICBuZXh0LnZhbHVlID0gaXRlcmFibGVbaV07XG4gICAgICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXh0LnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG5leHQuZG9uZSA9IHRydWU7XG5cbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gbmV4dC5uZXh0ID0gbmV4dDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gYW4gaXRlcmF0b3Igd2l0aCBubyB2YWx1ZXMuXG4gICAgcmV0dXJuIHsgbmV4dDogZG9uZVJlc3VsdCB9O1xuICB9XG4gIGV4cG9ydHMudmFsdWVzID0gdmFsdWVzO1xuXG4gIGZ1bmN0aW9uIGRvbmVSZXN1bHQoKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICB9XG5cbiAgQ29udGV4dC5wcm90b3R5cGUgPSB7XG4gICAgY29uc3RydWN0b3I6IENvbnRleHQsXG5cbiAgICByZXNldDogZnVuY3Rpb24oc2tpcFRlbXBSZXNldCkge1xuICAgICAgdGhpcy5wcmV2ID0gMDtcbiAgICAgIHRoaXMubmV4dCA9IDA7XG4gICAgICAvLyBSZXNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgIHRoaXMuc2VudCA9IHRoaXMuX3NlbnQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpO1xuXG4gICAgICBpZiAoIXNraXBUZW1wUmVzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzKSB7XG4gICAgICAgICAgLy8gTm90IHN1cmUgYWJvdXQgdGhlIG9wdGltYWwgb3JkZXIgb2YgdGhlc2UgY29uZGl0aW9uczpcbiAgICAgICAgICBpZiAobmFtZS5jaGFyQXQoMCkgPT09IFwidFwiICYmXG4gICAgICAgICAgICAgIGhhc093bi5jYWxsKHRoaXMsIG5hbWUpICYmXG4gICAgICAgICAgICAgICFpc05hTigrbmFtZS5zbGljZSgxKSkpIHtcbiAgICAgICAgICAgIHRoaXNbbmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIHN0b3A6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcblxuICAgICAgdmFyIHJvb3RFbnRyeSA9IHRoaXMudHJ5RW50cmllc1swXTtcbiAgICAgIHZhciByb290UmVjb3JkID0gcm9vdEVudHJ5LmNvbXBsZXRpb247XG4gICAgICBpZiAocm9vdFJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcm9vdFJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJ2YWw7XG4gICAgfSxcblxuICAgIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbihleGNlcHRpb24pIHtcbiAgICAgIGlmICh0aGlzLmRvbmUpIHtcbiAgICAgICAgdGhyb3cgZXhjZXB0aW9uO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICBmdW5jdGlvbiBoYW5kbGUobG9jLCBjYXVnaHQpIHtcbiAgICAgICAgcmVjb3JkLnR5cGUgPSBcInRocm93XCI7XG4gICAgICAgIHJlY29yZC5hcmcgPSBleGNlcHRpb247XG4gICAgICAgIGNvbnRleHQubmV4dCA9IGxvYztcblxuICAgICAgICBpZiAoY2F1Z2h0KSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGRpc3BhdGNoZWQgZXhjZXB0aW9uIHdhcyBjYXVnaHQgYnkgYSBjYXRjaCBibG9jayxcbiAgICAgICAgICAvLyB0aGVuIGxldCB0aGF0IGNhdGNoIGJsb2NrIGhhbmRsZSB0aGUgZXhjZXB0aW9uIG5vcm1hbGx5LlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gISEgY2F1Z2h0O1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gXCJyb290XCIpIHtcbiAgICAgICAgICAvLyBFeGNlcHRpb24gdGhyb3duIG91dHNpZGUgb2YgYW55IHRyeSBibG9jayB0aGF0IGNvdWxkIGhhbmRsZVxuICAgICAgICAgIC8vIGl0LCBzbyBzZXQgdGhlIGNvbXBsZXRpb24gdmFsdWUgb2YgdGhlIGVudGlyZSBmdW5jdGlvbiB0b1xuICAgICAgICAgIC8vIHRocm93IHRoZSBleGNlcHRpb24uXG4gICAgICAgICAgcmV0dXJuIGhhbmRsZShcImVuZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7XG4gICAgICAgICAgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksIFwiY2F0Y2hMb2NcIik7XG4gICAgICAgICAgdmFyIGhhc0ZpbmFsbHkgPSBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpO1xuXG4gICAgICAgICAgaWYgKGhhc0NhdGNoICYmIGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNDYXRjaCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBhYnJ1cHQ6IGZ1bmN0aW9uKHR5cGUsIGFyZykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2ICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpICYmXG4gICAgICAgICAgICB0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgdmFyIGZpbmFsbHlFbnRyeSA9IGVudHJ5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkgJiZcbiAgICAgICAgICAodHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgIHR5cGUgPT09IFwiY29udGludWVcIikgJiZcbiAgICAgICAgICBmaW5hbGx5RW50cnkudHJ5TG9jIDw9IGFyZyAmJlxuICAgICAgICAgIGFyZyA8PSBmaW5hbGx5RW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAvLyBJZ25vcmUgdGhlIGZpbmFsbHkgZW50cnkgaWYgY29udHJvbCBpcyBub3QganVtcGluZyB0byBhXG4gICAgICAgIC8vIGxvY2F0aW9uIG91dHNpZGUgdGhlIHRyeS9jYXRjaCBibG9jay5cbiAgICAgICAgZmluYWxseUVudHJ5ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlY29yZCA9IGZpbmFsbHlFbnRyeSA/IGZpbmFsbHlFbnRyeS5jb21wbGV0aW9uIDoge307XG4gICAgICByZWNvcmQudHlwZSA9IHR5cGU7XG4gICAgICByZWNvcmQuYXJnID0gYXJnO1xuXG4gICAgICBpZiAoZmluYWxseUVudHJ5KSB7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIHRoaXMubmV4dCA9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jO1xuICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuY29tcGxldGUocmVjb3JkKTtcbiAgICB9LFxuXG4gICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlY29yZCwgYWZ0ZXJMb2MpIHtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgcmVjb3JkLnR5cGUgPT09IFwiY29udGludWVcIikge1xuICAgICAgICB0aGlzLm5leHQgPSByZWNvcmQuYXJnO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICB0aGlzLnJ2YWwgPSB0aGlzLmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgdGhpcy5uZXh0ID0gXCJlbmRcIjtcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIgJiYgYWZ0ZXJMb2MpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gYWZ0ZXJMb2M7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH0sXG5cbiAgICBmaW5pc2g6IGZ1bmN0aW9uKGZpbmFsbHlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkuZmluYWxseUxvYyA9PT0gZmluYWxseUxvYykge1xuICAgICAgICAgIHRoaXMuY29tcGxldGUoZW50cnkuY29tcGxldGlvbiwgZW50cnkuYWZ0ZXJMb2MpO1xuICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIFwiY2F0Y2hcIjogZnVuY3Rpb24odHJ5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gdHJ5TG9jKSB7XG4gICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIHZhciB0aHJvd24gPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0aHJvd247XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGNvbnRleHQuY2F0Y2ggbWV0aG9kIG11c3Qgb25seSBiZSBjYWxsZWQgd2l0aCBhIGxvY2F0aW9uXG4gICAgICAvLyBhcmd1bWVudCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEga25vd24gY2F0Y2ggYmxvY2suXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIik7XG4gICAgfSxcblxuICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uKGl0ZXJhYmxlLCByZXN1bHROYW1lLCBuZXh0TG9jKSB7XG4gICAgICB0aGlzLmRlbGVnYXRlID0ge1xuICAgICAgICBpdGVyYXRvcjogdmFsdWVzKGl0ZXJhYmxlKSxcbiAgICAgICAgcmVzdWx0TmFtZTogcmVzdWx0TmFtZSxcbiAgICAgICAgbmV4dExvYzogbmV4dExvY1xuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAvLyBEZWxpYmVyYXRlbHkgZm9yZ2V0IHRoZSBsYXN0IHNlbnQgdmFsdWUgc28gdGhhdCB3ZSBkb24ndFxuICAgICAgICAvLyBhY2NpZGVudGFsbHkgcGFzcyBpdCBvbiB0byB0aGUgZGVsZWdhdGUuXG4gICAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG4gIH07XG5cbiAgLy8gUmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoaXMgc2NyaXB0IGlzIGV4ZWN1dGluZyBhcyBhIENvbW1vbkpTIG1vZHVsZVxuICAvLyBvciBub3QsIHJldHVybiB0aGUgcnVudGltZSBvYmplY3Qgc28gdGhhdCB3ZSBjYW4gZGVjbGFyZSB0aGUgdmFyaWFibGVcbiAgLy8gcmVnZW5lcmF0b3JSdW50aW1lIGluIHRoZSBvdXRlciBzY29wZSwgd2hpY2ggYWxsb3dzIHRoaXMgbW9kdWxlIHRvIGJlXG4gIC8vIGluamVjdGVkIGVhc2lseSBieSBgYmluL3JlZ2VuZXJhdG9yIC0taW5jbHVkZS1ydW50aW1lIHNjcmlwdC5qc2AuXG4gIHJldHVybiBleHBvcnRzO1xuXG59KFxuICAvLyBJZiB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGUsIHVzZSBtb2R1bGUuZXhwb3J0c1xuICAvLyBhcyB0aGUgcmVnZW5lcmF0b3JSdW50aW1lIG5hbWVzcGFjZS4gT3RoZXJ3aXNlIGNyZWF0ZSBhIG5ldyBlbXB0eVxuICAvLyBvYmplY3QuIEVpdGhlciB3YXksIHRoZSByZXN1bHRpbmcgb2JqZWN0IHdpbGwgYmUgdXNlZCB0byBpbml0aWFsaXplXG4gIC8vIHRoZSByZWdlbmVyYXRvclJ1bnRpbWUgdmFyaWFibGUgYXQgdGhlIHRvcCBvZiB0aGlzIGZpbGUuXG4gIHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgPyBtb2R1bGUuZXhwb3J0cyA6IHt9XG4pKTtcblxudHJ5IHtcbiAgcmVnZW5lcmF0b3JSdW50aW1lID0gcnVudGltZTtcbn0gY2F0Y2ggKGFjY2lkZW50YWxTdHJpY3RNb2RlKSB7XG4gIC8vIFRoaXMgbW9kdWxlIHNob3VsZCBub3QgYmUgcnVubmluZyBpbiBzdHJpY3QgbW9kZSwgc28gdGhlIGFib3ZlXG4gIC8vIGFzc2lnbm1lbnQgc2hvdWxkIGFsd2F5cyB3b3JrIHVubGVzcyBzb21ldGhpbmcgaXMgbWlzY29uZmlndXJlZC4gSnVzdFxuICAvLyBpbiBjYXNlIHJ1bnRpbWUuanMgYWNjaWRlbnRhbGx5IHJ1bnMgaW4gc3RyaWN0IG1vZGUsIHdlIGNhbiBlc2NhcGVcbiAgLy8gc3RyaWN0IG1vZGUgdXNpbmcgYSBnbG9iYWwgRnVuY3Rpb24gY2FsbC4gVGhpcyBjb3VsZCBjb25jZWl2YWJseSBmYWlsXG4gIC8vIGlmIGEgQ29udGVudCBTZWN1cml0eSBQb2xpY3kgZm9yYmlkcyB1c2luZyBGdW5jdGlvbiwgYnV0IGluIHRoYXQgY2FzZVxuICAvLyB0aGUgcHJvcGVyIHNvbHV0aW9uIGlzIHRvIGZpeCB0aGUgYWNjaWRlbnRhbCBzdHJpY3QgbW9kZSBwcm9ibGVtLiBJZlxuICAvLyB5b3UndmUgbWlzY29uZmlndXJlZCB5b3VyIGJ1bmRsZXIgdG8gZm9yY2Ugc3RyaWN0IG1vZGUgYW5kIGFwcGxpZWQgYVxuICAvLyBDU1AgdG8gZm9yYmlkIEZ1bmN0aW9uLCBhbmQgeW91J3JlIG5vdCB3aWxsaW5nIHRvIGZpeCBlaXRoZXIgb2YgdGhvc2VcbiAgLy8gcHJvYmxlbXMsIHBsZWFzZSBkZXRhaWwgeW91ciB1bmlxdWUgcHJlZGljYW1lbnQgaW4gYSBHaXRIdWIgaXNzdWUuXG4gIEZ1bmN0aW9uKFwiclwiLCBcInJlZ2VuZXJhdG9yUnVudGltZSA9IHJcIikocnVudGltZSk7XG59XG4iLCJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTQtMSEuLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzIHx8IHt9OyIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVRfUlVMRV9JTVBPUlRfMF9fXyBmcm9tIFwiLSEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS00LTEhLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uL3N0eWxlLmNzc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18uaShfX19DU1NfTE9BREVSX0FUX1JVTEVfSU1QT1JUXzBfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiI215Q2FudmFzIHtcXG4gICAgYm9yZGVyOiAzcHggc29saWQgdmFyKC0tbWFpbi1jb2xvcik7XFxuICAgIGJvcmRlcjogM3B4IHNvbGlkIHZhcigtLW1haW4tY29sb3IpO1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgaGVpZ2h0OiAzMDBweDtcXG59XFxuXFxuZGl2LmFjdGlvbi1jb250cm9scyB7XFxuICAgIHdpZHRoOiAxMDAlO1xcbn1cXG5kaXYuYWN0aW9uLWNvbnRyb2xzID4gYnV0dG9uIHtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XFxufVxcblxcbmRpdi5zcGVlZC1jb250cm9scyB7XFxufVxcblxcbkBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDIyOHB4KSB7XFxuICAgIGRpdi5hY3Rpb24tY29udHJvbHMgPiBidXR0b24ge1xcbiAgICAgICAgd2lkdGg6IGF1dG87XFxuICAgIH1cXG59XFxuXFxuQG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNDc1cHgpIHtcXG4gICAgZGl2LmFjdGlvbi1jb250cm9scyB7XFxuICAgICAgICB3aWR0aDogNTAlO1xcbiAgICAgICAgZmxvYXQ6IGxlZnQ7XFxuICAgIH1cXG4gICAgZGl2LmFjdGlvbi1jb250cm9scyA+IGJ1dHRvbiB7XFxuICAgICAgICB3aWR0aDogYXV0bztcXG4gICAgICAgIG1hcmdpbi1ib3R0b206IDA7XFxuICAgIH1cXG5cXG4gICAgZGl2LnNwZWVkLWNvbnRyb2xzIHtcXG4gICAgICAgIHdpZHRoOiA1MCU7XFxuICAgICAgICBmbG9hdDogbGVmdDtcXG4gICAgfVxcbn1cXG5cXG5AbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA2MDZweCkge1xcbiAgICAjbXlDYW52YXMge1xcbiAgICAgICAgd2lkdGg6IDYwMHB4O1xcbiAgICB9XFxuXFxuICAgIGRpdi5hY3Rpb24tY29udHJvbHMge1xcbiAgICAgICAgd2lkdGg6IDMwMHB4O1xcbiAgICAgICAgZmxvYXQ6IGxlZnQ7XFxuICAgIH1cXG5cXG4gICAgZGl2LnNwZWVkLWNvbnRyb2xzIHtcXG4gICAgICAgIHdpZHRoOiAzMDBweDtcXG4gICAgICAgIGZsb2F0OiBsZWZ0O1xcbiAgICB9XFxufVxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy90b3dlci1vZi1oYW5vaS9zdHlsZS5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBRUE7SUFDSSxtQ0FBbUM7SUFBbkMsbUNBQW1DO0lBQ25DLFdBQVc7SUFDWCxhQUFhO0FBQ2pCOztBQUVBO0lBQ0ksV0FBVztBQUNmO0FBQ0E7SUFDSSxXQUFXO0lBQ1gsbUJBQW1CO0FBQ3ZCOztBQUVBO0FBQ0E7O0FBRUE7SUFDSTtRQUNJLFdBQVc7SUFDZjtBQUNKOztBQUVBO0lBQ0k7UUFDSSxVQUFVO1FBQ1YsV0FBVztJQUNmO0lBQ0E7UUFDSSxXQUFXO1FBQ1gsZ0JBQWdCO0lBQ3BCOztJQUVBO1FBQ0ksVUFBVTtRQUNWLFdBQVc7SUFDZjtBQUNKOztBQUVBO0lBQ0k7UUFDSSxZQUFZO0lBQ2hCOztJQUVBO1FBQ0ksWUFBWTtRQUNaLFdBQVc7SUFDZjs7SUFFQTtRQUNJLFlBQVk7UUFDWixXQUFXO0lBQ2Y7QUFDSlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCJAaW1wb3J0IFxcXCIuLi9zdHlsZS5jc3NcXFwiO1xcblxcbiNteUNhbnZhcyB7XFxuICAgIGJvcmRlcjogM3B4IHNvbGlkIHZhcigtLW1haW4tY29sb3IpO1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgaGVpZ2h0OiAzMDBweDtcXG59XFxuXFxuZGl2LmFjdGlvbi1jb250cm9scyB7XFxuICAgIHdpZHRoOiAxMDAlO1xcbn1cXG5kaXYuYWN0aW9uLWNvbnRyb2xzID4gYnV0dG9uIHtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XFxufVxcblxcbmRpdi5zcGVlZC1jb250cm9scyB7XFxufVxcblxcbkBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDIyOHB4KSB7XFxuICAgIGRpdi5hY3Rpb24tY29udHJvbHMgPiBidXR0b24ge1xcbiAgICAgICAgd2lkdGg6IGF1dG87XFxuICAgIH1cXG59XFxuXFxuQG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNDc1cHgpIHtcXG4gICAgZGl2LmFjdGlvbi1jb250cm9scyB7XFxuICAgICAgICB3aWR0aDogNTAlO1xcbiAgICAgICAgZmxvYXQ6IGxlZnQ7XFxuICAgIH1cXG4gICAgZGl2LmFjdGlvbi1jb250cm9scyA+IGJ1dHRvbiB7XFxuICAgICAgICB3aWR0aDogYXV0bztcXG4gICAgICAgIG1hcmdpbi1ib3R0b206IDA7XFxuICAgIH1cXG5cXG4gICAgZGl2LnNwZWVkLWNvbnRyb2xzIHtcXG4gICAgICAgIHdpZHRoOiA1MCU7XFxuICAgICAgICBmbG9hdDogbGVmdDtcXG4gICAgfVxcbn1cXG5cXG5AbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA2MDZweCkge1xcbiAgICAjbXlDYW52YXMge1xcbiAgICAgICAgd2lkdGg6IDYwMHB4O1xcbiAgICB9XFxuXFxuICAgIGRpdi5hY3Rpb24tY29udHJvbHMge1xcbiAgICAgICAgd2lkdGg6IDMwMHB4O1xcbiAgICAgICAgZmxvYXQ6IGxlZnQ7XFxuICAgIH1cXG5cXG4gICAgZGl2LnNwZWVkLWNvbnRyb2xzIHtcXG4gICAgICAgIHdpZHRoOiAzMDBweDtcXG4gICAgICAgIGZsb2F0OiBsZWZ0O1xcbiAgICB9XFxufVxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCJjbGFzcyBTdGF0ZSB7XG4gICAgY29uc3RydWN0b3IobW92ZXIsIHNwZWVkKSB7XG4gICAgICAgIHRoaXMubW92ZXIgPSBtb3ZlcjtcbiAgICAgICAgdGhpcy5zcGVlZCA9IHNwZWVkO1xuICAgICAgICB0aGlzLmZpbmlzaGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgbW92ZShkZWx0YSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignT3ZlcnJpZGUgdGhpcyBtZXRob2QnKTtcbiAgICB9XG5cbiAgICBuZXh0KCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaW5pc2hlZFN0YXRlIGV4dGVuZHMgU3RhdGUge1xuICAgIGNvbnN0cnVjdG9yKG1vdmVyLCBzcGVlZCkge1xuICAgICAgICBzdXBlcihtb3Zlciwgc3BlZWQpO1xuICAgICAgICB0aGlzLmZpbmlzaGVkID0gdHJ1ZTtcbiAgICB9XG59XG5cbmNsYXNzIE1vdmVEb3duU3RhdGUgZXh0ZW5kcyBTdGF0ZSB7XG4gICAgY29uc3RydWN0b3IobW92ZXIsIHNwZWVkKSB7XG4gICAgICAgIHN1cGVyKG1vdmVyLCBzcGVlZCk7XG4gICAgICAgIGlmICh0aGlzLm1vdmVyLnRvUGVnLmRpc2tzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMueVBvc1RhcmdldCA9IHRoaXMubW92ZXIudG9QZWcuZGlza3NbdGhpcy5tb3Zlci50b1BlZy5kaXNrcy5sZW5ndGggLSAxXS55UG9zIC0gMjA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnlQb3NUYXJnZXQgPSAyMzA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBtb3ZlKGRlbHRhKSB7XG4gICAgICAgIGlmICh0aGlzLm1vdmVyLmRpc2sueVBvcyA8IHRoaXMueVBvc1RhcmdldCkge1xuICAgICAgICAgICAgdGhpcy5tb3Zlci5kaXNrLnlQb3MgKz0gdGhpcy5zcGVlZCAqIGRlbHRhO1xuICAgICAgICAgICAgaWYgKHRoaXMubW92ZXIuZGlzay55UG9zID49IHRoaXMueVBvc1RhcmdldCkge1xuICAgICAgICAgICAgICAgIHRoaXMubW92ZXIuZGlzay55UG9zID0gdGhpcy55UG9zVGFyZ2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgbmV4dCgpIHtcbiAgICAgICAgaWYgKHRoaXMubW92ZXIuZGlzay55UG9zID09PSB0aGlzLnlQb3NUYXJnZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmluaXNoZWRTdGF0ZSh0aGlzLm1vdmVyLCB0aGlzLnNwZWVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5cbmNsYXNzIE1vdmVBY3Jvc3NTdGF0ZSBleHRlbmRzIFN0YXRlIHtcbiAgICBtb3ZlKGRlbHRhKSB7XG4gICAgICAgIGlmICh0aGlzLm1vdmVyLmRpc2sueFBvcyA8IHRoaXMubW92ZXIudG9QZWcueFBvcykge1xuICAgICAgICAgICAgdGhpcy5tb3Zlci5kaXNrLnhQb3MgKz0gdGhpcy5zcGVlZCAqIGRlbHRhO1xuICAgICAgICAgICAgaWYgKHRoaXMubW92ZXIuZGlzay54UG9zID4gdGhpcy5tb3Zlci50b1BlZy54UG9zKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3Zlci5kaXNrLnhQb3MgPSB0aGlzLm1vdmVyLnRvUGVnLnhQb3M7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5tb3Zlci5kaXNrLnhQb3MgPiB0aGlzLm1vdmVyLnRvUGVnLnhQb3MpIHtcbiAgICAgICAgICAgIHRoaXMubW92ZXIuZGlzay54UG9zIC09IHRoaXMuc3BlZWQgKiBkZWx0YTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1vdmVyLmRpc2sueFBvcyA8IHRoaXMubW92ZXIudG9QZWcueFBvcykge1xuICAgICAgICAgICAgICAgIHRoaXMubW92ZXIuZGlzay54UG9zID0gdGhpcy5tb3Zlci50b1BlZy54UG9zO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgbmV4dCgpIHtcbiAgICAgICAgaWYgKHRoaXMubW92ZXIuZGlzay54UG9zID09PSB0aGlzLm1vdmVyLnRvUGVnLnhQb3MpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTW92ZURvd25TdGF0ZSh0aGlzLm1vdmVyLCB0aGlzLnNwZWVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5cbmNsYXNzIE1vdmVVcFN0YXRlIGV4dGVuZHMgU3RhdGUge1xuICAgIG1vdmUoZGVsdGEpIHtcbiAgICAgICAgdGhpcy5tb3Zlci5kaXNrLnlQb3MgLT0gdGhpcy5zcGVlZCAqIGRlbHRhO1xuICAgIH1cblxuICAgIG5leHQoKSB7XG4gICAgICAgIGlmICh0aGlzLm1vdmVyLmRpc2sueVBvcyA8PSA1MCkge1xuICAgICAgICAgICAgdGhpcy5tb3Zlci5kaXNrLnlQb3MgPSA1MDtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTW92ZUFjcm9zc1N0YXRlKHRoaXMubW92ZXIsIHRoaXMuc3BlZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IEluaXRpYWxTdGF0ZSA9IE1vdmVVcFN0YXRlO1xuIiwiLyoqXG4gKiBUaGlzIGNsYXNzIHJlcHJlc2VudHMgYSBkaXNrIHVzZWQgaW4gdGhlIFRvd2VyIG9mIEhhbm9pIHB1enpsZS5cbiAqL1xuZXhwb3J0IGNsYXNzIERpc2sge1xuICAgIGNvbnN0cnVjdG9yKHhQb3NJbml0aWFsLCB5UG9zSW5pdGlhbCwgd2lkdGgsIGNvbG9yKSB7XG4gICAgICAgIHRoaXMueFBvcyA9IHhQb3NJbml0aWFsO1xuICAgICAgICB0aGlzLnlQb3MgPSB5UG9zSW5pdGlhbDtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmNvbG9yID0gY29sb3JcbiAgICB9XG5cbiAgICBkcmF3KGN0eCkge1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5saW5lQ2FwID0gJ3JvdW5kJztcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5jb2xvcjtcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDE1O1xuICAgICAgICBjdHgubW92ZVRvKHRoaXMueFBvcyAtICg1ICogdGhpcy53aWR0aCksIHRoaXMueVBvcyk7XG4gICAgICAgIGN0eC5saW5lVG8odGhpcy54UG9zICsgKDUgKiB0aGlzLndpZHRoKSwgdGhpcy55UG9zKTtcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgIH1cbn1cbiIsIi8qKlxuICogVGhpcyBjbGFzcyByZXByZXNlbnRzIGEgcGVnIHVzZWQgaW4gdGhlIFRvd2VyIG9mIEhhbm9pIHB1enpsZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFBlZyB7XG4gICAgY29uc3RydWN0b3IobmFtZSwgeFBvc0luaXRpYWwsIHlQb3NJbml0aWFsLCBkaXNrcykge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnhQb3MgPSB4UG9zSW5pdGlhbDtcbiAgICAgICAgdGhpcy55UG9zID0geVBvc0luaXRpYWw7XG4gICAgICAgIHRoaXMuZGlza3MgPSBkaXNrcztcbiAgICAgICAgdGhpcy53aWR0aCA9IDQwO1xuICAgICAgICB0aGlzLmhlaWdodCA9IDEzMDtcbiAgICB9XG5cbiAgICBwdXNoRGlzayhkaXNrKSB7XG4gICAgICAgIGlmICh0aGlzLmRpc2tzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGRpc2sueVBvcyA9IHRoaXMuZGlza3NbdGhpcy5kaXNrcy5sZW5ndGggLSAxXS55UG9zIC0gMjA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkaXNrLnlQb3MgPSAyMzA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaXNrcy5wdXNoKGRpc2spO1xuICAgICAgICBkaXNrLnhQb3MgPSB0aGlzLnhQb3M7XG4gICAgfVxuXG4gICAgZHJhdyhjdHgpIHtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHgubGluZUNhcCA9ICdzcXVhcmUnO1xuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnYnJvd24nO1xuICAgICAgICBjdHgubGluZVdpZHRoID0gNTtcbiAgICAgICAgY3R4Lm1vdmVUbyh0aGlzLnhQb3MsIHRoaXMueVBvcyk7XG4gICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgY3R4Lm1vdmVUbyh0aGlzLnhQb3MsIHRoaXMueVBvcyk7XG4gICAgICAgIGN0eC5saW5lVG8odGhpcy54UG9zIC0gdGhpcy53aWR0aCwgdGhpcy55UG9zKTtcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICBjdHgubW92ZVRvKHRoaXMueFBvcywgdGhpcy55UG9zKTtcbiAgICAgICAgY3R4LmxpbmVUbyh0aGlzLnhQb3MgKyB0aGlzLndpZHRoLCB0aGlzLnlQb3MpO1xuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgIGN0eC5tb3ZlVG8odGhpcy54UG9zLCB0aGlzLnlQb3MpO1xuICAgICAgICBjdHgubGluZVRvKHRoaXMueFBvcywgdGhpcy55UG9zIC0gdGhpcy5oZWlnaHQpO1xuICAgICAgICBjdHguc3Ryb2tlKCk7XG5cbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJ2JsYWNrJztcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDE7XG4gICAgICAgIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICAgICAgY3R4LmZvbnQgPSAnMjRweCBzYW5zLXNlcmlmJztcbiAgICAgICAgY3R4LmZpbGxUZXh0KHRoaXMubmFtZSwgdGhpcy54UG9zLCB0aGlzLnlQb3MgKyAzNSk7XG5cbiAgICAgICAgdGhpcy5kaXNrcy5mb3JFYWNoKChkaXNrKSA9PiB7XG4gICAgICAgICAgICBkaXNrLmRyYXcoY3R4KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBZaWVsZHMgdGFza3MgdGhhdCB3aWxsIHNvbHZlIHRoZSB0b3dlciB3aGVuIGV4ZWN1dGVkIHNlcXVlbnRpYWxseS5cbiAqXG4gKiBAcGFyYW0gbnVtRGlza3MgVGhlIG51bWJlciBvZiBkaXNrcyB0aGUgcHV6emxlIGNvbnRhaW5zXG4gKiBAcGFyYW0gc291cmNlUGVnIFRoZSBwZWcgd2Ugd2FudCB0byBtb3ZlIGRpc2tzIGZyb21cbiAqIEBwYXJhbSB0YXJnZXRQZWcgVGhlIHBlZyB3ZSB3YW50IHRvIG1vdmUgZGlza3MgdG9cbiAqIEBwYXJhbSBzcGFyZVBlZyBUaGUgcGVnIHdlIGNhbiB1c2UgdG8gbW92ZSBwZWdzIHRvIHRlbXBvcmFyaWx5XG4gKi9cbmV4cG9ydCBjb25zdCBzb2x2ZSA9IGZ1bmN0aW9uICoobnVtRGlza3MsIHNvdXJjZVBlZywgdGFyZ2V0UGVnLCBzcGFyZVBlZykge1xuICAgIGlmIChudW1EaXNrcyA+IDApIHtcbiAgICAgICAgeWllbGQqIHNvbHZlKG51bURpc2tzIC0gMSwgc291cmNlUGVnLCBzcGFyZVBlZywgdGFyZ2V0UGVnKTtcbiAgICAgICAgeWllbGQgeydhY3Rpb24nOiAnbW92ZScsXG4gICAgICAgICAgICAnc291cmNlJzogc291cmNlUGVnLFxuICAgICAgICAgICAgJ3RhcmdldCc6IHRhcmdldFBlZ307XG4gICAgICAgIHlpZWxkKiBzb2x2ZShudW1EaXNrcyAtIDEsIHNwYXJlUGVnLCB0YXJnZXRQZWcsIHNvdXJjZVBlZyk7XG4gICAgfVxufTtcbiIsImltcG9ydCAncmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lJztcbmltcG9ydCB7RmluaXNoZWRTdGF0ZSwgSW5pdGlhbFN0YXRlfSBmcm9tICcuL2FuaW1hdGlvblN0YXRlJztcbmltcG9ydCB7RGlza30gZnJvbSAnLi9kaXNrJztcbmltcG9ydCB7UGVnfSBmcm9tICcuL3BlZyc7XG5pbXBvcnQge3NvbHZlfSBmcm9tICcuL2FsZ29yaXRobSc7XG5pbXBvcnQge3N0eWxlc30gZnJvbSAnLi9zdHlsZS5jc3MnOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgY3VycmVudEFuaW1hdGlvblRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3VycmVudEFuaW1hdGlvblRleHQnKTtcbiAgICBsZXQgYW5pbWF0ZSA9IGZhbHNlO1xuICAgIGxldCBjYW5jZWwgPSBmYWxzZTtcbiAgICBsZXQgc3BlZWQgPSAxO1xuICAgIGxldCBwZWdzID0gW107XG4gICAgbGV0IGRpc2tNb3ZlciA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyB0aGUgc2NlbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZHJhd0FkZGl0aW9uYWwgQW4gb3B0aW9uYWwgZnVuY3Rpb24gdGhhdCBkcmF3cyBhbnl0aGluZyBleHRyYVxuICAgICAqIGFmdGVyIHdlJ3ZlIGRyYXduIGV2ZXJ5dGhpbmcgZWxzZVxuICAgICAqL1xuICAgIGNvbnN0IGRyYXdTY2VuZSA9IGZ1bmN0aW9uICh0aW1lU3RhbXAsIGRyYXdBZGRpdGlvbmFsKSB7XG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdteUNhbnZhcycpO1xuICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgICAgICAvLyBDbGVhciB0aGUgc2NlbmVcbiAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuXG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCB0aGUgcGVncyBhbmQgZHJhdyB0aGVtXG4gICAgICAgIC8vIEVhY2ggcGVnJ3MgZHJhdyBmdW5jdGlvbiBkcmF3cyB0aGUgcGVncyBhbHNvXG4gICAgICAgIHBlZ3MuZm9yRWFjaChmdW5jdGlvbiAocGVnKSB7XG4gICAgICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICAgICAgcGVnLmRyYXcoY3R4KTtcbiAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0eXBlb2YgZHJhd0FkZGl0aW9uYWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgICBkcmF3QWRkaXRpb25hbChjdHgpO1xuICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjbGFzcyBEaXNrTW92ZXIge1xuICAgICAgICBjb25zdHJ1Y3Rvcihmcm9tUGVnLCB0b1BlZykge1xuICAgICAgICAgICAgdGhpcy5zcGVlZE11bHRpcGxpZXIgPSA1O1xuICAgICAgICAgICAgdGhpcy5mcm9tUGVnID0gZnJvbVBlZztcbiAgICAgICAgICAgIHRoaXMudG9QZWcgPSB0b1BlZztcbiAgICAgICAgICAgIHRoaXMubGFzdEZyYW1lID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUgPSBuZXcgSW5pdGlhbFN0YXRlKHRoaXMsIHNwZWVkICogdGhpcy5zcGVlZE11bHRpcGxpZXIpO1xuICAgICAgICAgICAgdGhpcy5kaXNrID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuZmluaXNoZWRDYWxsYmFjayA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgc3BlZWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hbmltYXRpb25TdGF0ZS5zcGVlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldCBzcGVlZCh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zcGVlZCA9IHZhbHVlICogdGhpcy5zcGVlZE11bHRpcGxpZXI7XG4gICAgICAgIH1cblxuICAgICAgICBtb3ZlKGZpbmlzaGVkQ2FsbGJhY2spIHtcbiAgICAgICAgICAgIHRoaXMuZmluaXNoZWRDYWxsYmFjayA9IGZpbmlzaGVkQ2FsbGJhY2s7XG4gICAgICAgICAgICB0aGlzLmRpc2sgPSB0aGlzLmZyb21QZWcuZGlza3MucG9wKCk7XG4gICAgICAgICAgICBpZiAoIWNhbmNlbCkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRBbmltYXRpb25UZXh0LnJlcGxhY2VDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnTW92aW5nICcgKyB0aGlzLmRpc2suY29sb3IgKyAnIGRpc2sgZnJvbSAnICsgdGhpcy5mcm9tUGVnLm5hbWUgKyAnIHRvICcgKyB0aGlzLnRvUGVnLm5hbWUpLCBjdXJyZW50QW5pbWF0aW9uVGV4dC5sYXN0Q2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYW5pbWF0ZSA9IHRydWU7XG4gICAgICAgICAgICBpZiAoIWNhbmNlbCkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKHRpbWVzdGFtcCkgPT4gdGhpcy51cGRhdGUodGltZXN0YW1wKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjYW5jZWwoKSB7XG4gICAgICAgICAgICBhbmltYXRlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlID0gbmV3IEZpbmlzaGVkU3RhdGUodGhpcy5tb3Zlciwgc3BlZWQgKiA1KTtcbiAgICAgICAgICAgIGlmICh0aGlzLmRpc2spIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRvUGVnLnB1c2hEaXNrKHRoaXMuZGlzayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB1cGRhdGUodGltZXN0YW1wKSB7XG4gICAgICAgICAgICBsZXQgZGVsdGEgPSAwO1xuICAgICAgICAgICAgaWYgKHRoaXMubGFzdEZyYW1lICYmIHRpbWVzdGFtcCkge1xuICAgICAgICAgICAgICAgIGRlbHRhID0gKHRpbWVzdGFtcCAtIHRoaXMubGFzdEZyYW1lKSAvIDEwMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5tb3ZlKGRlbHRhKTtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUgPSB0aGlzLmFuaW1hdGlvblN0YXRlLm5leHQoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uU3RhdGUuZmluaXNoZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRvUGVnLnB1c2hEaXNrKHRoaXMuZGlzayk7XG4gICAgICAgICAgICAgICAgYW5pbWF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuZmluaXNoZWRDYWxsYmFjaygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIGRyYXdTY2VuZShudWxsLCAoY3R4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzay5kcmF3KGN0eCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RGcmFtZSA9IHRpbWVzdGFtcDtcbiAgICAgICAgICAgICAgICBpZiAoYW5pbWF0ZSkge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCh0cykgPT4gdGhpcy51cGRhdGUodHMpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSBwZWdzIGFuZCBkaXNrcy4gQWxzbyB1c2VkIHRvIHJlc2V0IHRoaW5ncy5cbiAgICAgKi9cbiAgICBjb25zdCBpbml0aWFsaXplUGVncyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcGVncyA9IFtcbiAgICAgICAgICAgIG5ldyBQZWcoJ0EnLCAxMDAsIDI1MCwgW1xuICAgICAgICAgICAgICAgIG5ldyBEaXNrKDEwMCwgMjMwLCA1LCAncHVycGxlJyksXG4gICAgICAgICAgICAgICAgbmV3IERpc2soMTAwLCAyMTAsIDQsICdibHVlJyksXG4gICAgICAgICAgICAgICAgbmV3IERpc2soMTAwLCAxOTAsIDMsICdncmVlbicpLFxuICAgICAgICAgICAgICAgIG5ldyBEaXNrKDEwMCwgMTcwLCAyLCAnb3JhbmdlJyksXG4gICAgICAgICAgICAgICAgbmV3IERpc2soMTAwLCAxNTAsIDEsICdyZWQnKSxcbiAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgbmV3IFBlZygnQicsIDMwMCwgMjUwLCBbXSksXG4gICAgICAgICAgICBuZXcgUGVnKCdDJywgNTAwLCAyNTAsIFtdKSxcbiAgICAgICAgXTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IGV2ZXJ5dGhpbmcgdXAgc3VjaCBhcyBldmVudCBoYW5kbGVycyBhbmQgdGhlIGNhbnZhc1xuICAgICAqL1xuICAgIGNvbnN0IGluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRBbmltYXRpb25UZXh0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCdQcmVzcyB0aGUgR28gYnV0dG9uIHRvIGJlZ2luOicpKTtcbiAgICAgICAgaW5pdGlhbGl6ZVBlZ3MoKTtcblxuICAgICAgICBjb25zdCBhbmltYXRlQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FuaW1hdGVCdXR0b24nKTtcbiAgICAgICAgYW5pbWF0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGFuaW1hdGVCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAvLyBjYWxsIHRoZSBhbGdvcml0aG0gdG8gZ2V0IHRoZSBsaXN0IG9mIHRhc2tzXG4gICAgICAgICAgICAvLyB0aGUgdGFza3MgdGFrZSBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgcnVucyB3aGVuIGl0IGNvbXBsZXRlc1xuICAgICAgICAgICAgY29uc3QgdGFza3MgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IGdlbiA9IHNvbHZlKHBlZ3NbMF0uZGlza3MubGVuZ3RoLCBwZWdzWzBdLCBwZWdzWzJdLCBwZWdzWzFdLCB0YXNrcyk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNhbGxUYXNrID0gZnVuY3Rpb24gKGNhbmNlbGxlZCwgdGFzaykge1xuICAgICAgICAgICAgICAgIGlmICh0YXNrLmRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gd2UncmUgZmluaXNoZWQgbm93XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZHJhd1NjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEFuaW1hdGlvblRleHQucmVwbGFjZUNoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCdBbGwgZmluaXNoZWQuIFByZXNzIHJlc2V0IHRvIHN0YXJ0IG92ZXI6JyksIGN1cnJlbnRBbmltYXRpb25UZXh0Lmxhc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYW5jZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRhc2sudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJvbVBlZyA9IHRhc2sudmFsdWUuc291cmNlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b1BlZyA9IHRhc2sudmFsdWUudGFyZ2V0O1xuXG4gICAgICAgICAgICAgICAgICAgIGRpc2tNb3ZlciA9IG5ldyBEaXNrTW92ZXIoZnJvbVBlZywgdG9QZWcpO1xuICAgICAgICAgICAgICAgICAgICBkaXNrTW92ZXIubW92ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsVGFzayhjYW5jZWwsIGdlbi5uZXh0KCkpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIGNhbGwgdGhlIG5leHQgdGFza1xuICAgICAgICAgICAgY2FsbFRhc2soY2FuY2VsLCBnZW4ubmV4dCgpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcmVzZXRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzZXRCdXR0b24nKTtcbiAgICAgICAgcmVzZXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjYW5jZWwgPSB0cnVlO1xuICAgICAgICAgICAgY3VycmVudEFuaW1hdGlvblRleHQucmVwbGFjZUNoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCdSZXNldHRpbmcnKSwgY3VycmVudEFuaW1hdGlvblRleHQubGFzdENoaWxkKTtcbiAgICAgICAgICAgIGlmIChkaXNrTW92ZXIpIHtcbiAgICAgICAgICAgICAgICBkaXNrTW92ZXIuY2FuY2VsKCk7XG4gICAgICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50QW5pbWF0aW9uVGV4dC5yZXBsYWNlQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJ1ByZXNzIHRoZSBHbyBidXR0b24gdG8gYmVnaW46JyksIGN1cnJlbnRBbmltYXRpb25UZXh0Lmxhc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxpemVQZWdzKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gZHJhdyBvbmUgZnJhbWUgYWZ0ZXIgYSByZXNldFxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGRyYXdTY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIGNhbmNlbCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBzcGVlZFNsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcGVlZFNsaWRlcicpO1xuICAgICAgICBzcGVlZFNsaWRlci5vbmlucHV0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3BlZWQgPSBwYXJzZUludChzcGVlZFNsaWRlci52YWx1ZSwgMTApO1xuICAgICAgICAgICAgaWYgKGRpc2tNb3Zlcikge1xuICAgICAgICAgICAgICAgIGRpc2tNb3Zlci5zcGVlZCA9IHNwZWVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBzcGVlZCA9IHBhcnNlSW50KHNwZWVkU2xpZGVyLnZhbHVlLCAxMCk7XG4gICAgICAgIGlmIChkaXNrTW92ZXIpIHtcbiAgICAgICAgICAgIGRpc2tNb3Zlci5zcGVlZCA9IHNwZWVkO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZHJhdyBvbmUgZnJhbWUgdG8gYmVnaW4gd2l0aFxuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGRyYXdTY2VuZSk7XG4gICAgfTtcblxuICAgIGluaXRpYWxpemUoKTtcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9